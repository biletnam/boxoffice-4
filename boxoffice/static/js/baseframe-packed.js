/* ========================================================================
 * Bootstrap: transition.js v3.3.1
 * http://getbootstrap.com/javascript/#transitions
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
function activate_widgets(){navigator.userAgent.match(/(iPod|iPad|iPhone|Android)/)||$("select:not(.notselect)").select2({allowClear:!0});var t={mode:"gfm",lineNumbers:!1,theme:"default",lineWrapping:!0,autoCloseBrackets:!0,viewportMargin:1/0,extraKeys:{Enter:"newlineAndIndentContinueMarkdownList",Tab:!1,"Shift-Tab":!1,Home:"goLineLeft",End:"goLineRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight"}},e={mode:"css",lineNumbers:!1,theme:"default",lineWrapping:!0,autoCloseBrackets:!0,matchBrackets:!0,viewportMargin:1/0,extraKeys:{Tab:!1,"Shift-Tab":!1,Home:"goLineLeft",End:"goLineRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight"}};$("textarea.markdown").each(function(){var e,n=CodeMirror.fromTextArea(this,t);n.on("change",function(){clearTimeout(e),e=setTimeout(function(){n.save()},300)})}),$("textarea.stylesheet").each(function(){var t,n=CodeMirror.fromTextArea(this,e);n.on("change",function(){clearTimeout(t),t=setTimeout(function(){n.save()},300)})}),$("input.datetime-time").timepicker({scrollDefaultNow:!0,timeFormat:"H:i"})}function radioHighlight(t,e){var n="input[name='"+t+"']";$(n+":checked").parent().addClass(e);var i=function(){$(n).parent().removeClass(e),$(n+":checked").parent().addClass(e)};$(n).change(i),$(n).click(i)}function activate_geoname_autocomplete(t,e,n,i){$(t).select2({placeholder:"Search for a location",multiple:!0,minimumInputLength:2,ajax:{url:e,dataType:"jsonp",data:function(t){return{q:t}},results:function(t){var e=[];if(t.status=="ok")for(var n=0;t.result.length>n;n++)e.push({id:t.result[n].geonameid,text:t.result[n].picker_title});return{more:!1,results:e}}},initSelection:function(t,e){var r=$(t).val();if(r!==""){var s="?name="+r.replace(i,"&name=");$.ajax(n+s,{accepts:"application/json",dataType:"jsonp"}).done(function(n){$(t).val("");var i=[];if(n.status=="ok")for(var r=0;n.result.length>r;r++)i.push({id:n.result[r].geonameid,text:n.result[r].picker_title});e(i)})}}})}+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(t.style[n]!==void 0)return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var n=t(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),typeof e=="string"&&r[e].call(n)})}var n='[data-dismiss="alert"]',i=function(e){t(e).on("click",n,this.close)};i.VERSION="3.3.1",i.TRANSITION_DURATION=150,i.prototype.close=function(e){function n(){o.detach().trigger("closed.bs.alert").remove()}var r=t(this),s=r.attr("data-target");s||(s=r.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=r.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=r,this},t(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.button"),s=typeof e=="object"&&e;r||i.data("bs.button",r=new n(this,s)),e=="toggle"?r.toggle():e&&r.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.1",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",s=i.data();e+="Text",s.resetText==null&&i.data("resetText",i[r]()),setTimeout(t.proxy(function(){i[r](s[e]==null?this.options[e]:s[e]),e=="loadingText"?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?t=!1:e.find(".active").removeClass("active")),t&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));t&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target);i.hasClass("btn")||(i=i.closest(".btn")),e.call(i,"toggle"),n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),s=t.extend({},n.DEFAULTS,i.data(),typeof e=="object"&&e),o=typeof e=="string"?e:s.slide;r||i.data("bs.carousel",r=new n(this,s)),typeof e=="number"?r.to(e):o?r[o]():s.interval&&r.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),this.options.pause=="hover"&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=t=="prev"?-1:1,i=this.getItemIndex(e),r=(i+n)%this.$items.length;return this.$items.eq(r)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(e,i){var r=this.$element.find(".item.active"),s=i||this.getItemForDirection(e,r),o=this.interval,a=e=="next"?"left":"right",l=e=="next"?"first":"last",c=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[l]()}if(s.hasClass("active"))return this.sliding=!1;var h=s[0],u=t.Event("slide.bs.carousel",{relatedTarget:h,direction:a});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(s)]);d&&d.addClass("active")}var f=t.Event("slid.bs.carousel",{relatedTarget:h,direction:a});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass(e),s[0].offsetWidth,r.addClass(a),s.addClass(a),r.one("bsTransitionEnd",function(){s.removeClass([e,a].join(" ")).addClass("active"),r.removeClass(["active",a].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger(f)),o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var r=function(n){var i,r=t(this),s=t(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("carousel")){var o=t.extend({},s.data(),r.data()),a=r.attr("data-slide-to");a&&(o.interval=!1),e.call(s,o),a&&s.data("bs.carousel").to(a),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),+function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),r=n.data("bs.collapse"),s=t.extend({},i.DEFAULTS,n.data(),typeof e=="object"&&e);!r&&s.toggle&&e=="show"&&(s.toggle=!1),r||n.data("bs.collapse",r=new i(this,s)),typeof e=="string"&&r[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t(this.options.trigger).filter('[href="#'+e.id+'"], [data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.1",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},i.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,r=this.$parent&&this.$parent.find("> .panel").children(".in, .collapsing");if(!(r&&r.length&&(e=r.data("bs.collapse"),e&&e.transitioning))){var s=t.Event("show.bs.collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),e||r.data("bs.collapse",null));var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var a=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return a.call(this);var l=t.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",t.proxy(a,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[o](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?(this.$element[n](0).one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION),void 0):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var r=t(i);this.addAriaAndCollapsedClass(e(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=r,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=t(this);r.attr("data-target")||i.preventDefault();var s=e(r),o=s.data("bs.collapse"),a=o?"toggle":t.extend({},r.data(),{trigger:this});n.call(s,a)})}(jQuery),+function(t){"use strict";function e(e){e&&e.which===3||(t(r).remove(),t(s).each(function(){var i=t(this),r=n(i),s={relatedTarget:this};r.hasClass("open")&&(r.trigger(e=t.Event("hide.bs.dropdown",s)),e.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",s)))}))}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function i(e){return this.each(function(){var n=t(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new o(this)),typeof e=="string"&&i[e].call(n)})}var r=".dropdown-backdrop",s='[data-toggle="dropdown"]',o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.VERSION="3.3.1",o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var s=n(r),o=s.hasClass("open");if(e(),!o){"ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e);var a={relatedTarget:this};if(s.trigger(i=t.Event("show.bs.dropdown",a)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),s.toggleClass("open").trigger("shown.bs.dropdown",a)}return!1}},o.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var r=n(i),o=r.hasClass("open");if(!o&&e.which!=27||o&&e.which==27)return e.which==27&&r.find(s).trigger("focus"),i.trigger("click");var a=" li:not(.divider):visible a",l=r.find('[role="menu"]'+a+', [role="listbox"]'+a);if(l.length){var c=l.index(e.target);e.which==38&&c>0&&c--,e.which==40&&l.length-1>c&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=i,t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s,o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',o.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',o.prototype.keydown)}(jQuery),+function(t){"use strict";function e(e,i){return this.each(function(){var r=t(this),s=r.data("bs.modal"),o=t.extend({},n.DEFAULTS,r.data(),typeof e=="object"&&e);s||r.data("bs.modal",s=new n(this,o)),typeof e=="string"?s[e](i):o.show&&s.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.1",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,r=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var r=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.options.backdrop&&i.adjustBackdrop(),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});r?i.$element.find(".modal-dialog").one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){t.which==27&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&r;if(this.$backdrop=t('<div class="modal-backdrop '+r+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",t.proxy(function(t){t.target===t.currentTarget&&(this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},n.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},n.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),r=i.attr("href"),s=t(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(r)&&r},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,o,this)})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),s=typeof e=="object"&&e,o=s&&s.selector;(r||e!="destroy")&&(o?(r||i.data("bs.tooltip",r={}),r[o]||(r[o]=new n(this,s))):r||i.data("bs.tooltip",r=new n(this,s)),typeof e=="string"&&r[e]())})}var n=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(this.options.viewport.selector||this.options.viewport);for(var r=this.options.trigger.split(" "),s=r.length;s--;){var o=r[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if(o!="manual"){var a=o=="hover"?"mouseenter":"focusin",l=o=="hover"?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),e},n.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},n.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n&&n.$tip&&n.$tip.is(":visible")?(n.hoverState="in",void 0):(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show),void 0):n.show())},n.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!i)return;var r=this,s=this.tip(),o=this.getUID(this.type);this.setContent(),s.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&s.addClass("fade");var a=typeof this.options.placement=="function"?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element);var h=this.getPosition(),u=s[0].offsetWidth,d=s[0].offsetHeight;if(c){var f=a,p=this.options.container?t(this.options.container):this.$element.parent(),m=this.getPosition(p);a=a=="bottom"&&h.bottom+d>m.bottom?"top":a=="top"&&m.top>h.top-d?"bottom":a=="right"&&h.right+u>m.width?"left":a=="left"&&m.left>h.left-u?"right":a,s.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,h,u,d);this.applyPlacement(g,a);var v=function(){var t=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,t=="out"&&r.leave(r)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(n.TRANSITION_DURATION):v()}},n.prototype.applyPlacement=function(e,n){var i=this.tip(),r=i[0].offsetWidth,s=i[0].offsetHeight,o=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top=e.top+o,e.left=e.left+a,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;n=="top"&&c!=s&&(e.top=e.top+s-c);var h=this.getViewportAdjustedDelta(n,e,l,c);h.left?e.left+=h.left:e.top+=h.top;var u=/top|bottom/.test(n),d=u?h.left*2-r+l:h.top*2-s+c,f=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(d,i[0][f],u)},n.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},n.prototype.hide=function(e){function i(){r.hoverState!="in"&&s.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),e&&e()}var r=this,s=this.tip(),o=t.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(s.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||typeof t.attr("data-original-title")!="string")&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(e){e=e||this.$element;var n=e[0],i=n.tagName=="BODY",r=n.getBoundingClientRect();r.width==null&&(r=t.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var s=i?{top:0,left:0}:e.offset(),o={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},r,o,a,s)},n.prototype.getCalculatedOffset=function(t,e,n,i){return t=="bottom"?{top:e.top+e.height,left:e.left+e.width/2-n/2}:t=="top"?{top:e.top-i,left:e.left+e.width/2-n/2}:t=="left"?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},n.prototype.getViewportAdjustedDelta=function(t,e,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var s=this.options.viewport&&this.options.viewport.padding||0,o=this.getPosition(this.$viewport);if(/right|left/.test(t)){var a=e.top-s-o.scroll,l=e.top+s-o.scroll+i;o.top>a?r.top=o.top-a:l>o.top+o.height&&(r.top=o.top+o.height-l)}else{var c=e.left-s,h=e.left+s+n;o.left>c?r.left=o.left-c:h>o.width&&(r.left=o.left+o.width-h)}return r},n.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||(typeof n.title=="function"?n.title.call(e[0]):n.title)},n.prototype.getUID=function(t){do t+=~~(Math.random()*1e6);while(document.getElementById(t));return t},n.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(e){var n=this;e&&(n=t(e.currentTarget).data("bs."+this.type),n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type)})};var i=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=n,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.popover"),s=typeof e=="object"&&e,o=s&&s.selector;(r||e!="destroy")&&(o?(r||i.data("bs.popover",r={}),r[o]||(r[o]=new n(this,s))):r||i.data("bs.popover",r=new n(this,s)),typeof e=="string"&&r[e]())})}var n=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw Error("Popover requires tooltip.js");n.VERSION="3.3.1",n.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content").children().detach().end()[this.options.html?typeof n=="string"?"html":"append":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||(typeof e.content=="function"?e.content.call(t[0]):e.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=e,t.fn.popover.Constructor=n,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(n,i){var r=t.proxy(this.process,this);this.$body=t("body"),this.$scrollElement=t(n).is("body")?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",r),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),s=typeof n=="object"&&n;r||i.data("bs.scrollspy",r=new e(this,s)),typeof n=="string"&&r[n]()})}e.VERSION="3.3.1",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e="offset",n=0;t.isWindow(this.$scrollElement[0])||(e="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var i=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),s=/^#./.test(r)&&t(r);return s&&s.length&&s.is(":visible")&&[[s[e]().top+n,r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,s=this.targets,o=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return o!=(t=s[s.length-1])&&this.activate(t);if(o&&r[0]>e)return this.activeTarget=null,this.clear();for(t=r.length;t--;)o!=s[t]&&e>=r[t]&&(!r[t+1]||r[t+1]>=e)&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this
},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),typeof e=="string"&&r[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.1",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),o=t.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(s),e.trigger(o),!o.isDefaultPrevented()&&!s.isDefaultPrevented()){var a=t(i);this.activate(e.closest("li"),n),this.activate(a,a.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(e,i,r){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var o=i.find("> .active"),a=r&&t.support.transition&&(o.length&&o.hasClass("fade")||!!i.find("> .fade").length);o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var r=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(t){"use strict";function e(e){return this.each(function(){var i=t(this),r=i.data("bs.affix"),s=typeof e=="object"&&e;r||i.data("bs.affix",r=new n(this,s)),typeof e=="string"&&r[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.1",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var r=this.$target.scrollTop(),s=this.$element.offset(),o=this.$target.height();if(n!=null&&this.affixed=="top")return n>r?"top":!1;if(this.affixed=="bottom")return n!=null?s.top>=r+this.unpin?!1:"bottom":t-i>=r+o?!1:"bottom";var a=this.affixed==null,l=a?r:s.top,c=a?o:e;return n!=null&&n>=l?"top":i!=null&&l+c>=t-i?"bottom":!1},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,r=i.top,s=i.bottom,o=t("body").height();typeof i!="object"&&(s=r=i),typeof r=="function"&&(r=i.top(this.$element)),typeof s=="function"&&(s=i.bottom(this.$element));var a=this.getState(o,e,r,s);if(this.affixed!=a){this.unpin!=null&&this.$element.css("top","");var l="affix"+(a?"-"+a:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=a,this.unpin=a=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}a=="bottom"&&this.$element.offset({top:o-e-s})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},i.offsetBottom!=null&&(i.offset.bottom=i.offsetBottom),i.offsetTop!=null&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t){function e(e){var n=e.data;e.isDefaultPrevented()||(e.preventDefault(),t(this).ajaxSubmit(n))}function n(e){var n=e.target,i=t(n);if(!i.is(":submit,input:image")){var r=i.closest(":submit");if(r.length==0)return;n=r[0]}var s=this;if(s.clk=n,n.type=="image")if(e.offsetX!=void 0)s.clk_x=e.offsetX,s.clk_y=e.offsetY;else if(typeof t.fn.offset=="function"){var o=i.offset();s.clk_x=e.pageX-o.left,s.clk_y=e.pageY-o.top}else s.clk_x=e.pageX-n.offsetLeft,s.clk_y=e.pageY-n.offsetTop;setTimeout(function(){s.clk=s.clk_x=s.clk_y=null},100)}function i(){if(t.fn.ajaxSubmit.debug){var e="[jquery.form] "+Array.prototype.join.call(arguments,"");window.console&&window.console.log?window.console.log(e):window.opera&&window.opera.postError&&window.opera.postError(e)}}t.fn.ajaxSubmit=function(e){function n(n){for(var i=new FormData,r=0;n.length>r;r++)n[r].type!="file"&&i.append(n[r].name,n[r].value);if(l.find("input:file:enabled").each(function(){var e=t(this).attr("name"),n=this.files;if(e)for(var r=0;n.length>r;r++)i.append(e,n[r])}),e.extraData)for(var s in e.extraData)i.append(s,e.extraData[s]);e.data=null;var o=t.extend(!0,{},t.ajaxSettings,e,{contentType:!1,processData:!1,cache:!1,type:"POST"});o.data=null;var a=o.beforeSend;o.beforeSend=function(t,n){n.data=i,t.upload&&(t.upload.onprogress=function(t){n.progress(t.position,t.total)}),a&&a.call(n,t,e)},t.ajax(o)}function r(n){function r(t){var e=t.contentWindow?t.contentWindow.document:t.contentDocument?t.contentDocument:t.document;return e}function o(){function e(){try{var t=r(m).readyState;i("state = "+t),t.toLowerCase()=="uninitialized"&&setTimeout(e,50)}catch(n){i("Server abort: ",n," (",n.name,")"),a(C),w&&clearTimeout(w),w=void 0}}var n=l.attr("target"),o=l.attr("action");x.setAttribute("target",f),s||x.setAttribute("method","POST"),o!=u.url&&x.setAttribute("action",u.url),u.skipEncodingOverride||s&&!/post/i.test(s)||l.attr({encoding:"multipart/form-data",enctype:"multipart/form-data"}),u.timeout&&(w=setTimeout(function(){y=!0,a(T)},u.timeout));var c=[];try{if(u.extraData)for(var h in u.extraData)c.push(t('<input type="hidden" name="'+h+'">').attr("value",u.extraData[h]).appendTo(x)[0]);u.iframeTarget||(p.appendTo("body"),m.attachEvent?m.attachEvent("onload",a):m.addEventListener("load",a,!1)),setTimeout(e,15),x.submit()}finally{x.setAttribute("action",o),n?x.setAttribute("target",n):l.removeAttr("target"),t(c).remove()}}function a(e){if(!g.aborted&&!O){try{A=r(m)}catch(n){i("cannot access response document: ",n),e=C}if(e===T&&g)return g.abort("timeout"),void 0;if(e==C&&g)return g.abort("server abort"),void 0;if(A&&A.location.href!=u.iframeSrc||y){m.detachEvent?m.detachEvent("onload",a):m.removeEventListener("load",a,!1);var s,o="success";try{if(y)throw"timeout";var l=u.dataType=="xml"||A.XMLDocument||t.isXMLDoc(A);if(i("isXml="+l),!l&&window.opera&&(A.body==null||A.body.innerHTML=="")&&--$)return i("requeing onLoad callback, DOM not available"),setTimeout(a,250),void 0;var c=A.body?A.body:A.documentElement;g.responseText=c?c.innerHTML:null,g.responseXML=A.XMLDocument?A.XMLDocument:A,l&&(u.dataType="xml"),g.getResponseHeader=function(t){var e={"content-type":u.dataType};return e[t]},c&&(g.status=Number(c.getAttribute("status"))||g.status,g.statusText=c.getAttribute("statusText")||g.statusText);var h=(u.dataType||"").toLowerCase(),f=/(json|script|text)/.test(h);if(f||u.textarea){var v=A.getElementsByTagName("textarea")[0];if(v)g.responseText=v.value,g.status=Number(v.getAttribute("status"))||g.status,g.statusText=v.getAttribute("statusText")||g.statusText;else if(f){var b=A.getElementsByTagName("pre")[0],x=A.getElementsByTagName("body")[0];b?g.responseText=b.textContent?b.textContent:b.innerText:x&&(g.responseText=x.textContent?x.textContent:x.innerText)}}else h!="xml"||g.responseXML||g.responseText==null||(g.responseXML=D(g.responseText));try{_=R(g,h,u)}catch(e){o="parsererror",g.error=s=e||o}}catch(e){i("error caught: ",e),o="error",g.error=s=e||o}g.aborted&&(i("upload aborted"),o=null),g.status&&(o=g.status>=200&&300>g.status||g.status===304?"success":"error"),o==="success"?(u.success&&u.success.call(u.context,_,"success",g),d&&t.event.trigger("ajaxSuccess",[g,u])):o&&(s==void 0&&(s=g.statusText),u.error&&u.error.call(u.context,g,o,s),d&&t.event.trigger("ajaxError",[g,u,s])),d&&t.event.trigger("ajaxComplete",[g,u]),d&&!--t.active&&t.event.trigger("ajaxStop"),u.complete&&u.complete.call(u.context,g,o),O=!0,u.timeout&&clearTimeout(w),setTimeout(function(){u.iframeTarget||p.remove(),g.responseXML=null},100)}}}var c,h,u,d,f,p,m,g,v,b,y,w,x=l[0],k=!!t.fn.prop;if(n)if(k)for(h=0;n.length>h;h++)c=t(x[n[h].name]),c.prop("disabled",!1);else for(h=0;n.length>h;h++)c=t(x[n[h].name]),c.removeAttr("disabled");if(t(":input[name=submit],:input[id=submit]",x).length)return alert('Error: Form elements must not have name or id of "submit".'),void 0;if(u=t.extend(!0,{},t.ajaxSettings,e),u.context=u.context||u,f="jqFormIO"+(new Date).getTime(),u.iframeTarget?(p=t(u.iframeTarget),b=p.attr("name"),b==null?p.attr("name",f):f=b):(p=t('<iframe name="'+f+'" src="'+u.iframeSrc+'" />'),p.css({position:"absolute",top:"-1000px",left:"-1000px"})),m=p[0],g={aborted:0,responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){},abort:function(e){var n=e==="timeout"?"timeout":"aborted";i("aborting upload... "+n),this.aborted=1,p.attr("src",u.iframeSrc),g.error=n,u.error&&u.error.call(u.context,g,n,e),d&&t.event.trigger("ajaxError",[g,u,n]),u.complete&&u.complete.call(u.context,g,n)}},d=u.global,d&&!t.active++&&t.event.trigger("ajaxStart"),d&&t.event.trigger("ajaxSend",[g,u]),u.beforeSend&&u.beforeSend.call(u.context,g,u)===!1)return u.global&&t.active--,void 0;if(!g.aborted){v=x.clk,v&&(b=v.name,b&&!v.disabled&&(u.extraData=u.extraData||{},u.extraData[b]=v.value,v.type=="image"&&(u.extraData[b+".x"]=x.clk_x,u.extraData[b+".y"]=x.clk_y)));var T=1,C=2,S=t("meta[name=csrf-token]").attr("content"),E=t("meta[name=csrf-param]").attr("content");E&&S&&(u.extraData=u.extraData||{},u.extraData[E]=S),u.forceSync?o():setTimeout(o,10);var _,A,O,$=50,D=t.parseXML||function(t,e){return window.ActiveXObject?(e=new ActiveXObject("Microsoft.XMLDOM"),e.async="false",e.loadXML(t)):e=(new DOMParser).parseFromString(t,"text/xml"),e&&e.documentElement&&e.documentElement.nodeName!="parsererror"?e:null},P=t.parseJSON||function(t){return window.eval("("+t+")")},R=function(e,n,i){var r=e.getResponseHeader("content-type")||"",s=n==="xml"||!n&&r.indexOf("xml")>=0,o=s?e.responseXML:e.responseText;return s&&o.documentElement.nodeName==="parsererror"&&t.error&&t.error("parsererror"),i&&i.dataFilter&&(o=i.dataFilter(o,n)),typeof o=="string"&&(n==="json"||!n&&r.indexOf("json")>=0?o=P(o):(n==="script"||!n&&r.indexOf("javascript")>=0)&&t.globalEval(o)),o}}}if(!this.length)return i("ajaxSubmit: skipping submit process - no element selected"),this;var s,o,a,l=this;typeof e=="function"&&(e={success:e}),s=this.attr("method"),o=this.attr("action"),a=typeof o=="string"?t.trim(o):"",a=a||window.location.href||"",a&&(a=(a.match(/^([^#]+)/)||[])[1]),e=t.extend(!0,{url:a,success:t.ajaxSettings.success,type:s||"GET",iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank"},e);var c={};if(this.trigger("form-pre-serialize",[this,e,c]),c.veto)return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"),this;if(e.beforeSerialize&&e.beforeSerialize(this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSerialize callback"),this;var h=e.traditional;h===void 0&&(h=t.ajaxSettings.traditional);var u,d=this.formToArray(e.semantic);if(e.data&&(e.extraData=e.data,u=t.param(e.data,h)),e.beforeSubmit&&e.beforeSubmit(d,this,e)===!1)return i("ajaxSubmit: submit aborted via beforeSubmit callback"),this;if(this.trigger("form-submit-validate",[d,this,e,c]),c.veto)return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"),this;var f=t.param(d,h);u&&(f=f?f+"&"+u:u),e.type.toUpperCase()=="GET"?(e.url+=(e.url.indexOf("?")>=0?"&":"?")+f,e.data=null):e.data=f;var p=[];if(e.resetForm&&p.push(function(){l.resetForm()}),e.clearForm&&p.push(function(){l.clearForm(e.includeHidden)}),!e.dataType&&e.target){var m=e.success||function(){};p.push(function(n){var i=e.replaceTarget?"replaceWith":"html";t(e.target)[i](n).each(m,arguments)})}else e.success&&p.push(e.success);e.success=function(t,n,i){for(var r=e.context||e,s=0,o=p.length;o>s;s++)p[s].apply(r,[t,n,i||l,l])};var g=t("input:file:enabled[value]",this),v=g.length>0,b="multipart/form-data",y=l.attr("enctype")==b||l.attr("encoding")==b,w=!!(v&&g.get(0).files&&window.FormData);i("fileAPI :"+w);var x=(v||y)&&!w;return e.iframe!==!1&&(e.iframe||x)?e.closeKeepAlive?t.get(e.closeKeepAlive,function(){r(d)}):r(d):(v||y)&&w?(e.progress=e.progress||t.noop,n(d)):t.ajax(e),this.trigger("form-submit-notify",[this,e]),this},t.fn.ajaxForm=function(r){if(r=r||{},r.delegation=r.delegation&&t.isFunction(t.fn.on),!r.delegation&&this.length===0){var s={s:this.selector,c:this.context};return!t.isReady&&s.s?(i("DOM not ready, queuing ajaxForm"),t(function(){t(s.s,s.c).ajaxForm(r)}),this):(i("terminating; zero elements found by selector"+(t.isReady?"":" (DOM not ready)")),this)}return r.delegation?(t(document).off("submit.form-plugin",this.selector,e).off("click.form-plugin",this.selector,n).on("submit.form-plugin",this.selector,r,e).on("click.form-plugin",this.selector,r,n),this):this.ajaxFormUnbind().bind("submit.form-plugin",r,e).bind("click.form-plugin",r,n)},t.fn.ajaxFormUnbind=function(){return this.unbind("submit.form-plugin click.form-plugin")},t.fn.formToArray=function(e){var n=[];if(this.length===0)return n;var i=this[0],r=e?i.getElementsByTagName("*"):i.elements;if(!r)return n;var s,o,a,l,c,h,u;for(s=0,h=r.length;h>s;s++)if(c=r[s],a=c.name)if(e&&i.clk&&c.type=="image")c.disabled||i.clk!=c||(n.push({name:a,value:t(c).val(),type:c.type}),n.push({name:a+".x",value:i.clk_x},{name:a+".y",value:i.clk_y}));else if(l=t.fieldValue(c,!0),l&&l.constructor==Array)for(o=0,u=l.length;u>o;o++)n.push({name:a,value:l[o]});else l!==null&&l!==void 0&&n.push({name:a,value:l,type:c.type});if(!e&&i.clk){var d=t(i.clk),f=d[0];a=f.name,a&&!f.disabled&&f.type=="image"&&(n.push({name:a,value:d.val()}),n.push({name:a+".x",value:i.clk_x},{name:a+".y",value:i.clk_y}))}return n},t.fn.formSerialize=function(e){return t.param(this.formToArray(e))},t.fn.fieldSerialize=function(e){var n=[];return this.each(function(){var i=this.name;if(i){var r=t.fieldValue(this,e);if(r&&r.constructor==Array)for(var s=0,o=r.length;o>s;s++)n.push({name:i,value:r[s]});else r!==null&&r!==void 0&&n.push({name:this.name,value:r})}}),t.param(n)},t.fn.fieldValue=function(e){for(var n=[],i=0,r=this.length;r>i;i++){var s=this[i],o=t.fieldValue(s,e);o===null||o===void 0||o.constructor==Array&&!o.length||(o.constructor==Array?t.merge(n,o):n.push(o))}return n},t.fieldValue=function(e,n){var i=e.name,r=e.type,s=e.tagName.toLowerCase();if(n===void 0&&(n=!0),n&&(!i||e.disabled||r=="reset"||r=="button"||(r=="checkbox"||r=="radio")&&!e.checked||(r=="submit"||r=="image")&&e.form&&e.form.clk!=e||s=="select"&&e.selectedIndex==-1))return null;if(s=="select"){var o=e.selectedIndex;if(0>o)return null;for(var a=[],l=e.options,c=r=="select-one",h=c?o+1:l.length,u=c?o:0;h>u;u++){var d=l[u];if(d.selected){var f=d.value;if(f||(f=d.attributes&&d.attributes.value&&!d.attributes.value.specified?d.text:d.value),c)return f;a.push(f)}}return a}return t(e).val()},t.fn.clearForm=function(e){return this.each(function(){t("input,select,textarea",this).clearFields(e)})},t.fn.clearFields=t.fn.clearInputs=function(t){var e=/^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i;return this.each(function(){var n=this.type,i=this.tagName.toLowerCase();e.test(n)||i=="textarea"||t&&/hidden/.test(n)?this.value="":n=="checkbox"||n=="radio"?this.checked=!1:i=="select"&&(this.selectedIndex=-1)})},t.fn.resetForm=function(){return this.each(function(){(typeof this.reset=="function"||typeof this.reset=="object"&&!this.reset.nodeType)&&this.reset()})},t.fn.enable=function(t){return t===void 0&&(t=!0),this.each(function(){this.disabled=!t})},t.fn.selected=function(e){return e===void 0&&(e=!0),this.each(function(){var n=this.type;if(n=="checkbox"||n=="radio")this.checked=e;else if(this.tagName.toLowerCase()=="option"){var i=t(this).parent("select");e&&i[0]&&i[0].type=="select-one"&&i.find("option").selected(!1),this.selected=e}})},t.fn.ajaxSubmit.debug=!1}(jQuery),function(t){typeof exports=="object"&&exports&&typeof module=="object"&&module&&module.exports===exports?t(require("jquery")):typeof define=="function"&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){function e(t){var e=t[0];return e.offsetWidth>0&&e.offsetHeight>0}function n(e){if(e.minTime&&(e.minTime=y(e.minTime)),e.maxTime&&(e.maxTime=y(e.maxTime)),e.durationTime&&typeof e.durationTime!="function"&&(e.durationTime=y(e.durationTime)),e.scrollDefault=="now"?e.scrollDefault=y(new Date):e.scrollDefault?e.scrollDefault=y(e.scrollDefault):e.minTime&&(e.scrollDefault=e.minTime),e.scrollDefault&&(e.scrollDefault=e.roundingFunction(e.scrollDefault,e)),t.type(e.timeFormat)==="string"&&e.timeFormat.match(/[gh]/)&&(e._twelveHourTime=!0),e.disableTimeRanges.length>0){for(var n in e.disableTimeRanges)e.disableTimeRanges[n]=[y(e.disableTimeRanges[n][0]),y(e.disableTimeRanges[n][1])];e.disableTimeRanges=e.disableTimeRanges.sort(function(t,e){return t[0]-e[0]});for(var n=e.disableTimeRanges.length-1;n>0;n--)e.disableTimeRanges[n-1][1]>=e.disableTimeRanges[n][0]&&(e.disableTimeRanges[n-1]=[Math.min(e.disableTimeRanges[n][0],e.disableTimeRanges[n-1][0]),Math.max(e.disableTimeRanges[n][1],e.disableTimeRanges[n-1][1])],e.disableTimeRanges.splice(n,1))}return e}function i(e){var n=e.data("timepicker-settings"),i=e.data("timepicker-list");if(i&&i.length&&(i.remove(),e.data("timepicker-list",!1)),n.useSelect){i=t("<select />",{"class":"ui-timepicker-select"});var o=i}else{i=t("<ul />",{"class":"ui-timepicker-list"});var o=t("<div />",{"class":"ui-timepicker-wrapper",tabindex:-1});o.css({display:"none",position:"absolute"}).append(i)}if(n.noneOption)if(n.noneOption===!0&&(n.noneOption=n.useSelect?"Time...":"None"),t.isArray(n.noneOption)){for(var a in n.noneOption)if(parseInt(a,10)==a){var c=r(n.noneOption[a],n.useSelect);i.append(c)}}else{var c=r(n.noneOption,n.useSelect);i.append(c)}n.className&&o.addClass(n.className),n.minTime===null&&n.durationTime===null||!n.showDuration||(typeof n.step=="function"?"function":n.step,o.addClass("ui-timepicker-with-duration"),o.addClass("ui-timepicker-step-"+n.step));var u=n.minTime;typeof n.durationTime=="function"?u=y(n.durationTime()):n.durationTime!==null&&(u=n.durationTime);var d=n.minTime!==null?n.minTime:0,p=n.maxTime!==null?n.maxTime:d+x-1;d>p&&(p+=x),p===x-1&&t.type(n.timeFormat)==="string"&&n.show2400&&(p=x);var m=n.disableTimeRanges,w=0,k=m.length,C=n.step;typeof C!="function"&&(C=function(){return n.step});for(var a=d,S=0;p>=a;S++,a+=C(S)*60){var E=a,_=b(E,n);if(n.useSelect){var A=t("<option />",{value:_});A.text(_)}else{var A=t("<li />");A.data("time",86400>=E?E:E%86400),A.text(_)}if((n.minTime!==null||n.durationTime!==null)&&n.showDuration){var O=v(a-u,n.step);if(n.useSelect)A.text(A.text()+" ("+O+")");else{var $=t("<span />",{"class":"ui-timepicker-duration"});$.text(" ("+O+")"),A.append($)}}k>w&&(E>=m[w][1]&&(w+=1),m[w]&&E>=m[w][0]&&m[w][1]>E&&(n.useSelect?A.prop("disabled",!0):A.addClass("ui-timepicker-disabled"))),i.append(A)}if(o.data("timepicker-input",e),e.data("timepicker-list",o),n.useSelect)e.val()&&i.val(s(e.val(),n)),i.on("focus",function(){t(this).data("timepicker-input").trigger("showTimepicker")}),i.on("blur",function(){t(this).data("timepicker-input").trigger("hideTimepicker")}),i.on("change",function(){f(e,t(this).val(),"select")}),f(e,i.val()),e.hide().after(i);else{var D=n.appendTo;typeof D=="string"?D=t(D):typeof D=="function"&&(D=D(e)),D.append(o),h(e,i),i.on("mousedown","li",function(){e.off("focus.timepicker"),e.on("focus.timepicker-ie-hack",function(){e.off("focus.timepicker-ie-hack"),e.on("focus.timepicker",T.show)}),l(e)||e[0].focus(),i.find("li").removeClass("ui-timepicker-selected"),t(this).addClass("ui-timepicker-selected"),g(e)&&(e.trigger("hideTimepicker"),i.on("mouseup.timepicker","li",function(){i.off("mouseup.timepicker"),o.hide()}))})}}function r(e,n){var i,r,s;return typeof e=="object"?(i=e.label,r=e.className,s=e.value):typeof e=="string"?i=e:t.error("Invalid noneOption value"),n?t("<option />",{value:s,"class":r,text:i}):t("<li />",{"class":r,text:i}).data("time",s)}function s(t,e){return t=e.roundingFunction(t,e),t!==null?b(t,e):void 0}function o(){return new Date(1970,1,1,0,0,0)}function a(e){var n=t(e.target),i=n.closest(".ui-timepicker-input");i.length===0&&n.closest(".ui-timepicker-wrapper").length===0&&(T.hide(),t(document).unbind(".ui-timepicker"))}function l(t){var e=t.data("timepicker-settings");return(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&e.disableTouchKeyboard}function c(e,n,i){if(!i&&i!==0)return!1;var r=e.data("timepicker-settings"),s=!1,i=r.roundingFunction(i,r);return n.find("li").each(function(e,n){var r=t(n);if(typeof r.data("time")=="number")return r.data("time")==i?(s=r,!1):void 0}),s}function h(t,e){e.find("li").removeClass("ui-timepicker-selected");var n=y(d(t),t.data("timepicker-settings"));if(n!==null){var i=c(t,e,n);if(i){var r=i.offset().top-e.offset().top;(r+i.outerHeight()>e.outerHeight()||0>r)&&e.scrollTop(e.scrollTop()+i.position().top-i.outerHeight()),i.addClass("ui-timepicker-selected")}}}function u(e,n){if(this.value!==""&&n!="timepicker"){var i=t(this);if(!i.is(":focus")||e&&e.type=="change"){var r=i.data("timepicker-settings"),s=y(this.value,r);if(s===null)return i.trigger("timeFormatError"),void 0;var o=!1;r.minTime!==null&&r.minTime>s?o=!0:r.maxTime!==null&&s>r.maxTime&&(o=!0),t.each(r.disableTimeRanges,function(){return s>=this[0]&&this[1]>s?(o=!0,!1):void 0}),r.forceRoundTime&&(s=r.roundingFunction(s,r));var a=b(s,r);o?f(i,a,"error")&&i.trigger("timeRangeError"):f(i,a)}}}function d(t){return t.is("input")?t.val():t.data("ui-timepicker-value")}function f(t,e,n){if(t.is("input")){t.val(e);var i=t.data("timepicker-settings");i.useSelect&&n!="select"&&t.data("timepicker-list").val(s(e,i))}return t.data("ui-timepicker-value")!=e?(t.data("ui-timepicker-value",e),n=="select"?t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker"):n!="error"&&t.trigger("changeTime"),!0):(t.trigger("selectTime"),!1)}function p(n){var i=t(this),r=i.data("timepicker-list");if(!r||!e(r)){if(n.keyCode!=40)return!0;T.show.call(i.get(0)),r=i.data("timepicker-list"),l(i)||i.focus()}switch(n.keyCode){case 13:return g(i)&&T.hide.apply(this),n.preventDefault(),!1;case 38:var s=r.find(".ui-timepicker-selected");return s.length?s.is(":first-child")||(s.removeClass("ui-timepicker-selected"),s.prev().addClass("ui-timepicker-selected"),s.outerHeight()>s.prev().position().top&&r.scrollTop(r.scrollTop()-s.outerHeight())):(r.find("li").each(function(e,n){return t(n).position().top>0?(s=t(n),!1):void 0}),s.addClass("ui-timepicker-selected")),!1;case 40:return s=r.find(".ui-timepicker-selected"),s.length===0?(r.find("li").each(function(e,n){return t(n).position().top>0?(s=t(n),!1):void 0}),s.addClass("ui-timepicker-selected")):s.is(":last-child")||(s.removeClass("ui-timepicker-selected"),s.next().addClass("ui-timepicker-selected"),s.next().position().top+2*s.outerHeight()>r.outerHeight()&&r.scrollTop(r.scrollTop()+s.outerHeight())),!1;case 27:r.find("li").removeClass("ui-timepicker-selected"),T.hide();break;case 9:T.hide();break;default:return!0}}function m(n){var i=t(this),r=i.data("timepicker-list");if(!r||!e(r))return!0;if(!i.data("timepicker-settings").typeaheadHighlight)return r.find("li").removeClass("ui-timepicker-selected"),!0;switch(n.keyCode){case 96:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 65:case 77:case 80:case 186:case 8:case 46:h(i,r);break;default:return}}function g(t){var e=t.data("timepicker-settings"),n=t.data("timepicker-list"),i=null,r=n.find(".ui-timepicker-selected");if(r.hasClass("ui-timepicker-disabled"))return!1;if(r.length&&(i=r.data("time")),i!==null)if(typeof i=="string")t.val(i),t.trigger("selectTime").trigger("changeTime").trigger("change","timepicker");else{var s=b(i,e);f(t,s,"select")}return!0}function v(t,e){t=Math.abs(t);var n,i,r=Math.round(t/60),s=[];return 60>r?s=[r,k.mins]:(n=Math.floor(r/60),i=r%60,e==30&&i==30&&(n+=k.decimal+5),s.push(n),s.push(n==1?k.hr:k.hrs),e!=30&&i&&(s.push(i),s.push(k.mins))),s.join(" ")}function b(e,n){if(e!==null){var i=new Date(w.valueOf()+e*1e3);if(!isNaN(i.getTime())){if(t.type(n.timeFormat)==="function")return n.timeFormat(i);for(var r,s,o="",a=0;n.timeFormat.length>a;a++)switch(s=n.timeFormat.charAt(a)){case"a":o+=i.getHours()>11?k.pm:k.am;break;case"A":o+=i.getHours()>11?k.PM:k.AM;break;case"g":r=i.getHours()%12,o+=r===0?"12":r;break;case"G":r=i.getHours(),e===x&&(r=24),o+=r;break;case"h":r=i.getHours()%12,r!==0&&10>r&&(r="0"+r),o+=r===0?"12":r;break;case"H":r=i.getHours(),e===x&&(r=24),o+=r>9?r:"0"+r;break;case"i":var l=i.getMinutes();o+=l>9?l:"0"+l;break;case"s":e=i.getSeconds(),o+=e>9?e:"0"+e;break;case"\\":a++,o+=format.charAt(a);break;default:o+=s}return o}}}function y(t,e){if(t==="")return null;if(!t||t+0==t)return t;if(typeof t=="object")return t.getHours()*3600+t.getMinutes()*60+t.getSeconds();t=t.toLowerCase().replace(".",""),(t.slice(-1)=="a"||t.slice(-1)=="p")&&(t+="m");var n="("+k.am.replace(".","")+"|"+k.pm.replace(".","")+"|"+k.AM.replace(".","")+"|"+k.PM.replace(".","")+")?",i=RegExp("^"+n+"\\s*([0-2]?[0-9])\\W?([0-5][0-9])?\\W?([0-5][0-9])?\\s*"+n+"$"),r=t.match(i);if(!r)return null;var s=parseInt(r[2]*1,10),o=r[1]||r[5],a=s;if(12>=s&&o){var l=o==k.pm||o==k.PM;a=s==12?l?12:0:s+(l?12:0)}var c=r[3]*1||0,h=r[4]*1||0,u=a*3600+c*60+h;if(!o&&e&&e._twelveHourTime&&e.scrollDefault){var d=u-e.scrollDefault;0>d&&d>=x/-2&&(u=(u+x/2)%x)}return u}var w=o(),x=86400,k={am:"am",pm:"pm",AM:"AM",PM:"PM",decimal:".",mins:"mins",hr:"hr",hrs:"hrs"},T={init:function(e){return this.each(function(){var r=t(this),s=[];for(var o in t.fn.timepicker.defaults)r.data(o)&&(s[o]=r.data(o));var a=t.extend({},t.fn.timepicker.defaults,s,e);a.lang&&(k=t.extend(k,a.lang)),a=n(a),r.data("timepicker-settings",a),r.addClass("ui-timepicker-input"),a.useSelect?i(r):(r.prop("autocomplete","off"),r.on("click.timepicker focus.timepicker",T.show),r.on("change.timepicker",u),r.on("keydown.timepicker",p),r.on("keyup.timepicker",m),u.call(r.get(0)))})},show:function(n){var r=t(this),s=r.data("timepicker-settings");if(n){if(!s.showOnFocus)return!0;n.preventDefault()}if(s.useSelect)return r.data("timepicker-list").focus(),void 0;l(r)&&r.blur();var o=r.data("timepicker-list");if(!r.prop("readonly")&&(o&&o.length!==0&&typeof s.durationTime!="function"||(i(r),o=r.data("timepicker-list")),!e(o))){T.hide(),o.show();var h={};h.left=s.orientation.match(/r/)?r.offset().left+r.outerWidth()-o.outerWidth()+parseInt(o.css("marginLeft").replace("px",""),10):r.offset().left+parseInt(o.css("marginLeft").replace("px",""),10);var u;u=s.orientation.match(/t/)?"t":s.orientation.match(/b/)?"b":r.offset().top+r.outerHeight(!0)+o.outerHeight()>t(window).height()+t(window).scrollTop()?"t":"b",u=="t"?(o.addClass("ui-timepicker-positioned-top"),h.top=r.offset().top-o.outerHeight()+parseInt(o.css("marginTop").replace("px",""),10)):(o.removeClass("ui-timepicker-positioned-top"),h.top=r.offset().top+r.outerHeight()+parseInt(o.css("marginTop").replace("px",""),10)),o.offset(h);var f=o.find(".ui-timepicker-selected");if(f.length||(d(r)?f=c(r,o,y(d(r))):s.scrollDefault&&(f=c(r,o,s.scrollDefault))),f&&f.length){var p=o.scrollTop()+f.position().top-f.outerHeight();o.scrollTop(p)}else o.scrollTop(0);return t(document).on("touchstart.ui-timepicker mousedown.ui-timepicker",a),s.closeOnWindowScroll&&t(document).on("scroll.ui-timepicker",a),r.trigger("showTimepicker"),this}},hide:function(){var n=t(this),i=n.data("timepicker-settings");return i&&i.useSelect&&n.blur(),t(".ui-timepicker-wrapper").each(function(){var n=t(this);if(e(n)){var i=n.data("timepicker-input"),r=i.data("timepicker-settings");r&&r.selectOnBlur&&g(i),n.hide(),i.trigger("hideTimepicker")}}),this},option:function(e,r){return this.each(function(){var s=t(this),o=s.data("timepicker-settings"),a=s.data("timepicker-list");if(typeof e=="object")o=t.extend(o,e);else if(typeof e=="string"&&r!==void 0)o[e]=r;else if(typeof e=="string")return o[e];o=n(o),s.data("timepicker-settings",o),a&&(a.remove(),s.data("timepicker-list",!1)),o.useSelect&&i(s)})},getSecondsFromMidnight:function(){return y(d(this))},getTime:function(t){var e=this,n=d(e);if(!n)return null;t||(t=new Date);var i=y(n),r=new Date(t);return r.setHours(i/3600),r.setMinutes(i%3600/60),r.setSeconds(i%60),r.setMilliseconds(0),r},setTime:function(t){var e=this,n=e.data("timepicker-settings");if(n.forceRoundTime)var i=s(t,n);else var i=b(y(t),n);return f(e,i),e.data("timepicker-list")&&h(e,e.data("timepicker-list")),this},remove:function(){var t=this;if(t.hasClass("ui-timepicker-input")){var e=t.data("timepicker-settings");return t.removeAttr("autocomplete","off"),t.removeClass("ui-timepicker-input"),t.removeData("timepicker-settings"),t.off(".timepicker"),t.data("timepicker-list")&&t.data("timepicker-list").remove(),e.useSelect&&t.show(),t.removeData("timepicker-list"),this}}};t.fn.timepicker=function(e){return this.length?T[e]?this.hasClass("ui-timepicker-input")?T[e].apply(this,Array.prototype.slice.call(arguments,1)):this:typeof e!="object"&&e?(t.error("Method "+e+" does not exist on jQuery.timepicker"),void 0):T.init.apply(this,arguments):this},t.fn.timepicker.defaults={className:null,minTime:null,maxTime:null,durationTime:null,step:30,showDuration:!1,showOnFocus:!0,timeFormat:"g:ia",scrollDefault:null,selectOnBlur:!1,disableTouchKeyboard:!1,forceRoundTime:!1,roundingFunction:function(t,e){if(t===null)return null;var n=t%(e.step*60);return n>=e.step*30?t+=e.step*60-n:t-=n,t},appendTo:"body",orientation:"l",disableTimeRanges:[],closeOnWindowScroll:!1,typeaheadHighlight:!0,noneOption:!1,show2400:!1}}),function(t){t.fn.each2===void 0&&t.fn.extend({each2:function(e){var n=t([0]),i=-1,r=this.length;while(r>++i&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1);return this}})}(jQuery),function(t,e){"use strict";function n(t,e){for(var n=0,r=e.length;r>n;n+=1)if(i(t,e[n]))return n;return-1}function i(t,n){return t===n?!0:t===e||n===e?!1:t===null||n===null?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function r(e,n){var i,r,s;if(e===null||1>e.length)return[];for(i=e.split(n),r=0,s=i.length;s>r;r+=1)i[r]=t.trim(i[r]);return i}function s(t){return t.outerWidth(!1)-t.width()}function o(n){var i="keyup-change-value";n.bind("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.bind("keyup",function(){var r=t.data(n,i);r!==e&&n.val()!==r&&(t.removeData(n,i),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var i=D;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function l(t,n,i){i=i||e;var r;return function(){var e=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,e)},t)}}function c(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function h(t,e){var i=l(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function u(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function d(t){t.preventDefault(),t.stopPropagation()}function f(t){t.preventDefault(),t.stopImmediatePropagation()}function p(e){if(!$){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);$=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),$.attr("class","select2-sizer"),t("body").append($)
}return $.text(e.val()),$.width()}function m(e,n,i){var r,s,o=[];r=e.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){this.indexOf("select2-")===0&&o.push(this)})),r=n.attr("class"),r&&(r=""+r,t(r.split(" ")).each2(function(){this.indexOf("select2-")!==0&&(s=i(this),s&&o.push(this))})),e.attr("class",o.join(" "))}function g(t,n,i,r){var s=t.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>s?(i.push(r(t)),e):(i.push(r(t.substring(0,s))),i.push("<span class='select2-match'>"),i.push(r(t.substring(s,s+o))),i.push("</span>"),i.push(r(t.substring(s+o,t.length))),e)}function v(e){var n,i=0,r=null,s=e.quietMillis||100,o=e.url,a=this;return function(l){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,s=e.data,c=o,h=e.transport||t.ajax,u=e.type||"GET",d={};s=s?s.call(a,l.term,l.page,l.context):null,c=typeof c=="function"?c.call(a,l.term,l.page,l.context):c,null!==r&&r.abort(),e.params&&(t.isFunction(e.params)?t.extend(d,e.params.call(a)):t.extend(d,e.params)),t.extend(d,{url:c,dataType:e.dataType,data:s,type:u,cache:!1,success:function(t){if(!(i>n)){var r=e.results(t,l.page);l.callback(r)}}}),r=h.call(a,d)},s)}}function b(n){var i,r,s=n,o=function(t){return""+t.text};t.isArray(s)&&(r=s,s={results:r}),t.isFunction(s)===!1&&(r=s,s=function(){return r});var a=s();return a.text&&(o=a.text,t.isFunction(o)||(i=s.text,o=function(t){return t[i]})),function(n){var i,r=n.term,a={results:[]};return r===""?(n.callback(s()),e):(i=function(e,s){var a,l;if(e=e[0],e.children){a={};for(l in e)e.hasOwnProperty(l)&&(a[l]=e[l]);a.children=[],t(e.children).each2(function(t,e){i(e,a.children)}),(a.children.length||n.matcher(r,o(a),e))&&s.push(a)}else n.matcher(r,o(e),e)&&s.push(e)},t(s().results).each2(function(t,e){i(e,a.results)}),n.callback(a),e)}}function y(n){var i=t.isFunction(n);return function(r){var s=r.term,o={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(s===""||r.matcher(s,n))&&o.results.push(t?this:{id:this,text:this})}),r.callback(o)}}function w(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function x(e){return t.isFunction(e)?e():e}function k(e){var n=0;return t.each(e,function(t,e){e.children?n+=k(e.children):n++}),n}function T(t,n,r,s){var o,a,l,c,h,u=t,d=!1;if(!s.createSearchChoice||!s.tokenSeparators||1>s.tokenSeparators.length)return e;for(;;){for(a=-1,l=0,c=s.tokenSeparators.length;c>l;l++)if(h=s.tokenSeparators[l],a=t.indexOf(h),a>=0)break;if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+h.length),o.length>0&&(o=s.createSearchChoice(o,n),o!==e&&o!==null&&s.id(o)!==e&&s.id(o)!==null)){for(d=!1,l=0,c=n.length;c>l;l++)if(i(s.id(o),s.id(n[l]))){d=!0;break}d||r(o)}}return u!==t?t:e}function C(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var S,E,_,A,O,$,D,P;S={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case S.LEFT:case S.RIGHT:case S.UP:case S.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case S.SHIFT:case S.CTRL:case S.ALT:return!0}return t.metaKey?!0:!1},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},P=t(document),O=function(){var t=1;return function(){return t++}}(),P.bind("mousemove",function(t){D={x:t.pageX,y:t.pageY}}),E=C(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,r,s=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&n.element.data("select2")!==null&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+O()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=c(function(){return n.element.closest("body")}),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(x(n.containerCss)),this.container.addClass(x(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){t(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(x(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(s),this.search=r=this.container.find("input.select2-input"),r.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),a(this.results),this.dropdown.delegate(s,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),h(80,this.results),this.dropdown.delegate(s,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&i.mousewheel(function(t,e,n,r){var s=i.scrollTop();r>0&&0>=s-r?(i.scrollTop(0),d(t)):0>r&&i.height()>=i.get(0).scrollHeight-i.scrollTop()+r&&(i.scrollTop(i.get(0).scrollHeight-i.height()),d(t))}),o(r),r.bind("keyup-change input paste",this.bind(this.updateResults)),r.bind("focus",function(){r.addClass("select2-focused")}),r.bind("blur",function(){r.removeClass("select2-focused")}),this.dropdown.delegate(s,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var s,o,a,l;if(s=n.element,s.get(0).tagName.toLowerCase()==="select"&&(this.select=o=n.element),o&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,r,s){var o,a=this.opts.id,l=this;o=function(i,r,c){var h,u,d,f,p,m,g,v,b,y;for(i=n.sortResults(i,r,s),h=0,u=i.length;u>h;h+=1)d=i[h],p=d.disabled===!0,f=!p&&a(d)!==e,m=d.children&&d.children.length>0,g=t("<li></li>"),g.addClass("select2-results-dept-"+c),g.addClass("select2-result"),g.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&g.addClass("select2-disabled"),m&&g.addClass("select2-result-with-children"),g.addClass(l.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),y=n.formatResult(d,v,s,l.opts.escapeMarkup),y!==e&&v.html(y),g.append(v),m&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),o(d.children,b,c+1),g.append(b)),g.data("select2-data",d),r.append(g)},o(r,i,0)}},t.fn.select2.defaults,n),typeof n.id!="function"&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(n){var r,o,a,l={results:[],more:!1},c=n.term;a=function(t,e){var r;t.is("option")?n.matcher(c,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:i(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(r={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,r.children)}),r.children.length>0&&e.push(r))},r=s.children(),this.getPlaceholder()!==e&&r.length>0&&(o=r[0],t(o).text()===""&&(r=r.not(o))),r.each2(function(t,e){a(e,l.results)}),n.callback(l)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(l=n.element.data("ajax-url"),l&&l.length>0&&(n.ajax.url=l),n.query=v.call(n.element,n.ajax)):"data"in n?n.query=b(n.data):"tags"in n&&(n.query=y(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection===e&&(n.initSelection=function(s,o){var a=[];t(r(s.val(),n.separator)).each(function(){var r=this,s=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,r)?(s=this.text,!1):e}),a.push({id:r,text:s})}),o(a)}))),typeof n.query!="function")throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,e=this.opts.element;e.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,e;t=this.opts.element.attr("disabled")!=="disabled",e=this.opts.element.attr("readonly")==="readonly",t=t&&!e,this.enabled!==t&&(t?this.enable():this.disable()),m(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(x(this.opts.containerCssClass)),m(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(x(this.opts.dropdownCssClass))}),e.bind("propertychange.select2 DOMAttrModified.select2",t),typeof WebKitMutationObserver!="undefined"&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,r=this.container.offset(),s=this.container.outerHeight(!1),o=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),l=t(window).scrollLeft()+t(window).width(),c=t(window).scrollTop()+t(window).height(),h=r.top+s,u=r.left,d=c>=h+a,f=r.top-a>=this.body().scrollTop(),p=this.dropdown.outerWidth(!1),m=l>=u+p,g=this.dropdown.hasClass("select2-drop-above");this.body().css("position")!=="static"&&(e=this.body().offset(),h-=e.top,u-=e.left),g?(n=!0,!f&&d&&(n=!1)):(n=!1,!d&&f&&(n=!0)),m||(u=r.left+o-p),n?(h=r.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=t.extend({top:h,left:u,width:o},x(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var n,i=this.containerId,r="scroll."+i,s="resize."+i,o="orientationchange."+i;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),n=t("#select2-drop-mask"),n.length==0&&(n=t(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.bind("mousedown touchstart",function(){var e,n=t("#select2-drop");n.length>0&&(e=n.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(e()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){t(this).bind(s+" "+r+" "+o,function(){t("#select2-drop-mask").css(e()),a.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,r="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(n).unbind(i).unbind(r)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return x(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,i,r,s,o,a,l,c=this.results;if(i=this.highlight(),!(0>i)){if(i==0)return c.scrollTop(0),e;n=this.findHighlightableChoices(),r=t(n[i]),s=r.offset().top+r.outerHeight(!0),i===n.length-1&&(l=c.find("li.select2-more-results"),l.length>0&&(s=l.offset().top+l.outerHeight(!0))),o=c.offset().top+c.outerHeight(!0),s>o&&c.scrollTop(c.scrollTop()+(s-o)),a=r.offset().top-c.offset().top,0>a&&r.css("display")!="none"&&c.scrollTop(c.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){var n=this.findHighlightableChoices(),i=this.highlight();while(i>-1&&n.length>i){i+=e;var r=t(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(i){var r,s,o=this.findHighlightableChoices();return arguments.length===0?n(o.filter(".select2-highlighted")[0],o.get()):(i>=o.length&&(i=o.length-1),0>i&&(i=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),r=t(o[i]),r.addClass("select2-highlighted"),this.ensureHighlightVisible(),s=r.data("select2-data"),s&&this.opts.element.trigger({type:"highlight",val:this.id(s),choice:s}),e)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else n.length==0&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,r=this,s=this.search.val(),o=this.context;n.length!==0&&(t=n.offset().top-e.offset().top-e.height(),this.opts.loadMorePadding>=t&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:s,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){r.opened()&&(r.opts.populateResults.call(this,e,t.results,{term:s,page:i,context:o}),r.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=t.context)})})))},tokenize:function(){},updateResults:function(n){function r(){c.scrollTop(0),l.removeClass("select2-active"),u.positionDropdown()}function s(t){c.html(t),r()}var o,a,l=this.search,c=this.results,h=this.opts,u=this,d=l.val(),f=t.data(this.container,"select2-last-term");if((n===!0||!f||!i(d,f))&&(t.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){var p=this.getMaximumSelectionSize();if(p>=1&&(o=this.data(),t.isArray(o)&&o.length>=p&&w(h.formatSelectionTooBig,"formatSelectionTooBig")))return s("<li class='select2-selection-limit'>"+h.formatSelectionTooBig(p)+"</li>"),e;if(h.minimumInputLength>l.val().length)return w(h.formatInputTooShort,"formatInputTooShort")?s("<li class='select2-no-results'>"+h.formatInputTooShort(l.val(),h.minimumInputLength)+"</li>"):s(""),e;if(h.maximumInputLength&&l.val().length>h.maximumInputLength)return w(h.formatInputTooLong,"formatInputTooLong")?s("<li class='select2-no-results'>"+h.formatInputTooLong(l.val(),h.maximumInputLength)+"</li>"):s(""),e;h.formatSearching&&this.findHighlightableChoices().length===0&&s("<li class='select2-searching'>"+h.formatSearching()+"</li>"),l.addClass("select2-active"),a=this.tokenize(),a!=e&&a!=null&&l.val(a),this.resultsPage=1,h.query({element:h.element,term:l.val(),page:this.resultsPage,context:null,matcher:h.matcher,callback:this.bind(function(o){var a;return this.opened()?(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&l.val()!==""&&(a=this.opts.createSearchChoice.call(null,l.val(),o.results),a!==e&&a!==null&&u.id(a)!==e&&u.id(a)!==null&&t(o.results).filter(function(){return i(u.id(this),u.id(a))}).length===0&&o.results.unshift(a)),o.results.length===0&&w(h.formatNoMatches,"formatNoMatches")?(s("<li class='select2-no-results'>"+h.formatNoMatches(l.val())+"</li>"),e):(c.empty(),u.opts.populateResults.call(this,c,o.results,{term:l.val(),page:this.resultsPage,context:null}),o.more===!0&&w(h.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+u.opts.escapeMarkup(h.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){u.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),r(),this.opts.element.trigger({type:"loaded",data:o}),e)):(this.search.removeClass("select2-active"),e)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){u(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(e),this.onSelect(i,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,r,s,o;if(this.opts.width==="off")return null;if(this.opts.width==="element")return this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px";if(this.opts.width==="copy"||this.opts.width==="resolve"){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),s=0,o=i.length;o>s;s+=1)if(r=i[s].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),r!==null&&r.length>=1)return r[1];return this.opts.width==="resolve"?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:this.opts.element.outerWidth(!1)===0?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);i!==null&&this.container.css("width",i)}}),_=C(E,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),u(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var n,i=this.container,r=this.dropdown,s=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=n=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+O()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)return d(t),e;switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),d(t),e;case S.TAB:case S.ENTER:return this.selectHighlighted(),d(t),e;case S.ESC:return this.cancel(t),d(t),e}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(t){return!this.enabled||t.which===S.TAB||S.isControl(t)||S.isFunctionKey(t)||t.which===S.ESC?e:this.opts.openOnEnter===!1&&t.which===S.ENTER?(d(t),e):t.which==S.DOWN||t.which==S.UP||t.which==S.ENTER&&this.opts.openOnEnter?(this.open(),d(t),e):t.which==S.DELETE||t.which==S.BACKSPACE?(this.opts.allowClear&&this.clear(),d(t),e):e})),o(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(t){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),d(t))})),n.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),f(t),this.close(),this.selection.focus())})),n.bind("mousedown",this.bind(function(t){s=!0,this.opened()?this.close():this.enabled&&this.open(),d(t),s=!1})),r.bind("mousedown",this.bind(function(){this.search.focus()})),n.bind("focus",this.bind(function(t){d(t)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()==="")this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&n!==null&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(e,n){var i=e.find(":selected");t.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var s=n.val(),o=null;e.query({matcher:function(t,n,r){var a=i(s,e.id(r));return a&&(o=r),a},callback:t.isFunction(r)?function(){r(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&this.select.find("option").first().text()!==""?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(this.opts.element.val()===""&&t!==e){if(this.select&&this.select.find("option:first").text()!=="")return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,n,r){var s=0,o=this,a=!0;if(this.findHighlightableChoices().each2(function(t,n){return i(o.id(n.data("select2-data")),o.opts.element.val())?(s=t,!1):e}),r!==!1&&this.highlight(s),n===!0){var l=this.opts.minimumResultsForSearch;a=0>l?!1:k(t.results)>=l,this.showSearch(a)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search")[e?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[e?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(t,e){var n=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),i(n,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),n!==e&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,n=!1,i=null,r=this;if(arguments.length===0)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i={id:e.attr("value"),text:e.text(),element:e.get(0)},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");if(!t&&t!==0)return this.clear(n),n&&this.triggerChange(),e;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){r.opts.element.val(t?r.id(t):""),r.updateSelection(t),r.setPlaceholder(),n&&r.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n;return arguments.length===0?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(t&&t!==""?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),e)}}),A=C(E,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return e.element.get(0).tagName.toLowerCase()==="select"?e.initSelection=function(t,e){var n=[];t.find(":selected").each2(function(t,e){n.push({id:e.attr("value"),text:e.text(),element:e[0]})}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(n,s){var o=r(n.val(),e.separator),a=[];e.query({matcher:function(n,r,s){var l=t.grep(o,function(t){return i(t,e.id(s))}).length;return l&&a.push(s),l},callback:t.isFunction(s)?function(){s(a)}:t.noop})}),e},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i),this.search.attr("id","s2id_autogen"+O()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===S.BACKSPACE&&this.search.val()===""){this.close();var i,r=n.find(".select2-search-choice-focus");if(r.length>0)return this.unselect(r.first()),this.search.width(10),d(t),e;i=n.find(".select2-search-choice:not(.select2-locked)"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case S.UP:case S.DOWN:return this.moveHighlight(t.which===S.UP?-1:1),d(t),e;case S.ENTER:case S.TAB:return this.selectHighlighted(),d(t),e;case S.ESC:return this.cancel(t),d(t),e}if(t.which!==S.TAB&&!S.isControl(t)&&!S.isFunctionKey(t)&&t.which!==S.BACKSPACE&&t.which!==S.ESC){if(t.which===S.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===S.PAGE_UP||t.which===S.PAGE_DOWN)&&d(t),t.which===S.ENTER&&d(t)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(this.opts.element.val()===""&&this.opts.element.text()===""&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||this.opts.element.val()!==""){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&n!==null&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&this.getVal().length===0&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],r=[],s=this;t(e).each(function(){0>n(s.id(this),i)&&(i.push(s.id(this)),r.push(this))}),e=r,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){s.addSelectedChoice(this)}),s.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),t!=null&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r=!n.locked,s=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=r?s:o,l=this.id(n),c=this.getVal();
i=this.opts.formatSelection(n,a.find("div")),i!=e&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),r&&a.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var e,i,r=this.getVal();if(t=t.closest(".select2-search-choice"),t.length===0)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=n(this.id(e),r),i>=0&&(r.splice(i,1),this.setVal(r),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),r=this;e.each2(function(e,i){var s=r.id(i.data("select2-data"));n(s,t)>=0&&(i.addClass("select2-selected"),i.find(".select2-result-selectable").addClass("select2-selected"))}),i.each2(function(t,e){e.is(".select2-result-selectable")||e.find(".select2-result-selectable:not(.select2-selected)").length!==0||e.addClass("select2-selected")}),this.highlight()==-1&&r.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var t,e,n,i,r,o=s(this.search);t=p(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(e-i)-o,t>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=t),this.search.width(r)},getVal:function(){var t;return this.select?(t=this.select.val(),t===null?[]:t):(t=this.opts.element.val(),r(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(i.length===0?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,r=this;if(arguments.length===0)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&n!==0)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),e;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(r.id);r.setVal(n),r.updateSelection(e),r.clearSearch(),i&&r.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(n){var i,r=this;return arguments.length===0?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n||(n=[]),i=t.map(n,function(t){return r.opts.id(t)}),this.setVal(i),this.updateSelection(n),this.clearSearch(),e)}}),t.fn.select2=function(){var i,r,s,o,a=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(a.length===0||typeof a[0]=="object")i=a.length===0?{}:t.extend({},a[0]),i.element=t(this),i.element.get(0).tagName.toLowerCase()==="select"?o=i.element.attr("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),r=o?new A:new _,r.init(i);else{if(typeof a[0]!="string")throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],l))throw"Unknown method: "+a[0];if(s=e,r=t(this).data("select2"),r===e)return;if(s=a[0]==="container"?r.container:r[a[0]].apply(r,a.slice(1)),s!==e)return!1}}),s===e?this:s},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var r=[];return g(t.text,n.term,r,i),r.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(n==1?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(n==1?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(t==1?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:T,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return(t+"").replace(/[&<>"'\/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:y},util:{debounce:l,markMatch:g},"class":{"abstract":E,single:_,multi:A}}}}(jQuery),$(function(){activate_widgets();var t=function(){var t=document.location+"",e=null;t.match("#/")?e=$('.nav-tabs.nav-tabs-auto a[href="#'+t.split("#/")[1]+'"]'):t.match("#")&&(e=$('.nav-tabs.nav-tabs-auto a[href="#'+t.split("#")[1]+'"]')),e!==null&&e.length!==0&&$(e[0]).tab("show")};$(window).bind("hashchange",t),t(),$(".nav-tabs.nav-tabs-auto a").on("shown",function(t){window.location.hash="#/"+t.target.hash.slice(1)});var e=document.location+"";if(!e.match("#")){var n=$(".nav-tabs.nav-tabs-auto a").filter(":first");n.length!==0&&$(n[0]).tab("show")}}),$(function(){console.log("Hello, curious geek. Our source is at https://github.com/hasgeek. Why not contribute a patch?")}),window.Baseframe={},window.Baseframe.Config={defaultLatitude:"12.961443",defaultLongitude:"77.64435000000003"},window.Baseframe.Forms={preventSubmitOnEnter:function(t){$("#"+t).on("keyup keypress",function(t){var e=t.keyCode||t.which;return e===13?(t.preventDefault(),!1):void 0})},lastuserAutocomplete:function(t){var e=function(t){return t.map(function(t){return{id:t.buid,text:t.label}})};$("#"+t.id).select2({placeholder:"Search for a user",multiple:t.multiple,minimumInputLength:2,ajax:{url:t.autocomplete_endpoint,dataType:"jsonp",data:function(e){return"client_id"in t?{q:e,client_id:t.client_id,session:t.session_id}:{q:e}},results:function(t){var n=[];return t.status=="ok"&&(n=e(t.users)),{more:!1,results:n}}},initSelection:function(n,i){var r=$(n).val(),s={};r!==""&&("client_id"in t&&(s={client_id:t.client_id,session:t.session_id}),$.ajax(t.getuser_endpoint+"?userid="+r.replace(t.separator,"&userid="),{data:s,accepts:"application/json",dataType:"jsonp"}).done(function(t){$(n).val("");var r=[];t.status=="ok"&&(r=e(t.results)),i(r)}))}})},textAutocomplete:function(t){$("#"+t.id).select2({placeholder:"Type to select",multiple:t.multiple,minimumInputLength:2,ajax:{url:t.autocomplete_endpoint,dataType:"json",data:function(t,e){return{q:t,page:e}},results:function(e){return{more:!1,results:e[t.key].map(function(t){return{id:t,text:t}})}}},initSelection:function(e,n){if(t.multiple){var i=[];$(e.val().split(t.separator)).each(function(){i.push({id:this,text:this})}),n(i)}else{var i={id:e.val(),text:e.val()};n(i)}}})}},window.Baseframe.MapMarker=function(t){return this.field=t,this.activate(),this},window.Baseframe.MapMarker.prototype.activate=function(){var t=this;Baseframe.Forms.preventSubmitOnEnter(this.field.location_id),$("#"+this.field.map_id).locationpicker({location:t.getDefaultLocation(),radius:0,inputBinding:{latitudeInput:$("#"+this.field.latitude_id),longitudeInput:$("#"+this.field.longitude_id),locationNameInput:$("#"+this.field.location_id)},enableAutocomplete:!0,onchanged:function(){},onlocationnotfound:function(){},oninitialized:function(){}})},window.Baseframe.MapMarker.prototype.getDefaultLocation=function(){var t,e;return $("#"+this.field.latitude_id).val()===""&&$("#"+this.field.longitude_id).val()===""?(t=Baseframe.Config.defaultLatitude,e=Baseframe.Config.defaultLongitude):(t=$("#"+this.field.latitude_id).val(),e=$("#"+this.field.longitude_id).val()),{latitude:t,longitude:e}},window.ParsleyConfig={errorsWrapper:"<div></div>",errorTemplate:'<p class="help-error"></p>',errorClass:"has-error",classHandler:function(t){return t.$element.closest(".form-group")},errorsContainer:function(t){return t.$element.closest(".controls")},i18n:{en:{}}},$(function(){window.ParsleyConfig.i18n.en=$.extend(window.ParsleyConfig.i18n.en||{},{defaultMessage:"This value seems to be invalid",notblank:"This value should not be blank",required:"This value is required",pattern:"This value seems to be invalid",min:"This value should be greater than or equal to %s",max:"This value should be lower than or equal to %s",range:"This value should be between %s and %s",minlength:"This value is too short. It should have %s characters or more",maxlength:"This value is too long. It should have %s characters or fewer",length:"This value should be between %s and %s characters long",mincheck:"You must select at least %s choices",maxcheck:"You must select %s choices or fewer",check:"You must select between %s and %s choices",equalto:"This value should be the same"}),window.ParsleyConfig.i18n.en.type=$.extend(window.ParsleyConfig.i18n.en.type||{},{email:"This value should be a valid email",url:"This value should be a valid url",number:"This value should be a valid number",integer:"This value should be a valid integer",digits:"This value should be digits",alphanum:"This value should be alphanumeric"});var t=function(){$.ajax({type:"GET",url:"/api/baseframe/1/csrf/refresh",timeout:5e3,dataType:"json",success:function(t){$('meta[name="csrf-token"]').attr("content",t.csrf_token),$('input[name="csrf_token"]').val(t.csrf_token)}})};setInterval(t,9e5)}),$(document).ready(function(){$(".navbar-toggle").addClass("collapsed")}),$(function(){$("#navbar-toggle-1").click(function(){if(!$("#navbar-toggle-2").hasClass("collapse")){var t=function(){$("#navbar-toggle-2").addClass("collapsed"),$(".navbar-ex2-collapse").addClass("collapse"),$(".navbar-ex2-collapse").removeClass("in")};setTimeout(t,480),$(".navbar-ex2-collapse").animate({height:"2px"})}}),$("#navbar-toggle-2").click(function(){if(!$("#navbar-toggle-1").hasClass("collapse")){var t=function(){$("#navbar-toggle-1").addClass("collapsed"),$(".navbar-ex1-collapse").addClass("collapse"),$(".navbar-ex1-collapse").removeClass("in")};setTimeout(t,480),$(".navbar-ex1-collapse").animate({height:"2px"})}})}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive=e()}(this,function(){"use strict";function t(t){var e;return t&&"boolean"!=typeof t?"undefined"!=typeof window&&document&&t?t.nodeType?t:"string"==typeof t&&(e=document.getElementById(t),!e&&document.querySelector&&(e=document.querySelector(t)),e&&e.nodeType)?e:t[0]&&t[0].nodeType?t[0]:null:null:void 0}function e(t){return t&&"unknown"!=typeof t.parentNode&&t.parentNode&&t.parentNode.removeChild(t),t}function n(t){return null!=t&&t.toString?t:""}function i(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];for(var r,s;s=n.shift();)for(r in s)Al.call(s,r)&&(t[r]=s[r]);return t}function r(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];return n.forEach(function(e){for(var n in e)!e.hasOwnProperty(n)||n in t||(t[n]=e[n])}),t}function s(t){return"[object Array]"===Ol.call(t)}function o(t){return $l.test(Ol.call(t))}function a(t,e){return null===t&&null===e?!0:"object"==typeof t||"object"==typeof e?!1:t===e}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===Ol.call(t)}function h(t,e){return t.replace(/%s/g,function(){return e.shift()})}function u(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];throw t=h(t,n),Error(t)}function d(){qw.DEBUG&&Sl.apply(null,arguments)}function f(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=h(t,n),El(t,n)}function p(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;e>i;i++)n[i-1]=arguments[i];t=h(t,n),Pl[t]||(Pl[t]=!0,El(t,n))}function m(){qw.DEBUG&&f.apply(null,arguments)}function g(){qw.DEBUG&&p.apply(null,arguments)}function v(t,e,n){var i=b(t,e,n);return i?i[t][n]:null}function b(t,e,n){for(;e;){if(n in e[t])return e;if(e.isolated)return null;e=e.parent}}function y(t){return function(){return t}}function w(t){var e,n,i,r,s,o;for(e=t.split("."),(n=Vl[e.length])||(n=x(e.length)),s=[],i=function(t,n){return t?"*":e[n]},r=n.length;r--;)o=n[r].map(i).join("."),s.hasOwnProperty(o)||(s.push(o),s[o]=!0);return s}function x(t){var e,n,i,r,s,o,a,l,c="";if(!Vl[t]){for(i=[];t>c.length;)c+=1;for(e=parseInt(c,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(n=s.toString(2);t>n.length;)n="0"+n;for(l=[],a=n.length,o=0;a>o;o++)l.push(r(n[o]));i[s]=l}Vl[t]=i}return Vl[t]}function k(t,e,n,i){var r=t[e];return!r||!r.equalsOrStartsWith(i)&&r.equalsOrStartsWith(n)?(t[e]=r?r.replace(n,i):i,!0):void 0}function T(t){var e=t.slice(2);return"i"===t[1]&&l(e)?+e:e}function C(t){return null==t?t:(Hl.hasOwnProperty(t)||(Hl[t]=new zl(t)),Hl[t])}function S(t,e){function n(e,n){var i,r,o;return n.isRoot?o=[].concat(Object.keys(t.viewmodel.data),Object.keys(t.viewmodel.mappings),Object.keys(t.viewmodel.computations)):(i=t.viewmodel.wrapped[n.str],r=i?i.get():t.viewmodel.get(n),o=r?Object.keys(r):null),o&&o.forEach(function(t){"_ractive"===t&&s(r)||e.push(n.join(t))}),e}var i,r,o;for(i=e.str.split("."),o=[Kl];r=i.shift();)"*"===r?o=o.reduce(n,[]):o[0]===Kl?o[0]=C(r):o=o.map(E(r));return o}function E(t){return function(e){return e.join(t)}}function _(t){return t?t.replace(Wl,".$1"):""}function A(t,e,n){if("string"!=typeof e||!l(n))throw Error("Bad arguments");var i=void 0,r=void 0;if(/\*/.test(e))return r={},S(t,C(_(e))).forEach(function(e){var i=t.viewmodel.get(e);if(!l(i))throw Error(Gl);r[e.str]=i+n}),t.set(r);if(i=t.get(e),!l(i))throw Error(Gl);return t.set(e,+i+n)}function O(t,e){return Ql(this,t,void 0===e?1:+e)}function $(t){this.event=t,this.method="on"+t,this.deprecate=tc[t]}function D(t,e){var n=t.indexOf(e);-1===n&&t.push(e)}function P(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]==e)return!0;return!1}function R(t,e){var n;if(!s(t)||!s(e))return!1;if(t.length!==e.length)return!1;for(n=t.length;n--;)if(t[n]!==e[n])return!1;return!0}function F(t){return"string"==typeof t?[t]:void 0===t?[]:t}function j(t){return t[t.length-1]}function I(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function N(t){for(var e=[],n=t.length;n--;)e[n]=t[n];return e}function L(t){setTimeout(t,0)}function M(t,e){return function(){for(var n;n=t.shift();)n(e)}}function U(t,e,n,i){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof ec)e.then(n,i);else if(!e||"object"!=typeof e&&"function"!=typeof e)n(e);else{try{r=e.then}catch(s){return void i(s)}if("function"==typeof r){var o,a,l;a=function(e){o||(o=!0,U(t,e,n,i))},l=function(t){o||(o=!0,i(t))};try{r.call(e,a,l)}catch(s){if(!o)return i(s),void(o=!0)}}else n(e)}}function V(t,e,n){var i;return e=_(e),"~/"===e.substr(0,2)?(i=C(e.substring(2)),H(t,i.firstKey,n)):"."===e[0]?(i=W(ac(n),e),i&&H(t,i.firstKey,n)):i=B(t,C(e),n),i}function W(t,e){var n;if(void 0!=t&&"string"!=typeof t&&(t=t.str),"."===e)return C(t);if(n=t?t.split("."):[],"../"===e.substr(0,3)){for(;"../"===e.substr(0,3);){if(!n.length)throw Error('Could not resolve reference - too many "../" prefixes');n.pop(),e=e.substring(3)}return n.push(e),C(n.join("."))}return C(t?t+e.replace(/^\.\//,"."):e.replace(/^\.\/?/,""))}function B(t,e,n,i){var r,s,o,a,l;if(e.isRoot)return e;for(s=e.firstKey;n;)if(r=n.context,n=n.parent,r&&(a=!0,o=t.viewmodel.get(r),o&&("object"==typeof o||"function"==typeof o)&&s in o))return r.join(e.str);return z(t.viewmodel,s)?e:t.parent&&!t.isolated&&(a=!0,n=t.component.parentFragment,s=C(s),l=B(t.parent,s,n,!0))?(t.viewmodel.map(s,{origin:t.parent.viewmodel,keypath:l}),e):i||a?void 0:(t.viewmodel.set(e,void 0),e)}function H(t,e){var n;!t.parent||t.isolated||z(t.viewmodel,e)||(e=C(e),(n=B(t.parent,e,t.component.parentFragment,!0))&&t.viewmodel.map(e,{origin:t.parent.viewmodel,keypath:n}))}function z(t,e){return""===e||e in t.data||e in t.computations||e in t.mappings}function q(t){t.teardown()}function K(t){t.unbind()}function Q(t){t.unrender()}function G(t){t.cancel()}function Z(t){t.detach()}function X(t){t.detachNodes()}function Y(t){!t.ready||t.outros.length||t.outroChildren||(t.outrosComplete||(t.parent?t.parent.decrementOutros(t):t.detachNodes(),t.outrosComplete=!0),t.intros.length||t.totalChildren||("function"==typeof t.callback&&t.callback(),t.parent&&t.parent.decrementTotal()))}function J(){for(var t,e,n;hc.ractives.length;)e=hc.ractives.pop(),n=e.viewmodel.applyChanges(),n&&pc.fire(e,n);for(te(),t=0;hc.views.length>t;t+=1)hc.views[t].update();for(hc.views.length=0,t=0;hc.tasks.length>t;t+=1)hc.tasks[t]();return hc.tasks.length=0,hc.ractives.length?J():void 0}function te(){var t,e,n,i;for(t=fc.length;t--;)e=fc[t],e.keypath?fc.splice(t,1):(n=lc(e.root,e.ref,e.parentFragment))&&((i||(i=[])).push({item:e,keypath:n}),fc.splice(t,1));i&&i.forEach(ee)}function ee(t){t.item.resolve(t.keypath)}function ne(t,e,n){var i,r,s,o,a,l,c,h,u,d,f,p,m,g;if(i=new oc(function(t){return r=t}),"object"==typeof t){n=e||{},l=n.easing,c=n.duration,a=[],h=n.step,u=n.complete,(h||u)&&(f={},n.step=null,n.complete=null,d=function(t){return function(e,n){f[t]=n}});for(s in t)t.hasOwnProperty(s)&&((h||u)&&(p=d(s),n={easing:l,duration:c},h&&(n.step=p)),n.complete=u?p:Dl,a.push(ie(this,s,t[s],n)));return g={easing:l,duration:c},h&&(g.step=function(t){return h(t,f)}),u&&i.then(function(t){return u(t,f)}),g.complete=r,m=ie(this,null,null,g),a.push(m),i.stop=function(){for(var t;t=a.pop();)t.stop();m&&m.stop()},i}return n=n||{},n.complete&&i.then(n.complete),n.complete=r,o=ie(this,t,e,n),i.stop=function(){return o.stop()},i}function ie(t,e,n,i){var r,s,o,l;return e&&(e=C(_(e))),null!==e&&(l=t.viewmodel.get(e)),bc.abort(e,t),a(l,n)?(i.complete&&i.complete(i.to),kc):(i.easing&&(r="function"==typeof i.easing?i.easing:t.easing[i.easing],"function"!=typeof r&&(r=null)),s=void 0===i.duration?400:i.duration,o=new wc({keypath:e,from:l,to:n,root:t,duration:s,easing:r,interpolator:i.interpolator,step:i.step,complete:i.complete}),bc.add(o),t._animations.push(o),o)}function re(){return this.detached?this.detached:(this.el&&I(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),Cc.fire(this),this.detached)}function se(t){return this.el?this.fragment.find(t):null}function oe(t,e){var n;return n=this._isComponentQuery?!this.selector||t.name===this.selector:t.node?dl(t.node,this.selector):null,n?(this.push(t.node||t.instance),e||this._makeDirty(),!0):void 0}function ae(t){var e;return(e=t.parentFragment)?e.owner:t.component&&(e=t.component.parentFragment)?e.owner:void 0}function le(t){var e,n;for(e=[t],n=ae(t);n;)e.push(n),n=ae(n);return e}function ce(t,e,n,i){var r=[];return kl(r,{selector:{value:e},live:{value:n},_isComponentQuery:{value:i},_test:{value:Ec}}),n?(kl(r,{cancel:{value:_c},_root:{value:t},_sort:{value:$c},_makeDirty:{value:Dc},_remove:{value:Pc},_dirty:{value:!1,writable:!0}}),r):r}function he(t,e){var n,i;return this.el?(e=e||{},n=this._liveQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Rc(this,t,!!e.live,!1),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAll(t,i),i)):[]}function ue(t,e){var n,i;return e=e||{},n=this._liveComponentQueries,(i=n[t])?e&&e.live?i:i.slice():(i=Rc(this,t,!!e.live,!0),i.live&&(n.push(t),n["_"+t]=i),this.fragment.findAllComponents(t,i),i)}function de(t){return this.fragment.findComponent(t)}function fe(t){return this.container?this.container.component&&this.container.component.name===t?this.container:this.container.findContainer(t):null}function pe(t){return this.parent?this.parent.component&&this.parent.component.name===t?this.parent:this.parent.findParent(t):null}function me(t,e){var n=void 0===arguments[2]?{}:arguments[2];if(e){n.event?n.event.name=e:n.event={name:e,_noArg:!0};var i=C(e).wildcardMatches();ge(t,i,n.event,n.args,!0)}}function ge(t,e,n,i){var r,s,o=void 0===arguments[4]?!1:arguments[4],a=!0;for(Uc.enqueue(t,n),s=e.length;s>=0;s--)r=t._subs[e[s]],r&&(a=ve(t,r,n,i)&&a);if(Uc.dequeue(t),t.parent&&a){if(o&&t.component){var l=t.component.name+"."+e[e.length-1];e=C(l).wildcardMatches(),n&&(n.component=t)}ge(t.parent,e,n,i)}}function ve(t,e,n,i){var r=null,s=!1;n&&!n._noArg&&(i=[n].concat(i)),e=e.slice();for(var o=0,a=e.length;a>o;o+=1)e[o].apply(t,i)===!1&&(s=!0);return n&&!n._noArg&&s&&(r=n.original)&&(r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation()),!s}function be(t){var e={args:Array.prototype.slice.call(arguments,1)};Vc(this,t,e)}function ye(t){var e;return t=C(_(t)),e=this.viewmodel.get(t,Hc),void 0===e&&this.parent&&!this.isolated&&lc(this,t.str,this.component.parentFragment)&&(e=this.viewmodel.get(t)),e}function we(e,n){if(!this.fragment.rendered)throw Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),n=t(n)||null,!e)throw Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),n),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,xe(this)}function xe(t){qc.fire(t),t.findAllComponents("*").forEach(function(t){xe(t.instance)})}function ke(t,e,n){var i,r;return t=C(_(t)),i=this.viewmodel.get(t),s(i)&&s(e)?(r=mc.start(this,!0),this.viewmodel.merge(t,i,e,n),mc.end(),r):this.set(t,e,n&&n.complete)}function Te(t,e){var n,i;return n=S(t,e),i={},n.forEach(function(e){i[e.str]=t.get(e.str)}),i}function Ce(t,e,n,i){var r,s,o;e=C(_(e)),i=i||ah,e.isPattern?(r=new sh(t,e,n,i),t.viewmodel.patternObservers.push(r),s=!0):r=new Zc(t,e,n,i),r.init(i.init),t.viewmodel.register(e,r,s?"patternObservers":"observers"),r.ready=!0;var a={cancel:function(){var n;o||(s?(n=t.viewmodel.patternObservers.indexOf(r),t.viewmodel.patternObservers.splice(n,1),t.viewmodel.unregister(e,r,"patternObservers")):t.viewmodel.unregister(e,r,"observers"),o=!0)}};return t._observers.push(a),a}function Se(t,e,n){var i,r,s,o;if(c(t)){n=e,r=t,i=[];for(t in r)r.hasOwnProperty(t)&&(e=r[t],i.push(this.observe(t,e,n)));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}if("function"==typeof t)return n=e,e=t,t="",oh(this,t,e,n);if(s=t.split(" "),1===s.length)return oh(this,t,e,n);for(i=[],o=s.length;o--;)t=s[o],t&&i.push(oh(this,t,e,n));return{cancel:function(){for(;i.length;)i.pop().cancel()}}}function Ee(t,e,n){var i=this.observe(t,function(){e.apply(this,arguments),i.cancel()},{init:!1,defer:n&&n.defer});return i}function _e(t,e){var n,i=this;if(t)n=t.split(" ").map(hh).filter(uh),n.forEach(function(t){var n,r;(n=i._subs[t])&&(e?(r=n.indexOf(e),-1!==r&&n.splice(r,1)):i._subs[t]=[])});else for(t in this._subs)delete this._subs[t];return this}function Ae(t,e){var n,i,r,s=this;if("object"==typeof t){n=[];for(i in t)t.hasOwnProperty(i)&&n.push(this.on(i,t[i]));return{cancel:function(){for(var t;t=n.pop();)t.cancel()}}}return r=t.split(" ").map(hh).filter(uh),r.forEach(function(t){(s._subs[t]||(s._subs[t]=[])).push(e)}),{cancel:function(){return s.off(t,e)}}}function Oe(t,e){var n=this.on(t,function(){e.apply(this,arguments),n.cancel()});return n}function $e(t,e,n){var i,r,s,o,a,l,c=[];if(i=De(t,e,n),!i)return null;for(r=t.length,a=i.length-2-i[1],s=Math.min(r,i[0]),o=s+i[1],l=0;s>l;l+=1)c.push(l);for(;o>l;l+=1)c.push(-1);for(;r>l;l+=1)c.push(l+a);return c.touchedFrom=0!==a?i[0]:t.length,c}function De(t,e,n){switch(e){case"splice":for(void 0!==n[0]&&0>n[0]&&(n[0]=t.length+Math.max(n[0],-t.length));2>n.length;)n.push(0);return n[1]=Math.min(n[1],t.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return t.length?[t.length-1,1]:[0,0];case"push":return[t.length,0].concat(n);case"shift":return[0,t.length?1:0];case"unshift":return[0,0].concat(n)}}function Pe(e,n){var i,r,s,o=this;if(s=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),i=mc.start(this,!0),mc.scheduleTask(function(){return _h.fire(o)},!0),this.fragment.rendered)throw Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(e=t(e)||this.el,n=t(n)||this.anchor,this.el=e,this.anchor=n,!this.append&&e){var a=e.__ractive_instances__;a&&a.length&&Re(a),e.innerHTML=""}return this.cssId&&Sh.apply(),e&&((r=e.__ractive_instances__)?r.push(this):e.__ractive_instances__=[this],n?e.insertBefore(this.fragment.render(),n):e.appendChild(this.fragment.render())),mc.end(),this.transitionsEnabled=s,i.then(function(){return Ah.fire(o)})}function Re(t){t.splice(0,t.length).forEach(q)}function Fe(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function je(t,e){var n,i,r;return i='[data-ractive-css~="{'+e+'}"]',r=function(t){var e,n,r,s,o,a,l,c=[];for(e=[];n=Fh.exec(t);)e.push({str:n[0],base:n[1],modifiers:n[2]});for(s=e.map(Ne),l=e.length;l--;)a=s.slice(),r=e[l],a[l]=r.base+i+r.modifiers||"",o=s.slice(),o[l]=i+" "+o[l],c.push(a.join(" "),o.join(" "));return c.join(", ")},n=Ih.test(t)?t.replace(Ih,i):t.replace(Rh,"").replace(Ph,function(t,e){var n,i;return jh.test(e)?t:(n=e.split(",").map(Ie),i=n.map(r).join(", ")+" ",t.replace(e,i))})}function Ie(t){return t.trim?t.trim():t.replace(/^\s+/,"").replace(/\s+$/,"")}function Ne(t){return t.str}function Le(t){t&&t.constructor!==Object&&("function"==typeof t||("object"!=typeof t?u("data option must be an object or a function, `"+t+"` is not valid"):m("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")))}function Me(t,e){Le(e);var n="function"==typeof t,i="function"==typeof e;return e||n||(e={}),n||i?function(){var r=i?Ue(e,this):e,s=n?Ue(t,this):t;return Ve(r,s)}:Ve(e,t)}function Ue(t,e){var n=t.call(e);return n?("object"!=typeof n&&u("Data function must return an object"),n.constructor!==Object&&g("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged"),n):void 0}function Ve(t,e){if(t&&e){for(var n in e)n in t||(t[n]=e[n]);return t}return t||e}function We(t){var e,n,i;return t.matchString("=")?(e=t.pos,t.allowWhitespace(),(n=t.matchPattern(Ru))?t.matchPattern(Fu)?(i=t.matchPattern(Ru))?(t.allowWhitespace(),t.matchString("=")?[n,i]:(t.pos=e,null)):(t.pos=e,null):null:(t.pos=e,null)):null}function Be(t){var e;return(e=t.matchPattern(Iu))?{t:pu,v:e}:null}function He(t){var e,n;if(t.interpolate[t.inside]===!1)return null;for(n=0;t.tags.length>n;n+=1)if(e=ze(t,t.tags[n]))return e}function ze(t,e){var n,i,r,s;if(n=t.pos,t.matchString("\\"+e.open)){if(0===n||"\\"!==t.str[n-1])return e.open}else if(!t.matchString(e.open))return null;if(i=Pu(t))return t.matchString(e.close)?(e.open=i[0],e.close=i[1],t.sortMustacheTags(),Lu):null;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;ju(t)?t.pos=o:(t.pos=o-e.close.length,t.error("Attempted to close a section that wasn't open"))}for(s=0;e.readers.length>s;s+=1)if(r=e.readers[s],i=r(t,e))return e.isStatic&&(i.s=!0),t.includeLinePositions&&(i.p=t.getLinePos(n)),i;return t.pos=n,null}function qe(t){var e;return(e=t.matchPattern(Wu))?{t:cu,v:e}:null}function Ke(t){var e=t.remaining();return"true"===e.substr(0,4)?(t.pos+=4,{t:fu,v:"true"}):"false"===e.substr(0,5)?(t.pos+=5,{t:fu,v:"false"}):null}function Qe(t){var e;return(e=Gu(t))?Yu.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"':(e=Vu(t))?e.v:(e=t.matchPattern(Zu))?e:void 0}function Ge(t){var e,n,i;return e=t.pos,t.allowWhitespace(),n=Xu(t),null===n?(t.pos=e,null):(t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),i=Ad(t),null===i?(t.pos=e,null):{t:gu,k:n,v:i}):(t.pos=e,null))}function Ze(t){var e,n,i,r;return e=t.pos,i=Ju(t),null===i?null:(n=[i],t.matchString(",")?(r=Ze(t),r?n.concat(r):(t.pos=e,null)):n)}function Xe(t){function e(t){i.push(t)}var n,i,r,s;return n=t.pos,t.allowWhitespace(),r=Ad(t),null===r?null:(i=[r],t.allowWhitespace(),t.matchString(",")&&(s=Xe(t),null===s&&t.error(Mu),s.forEach(e)),i)}function Ye(t){return Vu(t)||Bu(t)||Gu(t)||ed(t)||id(t)||ju(t)}function Je(t){var e,n,i,r,s,o;return e=t.pos,i=t.matchPattern(/^@(?:keypath|index|key)/),i||(n=t.matchPattern(od)||"",i=!n&&t.relaxedNames&&t.matchPattern(hd)||t.matchPattern(cd),i||"."!==n||(n="",i=".")),i?n||t.relaxedNames||!zu.test(i)?!n&&Hu.test(i)?(r=Hu.exec(i)[0],t.pos=e+r.length,{t:mu,v:r}):(s=(n||"")+_(i),t.matchString("(")&&(o=s.lastIndexOf("."),-1!==o?(s=s.substr(0,o),t.pos=e+s.length):t.pos-=1),{t:vu,n:s.replace(/^this\./,"./").replace(/^this$/,".")}):(t.pos=e,null):null}function tn(t){var e,n;return e=t.pos,t.matchString("(")?(t.allowWhitespace(),n=Ad(t),n||t.error(Mu),t.allowWhitespace(),t.matchString(")")||t.error(Uu),{t:xu,x:n}):null}function en(t){var e,n,i;if(e=t.pos,t.allowWhitespace(),t.matchString(".")){if(t.allowWhitespace(),n=t.matchPattern(Zu))return{t:bu,n:n};t.error("Expected a property name")}return t.matchString("[")?(t.allowWhitespace(),i=Ad(t),i||t.error(Mu),t.allowWhitespace(),t.matchString("]")||t.error("Expected ']'"),{t:bu,x:i}):null}function nn(t){var e,n,i,r;return(n=Ed(t))?(e=t.pos,t.allowWhitespace(),t.matchString("?")?(t.allowWhitespace(),i=Ad(t),i||t.error(Mu),t.allowWhitespace(),t.matchString(":")||t.error('Expected ":"'),t.allowWhitespace(),r=Ad(t),r||t.error(Mu),{t:ku,o:[n,i,r]}):(t.pos=e,n)):null}function rn(t){return _d(t)}function sn(t){function e(t){switch(t.t){case fu:case mu:case cu:case pu:return t.v;case hu:return JSON.stringify(t.v+"");case uu:return"["+(t.m?t.m.map(e).join(","):"")+"]";case du:return"{"+(t.m?t.m.map(e).join(","):"")+"}";case gu:return t.k+":"+e(t.v);case wu:return("typeof"===t.s?"typeof ":t.s)+e(t.o);case Tu:return e(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+e(t.o[1]);case Cu:return e(t.x)+"("+(t.o?t.o.map(e).join(","):"")+")";case xu:return"("+e(t.x)+")";case yu:return e(t.x)+e(t.r);case bu:return t.n?"."+t.n:"["+e(t.x)+"]";case ku:return e(t.o[0])+"?"+e(t.o[1])+":"+e(t.o[2]);case vu:return"_"+n.indexOf(t.n);default:throw Error("Expected legal JavaScript")}}var n;return on(t,n=[]),{r:n,s:e(t)}}function on(t,e){var n,i;if(t.t===vu&&-1===e.indexOf(t.n)&&e.unshift(t.n),i=t.o||t.m)if(c(i))on(i,e);else for(n=i.length;n--;)on(i[n],e);t.x&&on(t.x,e),t.r&&on(t.r,e),t.v&&on(t.v,e)}function an(t,e){var n;if(t){for(;t.t===xu&&t.x;)t=t.x;return t.t===vu?e.r=t.n:t.t===cu&&Dd.test(t.v)?e.r=t.v:(n=ln(t))?e.rx=n:e.x=Od(t),e}}function ln(t){for(var e,n=[];t.t===yu&&t.r.t===bu;)e=t.r,n.unshift(e.x?e.x.t===vu?e.x:Od(e.x):e.n),t=t.x;return t.t!==vu?null:{r:t.n,m:n}}function cn(t,e){var n,i=Ad(t);return i?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),n={t:Gh},$d(i,n),n):null}function hn(t,e){var n,i;return t.matchString("&")?(t.allowWhitespace(),(n=Ad(t))?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),i={t:Gh},$d(n,i),i):null):null}function un(t,e){var n,i,r,s,o;return n=t.pos,t.matchString(">")?(t.allowWhitespace(),i=t.pos,t.relaxedNames=!0,r=Ad(t),t.relaxedNames=!1,t.allowWhitespace(),s=Ad(t),t.allowWhitespace(),r?(o={t:tu},$d(r,o),t.allowWhitespace(),s&&(o={t:Zh,n:Au,f:[o]},$d(s,o)),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),o):null):null}function dn(t,e){var n;return t.matchString("!")?(n=t.remaining().indexOf(e.close),-1!==n?(t.pos+=n+e.close.length,{t:eu}):void 0):null}function fn(t,e){var n,i,r;if(n=t.pos,i=Ad(t),!i)return null;for(r=0;e.length>r;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return i;return t.pos=n,sd(t)}function pn(t,e){var n,i,r,s;
n=t.pos;try{i=Id(t,[e.close])}catch(o){s=o}if(!i){if("!"===t.str.charAt(n))return t.pos=n,null;if(s)throw s}if(!t.matchString(e.close)&&(t.error("Expected closing delimiter '"+e.close+"' after reference"),!i)){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Qh},$d(i,r),r}function mn(t,e){var n,i,r;return t.matchPattern(Md)?(n=t.pos,i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),t.allowWhitespace(),t.matchString(e.close)||t.error("expected legal partial name"),r={t:ou},i&&(r.n=i),r):null}function gn(t,e){var n,i,r,s;return n=t.pos,t.matchString(e.open)?(t.allowWhitespace(),t.matchString("/")?(t.allowWhitespace(),i=t.remaining(),r=i.indexOf(e.close),-1!==r?(s={t:Yh,r:i.substr(0,r).split(" ")[0]},t.pos+=r,t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),s):(t.pos=n,null)):(t.pos=n,null)):null}function vn(t,e){var n=t.pos;return t.matchString(e.open)?t.matchPattern(Wd)?(t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:$u}):(t.pos=n,null):null}function bn(t,e){var n,i=t.pos;return t.matchString(e.open)?t.matchPattern(Hd)?(n=Ad(t),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),{t:Du,x:n}):(t.pos=i,null):null}function yn(t,e){var n,i,r,s,o,a,l,c,h,u,d,f;if(n=t.pos,t.matchString("^"))r={t:Zh,f:[],n:Eu};else{if(!t.matchString("#"))return null;r={t:Zh,f:[]},t.matchString("partial")&&(t.pos=n-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components")),(l=t.matchPattern(Gd))&&(f=l,r.n=zd[l])}if(t.allowWhitespace(),i=Ad(t),i||t.error("Expected expression"),d=t.matchPattern(Kd)){var p=void 0;r.i=(p=t.matchPattern(Qd))?d+","+p:d}t.allowWhitespace(),t.matchString(e.close)||t.error("Expected closing delimiter '"+e.close+"'"),t.sectionDepth+=1,o=r.f,h=[];do if(s=Ud(t,e))f&&s.r!==f&&t.error("Expected "+e.open+"/"+f+e.close),t.sectionDepth-=1,u=!0;else if(s=Bd(t,e))r.n===Eu&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("illegal {{elseif...}} after {{else}}"),c||(c=wn(i,r.n)),c.f.push({t:Zh,n:Su,x:Od(kn(h.concat(s.x))),f:o=[]}),h.push(xn(s.x));else if(s=Vd(t,e))r.n===Eu&&t.error("{{else}} not allowed in {{#unless}}"),a&&t.error("there can only be one {{else}} block, at the end of a section"),a=!0,c?c.f.push({t:Zh,n:Su,x:Od(kn(h)),f:o=[]}):(c=wn(i,r.n),o=c.f);else{if(s=t.read(tp),!s)break;o.push(s)}while(!u);return c&&(r.n===Au&&(r.n=Ou),r.l=c),$d(i,r),r.f.length||delete r.f,r}function wn(t,e){var n;return e===Au?(n={t:Zh,n:Su,f:[]},$d(xn(t),n)):(n={t:Zh,n:Eu,f:[]},$d(t,n)),n}function xn(t){return t.t===wu&&"!"===t.s?t.o:{t:wu,s:"!",o:Tn(t)}}function kn(t){return 1===t.length?t[0]:{t:Tu,s:"&&",o:[Tn(t[0]),Tn(kn(t.slice(1)))]}}function Tn(t){return{t:xu,x:t}}function Cn(t){var e,n,i,r,s;return e=t.pos,t.matchString(Xd)?(i=t.remaining(),r=i.indexOf(Yd),-1===r&&t.error("Illegal HTML - expected closing comment sequence ('-->')"),n=i.substr(0,r),t.pos+=r+3,s={t:eu,c:n},t.includeLinePositions&&(s.p=t.getLinePos(e)),s):null}function Sn(t){return t.replace(kd,function(t,e){var n;return n="#"!==e[0]?wd[e]:"x"===e[1]?parseInt(e.substring(2),16):parseInt(e.substring(1),10),n?String.fromCharCode(En(n)):t})}function En(t){return t?10===t?32:128>t?t:159>=t?xd[t-128]:55296>t?t:57343>=t?65533:65535>=t?t:65533:65533}function _n(t){return t.replace(Sd,"&amp;").replace(Td,"&lt;").replace(Cd,"&gt;")}function An(t){return"string"==typeof t}function On(t){return t.t===eu||t.t===nu}function $n(t){return(t.t===Zh||t.t===Xh)&&t.f}function Dn(t,e,n,i,r){var o,a,l,c,h,u,d,f;for(cf(t),o=t.length;o--;)a=t[o],a.exclude?t.splice(o,1):e&&a.t===eu&&t.splice(o,1);for(hf(t,i?pf:null,r?mf:null),o=t.length;o--;){if(a=t[o],a.f){var p=a.t===Jh&&ff.test(a.e);h=n||p,!n&&p&&hf(a.f,gf,vf),h||(l=t[o-1],c=t[o+1],(!l||"string"==typeof l&&mf.test(l))&&(u=!0),(!c||"string"==typeof c&&pf.test(c))&&(d=!0)),Dn(a.f,e,h,u,d)}if(a.l&&(Dn(a.l.f,e,n,u,d),t.splice(o+1,0,a.l),delete a.l),a.a)for(f in a.a)a.a.hasOwnProperty(f)&&"string"!=typeof a.a[f]&&Dn(a.a[f],e,n,u,d);if(a.m&&Dn(a.m,e,n,u,d),a.v)for(f in a.v)a.v.hasOwnProperty(f)&&(s(a.v[f].n)&&Dn(a.v[f].n,e,n,u,d),s(a.v[f].d)&&Dn(a.v[f].d,e,n,u,d))}for(o=t.length;o--;)"string"==typeof t[o]&&("string"==typeof t[o+1]&&(t[o]=t[o]+t[o+1],t.splice(o+1,1)),n||(t[o]=t[o].replace(df," ")),""===t[o]&&t.splice(o,1))}function Pn(t){var e,n;return e=t.pos,t.matchString("</")?(n=t.matchPattern(yf))?t.inside&&n!==t.inside?(t.pos=e,null):{t:ru,e:n}:(t.pos-=2,void t.error("Illegal closing tag")):null}function Rn(t){var e,n,i;return t.allowWhitespace(),(n=t.matchPattern(kf))?(e={name:n},i=Fn(t),null!=i&&(e.value=i),e):null}function Fn(t){var e,n,i,r;return e=t.pos,/[=\/>\s]/.test(t.nextChar())||t.error("Expected `=`, `/`, `>` or whitespace"),t.allowWhitespace(),t.matchString("=")?(t.allowWhitespace(),n=t.pos,i=t.sectionDepth,r=Nn(t,"'")||Nn(t,'"')||In(t),null===r&&t.error("Expected valid attribute value"),t.sectionDepth!==i&&(t.pos=n,t.error("An attribute value must contain as many opening section tags as closing section tags")),r.length?1===r.length&&"string"==typeof r[0]?Sn(r[0]):r:""):(t.pos=e,null)}function jn(t){var e,n,i,r,s;return e=t.pos,(n=t.matchPattern(Tf))?(i=n,r=t.tags.map(function(t){return t.open}),-1!==(s=wf(i,r))&&(n=n.substr(0,s),t.pos=e+n.length),n):null}function In(t){var e,n;for(t.inAttribute=!0,e=[],n=Nu(t)||jn(t);null!==n;)e.push(n),n=Nu(t)||jn(t);return e.length?(t.inAttribute=!1,e):null}function Nn(t,e){var n,i,r;if(n=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,i=[],r=Nu(t)||Ln(t,e);null!==r;)i.push(r),r=Nu(t)||Ln(t,e);return t.matchString(e)?(t.inAttribute=!1,i):(t.pos=n,null)}function Ln(t,e){var n,i,r,s;return n=t.pos,r=t.remaining(),s=t.tags.map(function(t){return t.open}),s.push(e),i=wf(r,s),-1===i&&t.error("Quoted attribute value must have a closing quote"),i?(t.pos+=i,r.substr(0,i)):null}function Mn(t){var e,n,i;return t.allowWhitespace(),(e=Xu(t))?(i={key:e},t.allowWhitespace(),t.matchString(":")?(t.allowWhitespace(),(n=t.read())?(i.value=n.v,i):null):null):null}function Un(t,e){var n,i,r,s,o,a,l,c,h;if("string"==typeof t){if(i=_f.exec(t)){var u=t.lastIndexOf(")");return Af.test(t)||e.error("Invalid input after method call expression '"+t.slice(u+1)+"'"),n={m:i[1]},s="["+t.slice(n.m.length+1,u)+"]",r=new Cf(s),n.a=Od(r.result[0]),n}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},l=[],c=[],t){for(;t.length;)if(o=t.shift(),"string"==typeof o){if(a=o.indexOf(":"),-1!==a){a&&l.push(o.substr(0,a)),o.length>a+1&&(c[0]=o.substring(a+1));break}l.push(o)}else l.push(o);c=c.concat(t)}return l.length?c.length||"string"!=typeof l?(n={n:1===l.length&&"string"==typeof l[0]?l[0]:l},1===c.length&&"string"==typeof c[0]?(h=Sf("["+c[0]+"]"),n.a=h?h.value:c[0].trim()):n.d=c):n=l:n="",n}function Vn(t){var e,n,i,r,s,o,a,l,c,h,u,d,f,p,m,g;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(n={},t.includeLinePositions&&(n.p=t.getLinePos(e)),t.matchString("!"))return n.t=lu,t.matchPattern(/^doctype/i)||t.error("Expected DOCTYPE declaration"),n.a=t.matchPattern(/^(.+?)>/),n;if(n.t=Jh,n.e=t.matchPattern($f),!n.e)return null;for(Df.test(t.nextChar())||t.error("Illegal tag name"),s=function(e,i){var r=i.n||i;Ff.test(r)&&(t.pos-=r.length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")),n.v[e]=i},t.allowWhitespace();o=Nu(t)||xf(t);)o.name?(i=jf[o.name])?n[i]=Ef(o.value,t):(r=Rf.exec(o.name))?(n.v||(n.v={}),a=Ef(o.value,t),s(r[1],a)):t.sanitizeEventAttributes&&Pf.test(o.name)||(n.a||(n.a={}),n.a[o.name]=o.value||(""===o.value?"":0)):(n.m||(n.m=[]),n.m.push(o)),t.allowWhitespace();if(t.allowWhitespace(),t.matchString("/")&&(l=!0),!t.matchString(">"))return null;var v=n.e.toLowerCase(),b=t.preserveWhitespace;if(!l&&!yd.test(n.e)){t.elementStack.push(v),("script"===v||"style"===v)&&(t.inside=v),c=[],h=wl(null);do if(p=t.pos,m=t.remaining(),Wn(v,m))if(g=bf(t)){f=!0;var y=g.e.toLowerCase();if(y!==v&&(t.pos=p,!~t.elementStack.indexOf(y))){var w="Unexpected closing tag";yd.test(y)&&(w+=" (<"+y+"> is a void element - it cannot contain children)"),t.error(w)}}else(d=Ud(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?(f=!0,t.pos=p):(d=t.read(ep))?(h[d.n]&&(t.pos=p,t.error("Duplicate partial definition")),uf(d.f,t.stripComments,b,!b,!b),h[d.n]=d.f,u=!0):(d=t.read(tp))?c.push(d):f=!0;else f=!0;while(!f);c.length&&(n.f=c),u&&(n.p=h),t.elementStack.pop()}return t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(v)?If:n}function Wn(t,e){var n,i;return n=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),i=Of[t],n&&i?!~i.indexOf(n[1].toLowerCase()):!0}function Bn(t){var e,n,i,r;return n=t.remaining(),r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside]?e=n.indexOf(r):(i=t.tags.map(function(t){return t.open}),i=i.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0?i.push('"',"'","=","<",">","`"):i.push(t.inAttribute?t.inAttribute:r),e=wf(n,i)),e?(-1===e&&(e=n.length),t.pos+=e,t.inside?n.substr(0,e):Sn(n.substr(0,e))):null}function Hn(t){return t.replace(Vf,"\\$&")}function zn(t){var e=t.pos,n=t.standardDelimiters[0],i=t.standardDelimiters[1],r=void 0,s=void 0;if(!t.matchPattern(Bf)||!t.matchString(n))return t.pos=e,null;var o=t.matchPattern(Hf);if(g("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+o+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+o+"}} --> ... <!-- {{/"+o+"}} -->'"),!t.matchString(i)||!t.matchPattern(zf))return t.pos=e,null;r=[];var a=RegExp("^<!--\\s*"+Uf(n)+"\\s*\\/\\s*"+o+"\\s*"+Uf(i)+"\\s*-->");do t.matchPattern(a)?s=!0:(Nf=t.read(tp),Nf||t.error("expected closing comment ('<!-- "+n+"/"+o+i+" -->')"),r.push(Nf));while(!s);return{t:au,f:r,n:o}}function qn(t){var e,n,i,r,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Kf))return t.pos=e,null;n=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/),n||t.error("expected legal partial name"),t.matchString(o[1])||t.error("Expected closing delimiter '"+o[1]+"'"),i=[];do(r=Ud(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))?("partial"===!r.r&&t.error("Expected "+o[0]+"/partial"+o[1]),s=!0):(r=t.read(tp),r||t.error("Expected "+o[0]+"/partial"+o[1]),i.push(r));while(!s);return{t:au,n:n,f:i}}function Kn(t){for(var e=[],n=wl(null),i=!1,r=t.preserveWhitespace;t.str.length>t.pos;){var s=t.pos,o=void 0,a=void 0;(a=t.read(ep))?(n[a.n]&&(t.pos=s,t.error("Duplicated partial definition")),uf(a.f,t.stripComments,r,!r,!r),n[a.n]=a.f,i=!0):(o=t.read(tp))?e.push(o):t.error("Unexpected template content")}var l={v:ol,t:e};return i&&(l.p=n),l}function Qn(t,e){return new Jf(t,e||{}).result}function Gn(t){var e=wl(op);return e.parse=function(e,n){return Zn(e,n||t)},e}function Zn(t,e){if(!Gf)throw Error("Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser");return Gf(t,e||this.options)}function Xn(t,e){var n;if(!Ja){if(e&&e.noThrow)return;throw Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(Yn(t)&&(t=t.substring(1)),!(n=document.getElementById(t))){if(e&&e.noThrow)return;throw Error("Could not find template element with id #"+t)}if("SCRIPT"!==n.tagName.toUpperCase()){if(e&&e.noThrow)return;throw Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in n?n.textContent:n.innerHTML}function Yn(t){return t&&"#"===t[0]}function Jn(t){return!("string"==typeof t)}function ti(t){return t.defaults&&(t=t.defaults),sp.reduce(function(e,n){return e[n]=t[n],e},{})}function ei(t){var e,n=t._config.template;return n&&n.fn?(e=ni(t,n.fn),e!==n.result?(n.result=e,e=ri(e,t)):void 0):void 0}function ni(t,e){var n=ii(ap.getParseOptions(t));return e.call(t,n)}function ii(t){var e=wl(ap);return e.parse=function(e,n){return ap.parse(e,n||t)},e}function ri(t,e){if("string"==typeof t)"#"===t[0]&&(t=ap.fromId(t)),t=Gf(t,ap.getParseOptions(e));else{if(void 0==t)throw Error("The template cannot be "+t+".");if("number"!=typeof t.v)throw Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");if(t.v!==ol)throw Error("Mismatched template version (expected "+ol+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}return t}function si(t,e,n){if(e)for(var i in e)(n||!t.hasOwnProperty(i))&&(t[i]=e[i])}function oi(t,e,n){if(!/_super/.test(n))return n;var i=function(){var t,r=ai(i._parent,e),s="_super"in this,o=this._super;return this._super=r,t=n.apply(this,arguments),s?this._super=o:delete this._super,t};return i._parent=t,i._method=n,i}function ai(t,e){var n,i;return e in t?(n=t[e],i="function"==typeof n?n:function(){return n}):i=Dl,i}function li(t,e,n){return"options."+t+" has been deprecated in favour of options."+e+"."+(n?" You cannot specify both options, please use options."+e+".":"")}function ci(t,e,n){if(e in t){if(n in t)throw Error(li(e,n,!0));m(li(e,n)),t[n]=t[e]}}function hi(t){ci(t,"beforeInit","onconstruct"),ci(t,"init","onrender"),ci(t,"complete","oncomplete"),ci(t,"eventDefinitions","events"),s(t.adaptors)&&ci(t,"adaptors","adapt")}function ui(t,e,n,i){bp(i);for(var r in i)if(mp.hasOwnProperty(r)){var s=i[r];"el"!==r&&"function"==typeof s?m(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?n:null):n[r]=s}gp.forEach(function(r){r[t](e,n,i)}),$h[t](e,n,i),cp[t](e,n,i),Mh[t](e,n,i),di(e.prototype,n,i)}function di(t,e,n){for(var i in n)if(!pp[i]&&n.hasOwnProperty(i)){var r=n[i];"function"==typeof r&&(r=vp(t,i,r)),e[i]=r}}function fi(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function pi(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()}function mi(){var t;return 1===this.items.length?this.items[0].detach():(t=document.createDocumentFragment(),this.items.forEach(function(e){var n=e.detach();n&&t.appendChild(n)}),t)}function gi(t){var e,n,i,r;if(this.items){for(n=this.items.length,e=0;n>e;e+=1)if(i=this.items[e],i.find&&(r=i.find(t)))return r;return null}}function vi(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAll&&r.findAll(t,e);return e}function bi(t,e){var n,i,r;if(this.items)for(i=this.items.length,n=0;i>n;n+=1)r=this.items[n],r.findAllComponents&&r.findAllComponents(t,e);return e}function yi(t){var e,n,i,r;if(this.items){for(e=this.items.length,n=0;e>n;n+=1)if(i=this.items[n],i.findComponent&&(r=i.findComponent(t)))return r;return null}}function wi(t){var e,n=t.index;return e=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)}function xi(){return this.items&&this.items[0]?this.items[0].firstNode():null}function ki(t,e,n,i){return i=i||0,t.map(function(t){var r,s,o;return t.text?t.text:t.fragments?t.fragments.map(function(t){return ki(t.items,e,n,i)}).join(""):(r=n+"-"+i++,o=t.keypath&&(s=t.root.viewmodel.wrapped[t.keypath.str])?s.value:t.getValue(),e[r]=o,"${"+r+"}")}).join("")}function Ti(){var t,e,n,i;return this.dirtyArgs&&(e=Ap(this.items,t={},this.root._guid),n=Sf("["+e+"]",t),i=n?n.value:[this+""],this.argsList=i,this.dirtyArgs=!1),this.argsList}function Ci(){var t=this;do if(t.pElement)return t.pElement.node;while(t=t.parent);return this.root.detached||this.root.el}function Si(){var t,e,n,i;return this.dirtyValue&&(e=Ap(this.items,t={},this.root._guid),n=Sf(e,t),i=n?n.value:this+"",this.value=i,this.dirtyValue=!1),this.value}function Ei(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()}function _i(){return this.value}function Ai(t,e){for(var n,i=0;e.prop.length>i;i++)if(void 0!==(n=t[e.prop[i]]))return n}function Oi(t,e){var n,i,r,s,o,a={},l=!1;for(e||(a.refs=n={});t;){if((o=t.owner)&&(i=o.indexRefs)){if(e&&(r=o.getIndexRef(e)))return a.ref={fragment:t,ref:r},a;if(!e)for(s in i)r=i[s],n[r.n]||(l=!0,n[r.n]={fragment:t,ref:r})}!t.parent&&t.owner&&t.owner.component&&t.owner.component.parentFragment&&!t.owner.component.instance.isolated?(a.componentBoundary=!0,t=t.owner.component.parentFragment):t=t.parent}return l?a:void 0}function $i(t,e,n){var i;return"@"===e.charAt(0)?new Vp(t,e,n):(i=Hp(t.parentFragment,e))?new Bp(t,i,n):new Lp(t,e,n)}function Di(t,e){var n,i;if(Qp[t])return Qp[t];for(i=[];e--;)i[e]="_"+e;return n=Function(i.join(","),"return("+t+")"),Qp[t]=n,n}function Pi(t){return t.call()}function Ri(t,e){return t.replace(/_([0-9]+)/g,function(t,n){var i,r;return+n>=e.length?"_"+n:(i=e[n],void 0===i?"undefined":i.isSpecial?(r=i.value,"number"==typeof r?r:'"'+r+'"'):i.str)})}function Fi(t){return C("${"+t.replace(/[\.\[\]]/g,"-").replace(/\*/,"#MUL#")+"}")}function ji(t){return void 0!==t&&"@"!==t[0]}function Ii(t,e){var n,i,r;if(t.__ractive_nowrap)return t;if(i="__ractive_"+e._guid,n=t[i])return n;if(/this/.test(t+"")){xl(t,i,{value:Gp.call(t,e),configurable:!0});for(r in t)t.hasOwnProperty(r)&&(t[i][r]=t[r]);return e._boundFunctions.push({fn:t,prop:i}),t[i]}return xl(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}function Ni(t){return t.value}function Li(t){return void 0!=t}function Mi(t){t.forceResolution()}function Ui(t,e){function n(e){t.resolve(e)}function i(e){var n=t.keypath;e!=n&&(t.resolve(e),void 0!==n&&t.fragments&&t.fragments.forEach(function(t){t.rebind(n,e)}))}var r,s,o;s=e.parentFragment,o=e.template,t.root=s.root,t.parentFragment=s,t.pElement=s.pElement,t.template=e.template,t.index=e.index||0,t.isStatic=e.template.s,t.type=e.template.t,t.registered=!1,(r=o.r)&&(t.resolver=qp(t,r,n)),e.template.x&&(t.resolver=new Zp(t,s,e.template.x,i)),e.template.rx&&(t.resolver=new tm(t,e.template.rx,i)),t.template.n!==Eu||t.hasOwnProperty("value")||t.setValue(void 0)}function Vi(t){var e,n,i;return t&&t.isSpecial?(this.keypath=t,void this.setValue(t.value)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,e=!0),this.keypath=t,void 0!=t&&(n=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(n),void(e&&(i=this.twowayBinding)&&i.rebound()))}function Wi(t,e){this.fragments&&this.fragments.forEach(function(n){return n.rebind(t,e)}),this.resolver&&this.resolver.rebind(t,e)}function Bi(){this.parentFragment.bubble()}function Hi(){var t;return 1===this.fragments.length?this.fragments[0].detach():(t=document.createDocumentFragment(),this.fragments.forEach(function(e){t.appendChild(e.detach())}),t)}function zi(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].find(t))return i;return null}function qi(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAll(t,e)}function Ki(t,e){var n,i;for(i=this.fragments.length,n=0;i>n;n+=1)this.fragments[n].findAllComponents(t,e)}function Qi(t){var e,n,i;for(n=this.fragments.length,e=0;n>e;e+=1)if(i=this.fragments[e].findComponent(t))return i;return null}function Gi(t){return this.fragments[t.index+1]?this.fragments[t.index+1].firstNode():this.parentFragment.findNextNode(this)}function Zi(){var t,e,n;if(t=this.fragments.length)for(e=0;t>e;e+=1)if(n=this.fragments[e].firstNode())return n;return this.parentFragment.findNextNode(this)}function Xi(t){var e,n,i,r,s,o,a,l=this;if(!this.shuffling&&!this.unbound&&this.currentSubtype===_u){if(this.shuffling=!0,mc.scheduleTask(function(){return l.shuffling=!1}),e=this.parentFragment,s=[],t.forEach(function(t,e){var i,r,o,a,c;return t===e?void(s[t]=l.fragments[e]):(i=l.fragments[e],void 0===n&&(n=e),-1===t?(l.fragmentsToUnrender.push(i),void i.unbind()):(r=t-e,o=l.keypath.join(e),a=l.keypath.join(t),i.index=t,(c=i.registeredIndexRefs)&&c.forEach(Yi),i.rebind(o,a),void(s[t]=i)))}),r=this.root.viewmodel.get(this.keypath).length,void 0===n){if(this.length===r)return;n=this.length}for(this.length=this.fragments.length=r,this.rendered&&mc.addView(this),o={template:this.template.f,root:this.root,owner:this},i=n;r>i;i+=1)a=s[i],a||this.fragmentsToCreate.push(i),this.fragments[i]=a}}function Yi(t){t.rebind("","")}function Ji(){var t=this;return this.docFrag=document.createDocumentFragment(),this.fragments.forEach(function(e){return t.docFrag.appendChild(e.render())}),this.renderedFragments=this.fragments.slice(),this.fragmentsToRender=[],this.rendered=!0,this.docFrag}function tr(t){var e,n,i=this;this.updating||(this.updating=!0,this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),this.fragmentsToCreate.length?(n={template:this.template.f||[],root:this.root,pElement:this.pElement,owner:this},this.fragmentsToCreate.forEach(function(t){var e;n.context=i.keypath.join(t),n.index=t,e=new bw(n),i.fragmentsToRender.push(i.fragments[t]=e)}),this.fragmentsToCreate.length=0):nr(this,t)&&(this.bubble(),this.rendered&&mc.addView(this)),this.value=t,this.updating=!1)}function er(t,e,n){if(e===_u&&t.indexRefs&&t.indexRefs[0]){var i=t.indexRefs[0];(n&&"i"===i.t||!n&&"k"===i.t)&&(n||(t.length=0,t.fragmentsToUnrender=t.fragments.slice(0),t.fragmentsToUnrender.forEach(function(t){return t.unbind()}))),i.t=n?"k":"i"}t.currentSubtype=e}function nr(t,e){var n={template:t.template.f||[],root:t.root,pElement:t.parentFragment.pElement,owner:t};if(t.hasContext=!0,t.subtype)switch(t.subtype){case Su:return t.hasContext=!1,ar(t,e,!1,n);case Eu:return t.hasContext=!1,ar(t,e,!0,n);case Au:return or(t,n);case Ou:return sr(t,e,n);case _u:if(c(e))return er(t,t.subtype,!0),rr(t,e,n)}return t.ordered=!!o(e),t.ordered?(er(t,_u,!1),ir(t,e,n)):c(e)||"function"==typeof e?t.template.i?(er(t,_u,!0),rr(t,e,n)):(er(t,Au,!1),or(t,n)):(er(t,Su,!1),t.hasContext=!1,ar(t,e,!1,n))}function ir(t,e,n){var i,r,s;if(r=e.length,r===t.length)return!1;if(t.length>r)t.fragmentsToUnrender=t.fragments.splice(r,t.length-r),t.fragmentsToUnrender.forEach(K);else if(r>t.length)for(i=t.length;r>i;i+=1)n.context=t.keypath.join(i),n.index=i,s=new bw(n),t.fragmentsToRender.push(t.fragments[i]=s);return t.length=r,!0}function rr(t,e,n){var i,r,s,o,a,l;for(s=t.hasKey||(t.hasKey={}),r=t.fragments.length;r--;)o=t.fragments[r],o.key in e||(a=!0,o.unbind(),t.fragmentsToUnrender.push(o),t.fragments.splice(r,1),s[o.key]=!1);for(r=t.fragments.length;r--;)o=t.fragments[r],o.index!==r&&(o.index=r,(l=o.registeredIndexRefs)&&l.forEach(hr));r=t.fragments.length;for(i in e)s[i]||(a=!0,n.context=t.keypath.join(i),n.key=i,n.index=r++,o=new bw(n),t.fragmentsToRender.push(o),t.fragments.push(o),s[i]=!0);return t.length=t.fragments.length,a}function sr(t,e,n){return e?or(t,n):lr(t)}function or(t,e){var n;return t.length?void 0:(e.context=t.keypath,e.index=0,n=new bw(e),t.fragmentsToRender.push(t.fragments[0]=n),t.length=1,!0)}function ar(t,e,n,i){var r,s,a,l,h;if(s=o(e)&&0===e.length,a=!1,!o(e)&&c(e)){a=!0;for(h in e){a=!1;break}}return r=n?s||a||!e:e&&!s&&!a,r?t.length?t.length>1?(t.fragmentsToUnrender=t.fragments.splice(1),t.fragmentsToUnrender.forEach(K),!0):void 0:(i.index=0,l=new bw(i),t.fragmentsToRender.push(t.fragments[0]=l),t.length=1,!0):lr(t)}function lr(t){return t.length?(t.fragmentsToUnrender=t.fragments.splice(0,t.fragments.length).filter(cr),t.fragmentsToUnrender.forEach(K),t.length=t.fragmentsToRender.length=0,!0):void 0}function cr(t){return t.rendered}function hr(t){t.rebind("","")}function ur(t){var e,n,i;for(e="",n=0,i=this.length,n=0;i>n;n+=1)e+=this.fragments[n].toString(t);return e}function dr(){var t=this;this.fragments.forEach(K),this.fragmentsToRender.forEach(function(e){return I(t.fragments,e)}),this.fragmentsToRender=[],jp.call(this),this.length=0,this.unbound=!0}function fr(t){this.fragments.forEach(t?pr:mr),this.renderedFragments=[],this.rendered=!1}function pr(t){t.unrender(!0)}function mr(t){t.unrender(!1)}function gr(){var t,e,n,i,r,s,o;for(n=this.renderedFragments;t=this.fragmentsToUnrender.pop();)t.unrender(!0),n.splice(n.indexOf(t),1);for(;t=this.fragmentsToRender.shift();)t.render();for(this.rendered&&(r=this.parentFragment.getNode()),o=this.fragments.length,s=0;o>s;s+=1)t=this.fragments[s],e=n.indexOf(t,s),e!==s?(this.docFrag.appendChild(t.detach()),-1!==e&&n.splice(e,1),n.splice(s,0,t)):this.docFrag.childNodes.length&&(i=t.firstNode(),r.insertBefore(this.docFrag,i));this.rendered&&this.docFrag.childNodes.length&&(i=this.parentFragment.findNextNode(this),r.insertBefore(this.docFrag,i)),this.renderedFragments=this.fragments.slice()}function vr(){var t,e;if(this.docFrag){for(t=this.nodes.length,e=0;t>e;e+=1)this.docFrag.appendChild(this.nodes[e]);return this.docFrag}}function br(t){var e,n,i,r;for(n=this.nodes.length,e=0;n>e;e+=1)if(i=this.nodes[e],1===i.nodeType){if(dl(i,t))return i;if(r=i.querySelector(t))return r}return null}function yr(t,e){var n,i,r,s,o,a;for(i=this.nodes.length,n=0;i>n;n+=1)if(r=this.nodes[n],1===r.nodeType&&(dl(r,t)&&e.push(r),s=r.querySelectorAll(t)))for(o=s.length,a=0;o>a;a+=1)e.push(s[a])}function wr(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)}function xr(t){return Dm[t]||(Dm[t]=ul(t))}function kr(t){var e,n,i;t&&"select"===t.name&&t.binding&&(e=N(t.node.options).filter(Tr),t.getAttribute("multiple")?i=e.map(function(t){return t.value}):(n=e[0])&&(i=n.value),void 0!==i&&t.binding.setValue(i),t.bubble())}function Tr(t){return t.selected}function Cr(){if(this.rendered)throw Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=Pm(this.value,this.parentFragment.getNode(),this.docFrag),Rm(this.pElement),this.rendered=!0,this.docFrag}function Sr(t){var e;(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&mc.addView(this))}function Er(){return void 0!=this.value?Sn(""+this.value):""}function _r(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}function Ar(){var t,e;if(this.rendered){for(;this.nodes&&this.nodes.length;)t=this.nodes.pop(),t.parentNode.removeChild(t);e=this.parentFragment.getNode(),this.nodes=Pm(this.value,e,this.docFrag),e.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),Rm(this.pElement)}}function Or(){var t,e=this.node;return e?((t=e.parentNode)&&t.removeChild(e),e):void 0}function $r(){return null}function Dr(){return this.node}function Pr(t){return this.attributes&&this.attributes[t]?this.attributes[t].value:void 0}function Rr(){var t=this.useProperty||!this.rendered?this.fragment.getValue():this.fragment+"";a(t,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=t,"value"===this.name&&this.node&&(this.node._ractive.value=t),this.rendered&&mc.addView(this))}function Fr(t){var e=t.fragment.items;return 1===e.length?e[0].type===Qh?e[0]:void 0:void 0}function jr(t){return this.type=iu,this.element=t.element,this.root=t.root,sg(this,t.name),this.isBoolean=bd.test(this.name),t.value&&"string"!=typeof t.value?(this.parentFragment=this.element.parentFragment,this.fragment=new bw({template:t.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=og(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,void(this.ready=!0)):void(this.value=this.isBoolean?!0:t.value||"")}function Ir(t,e){this.fragment&&this.fragment.rebind(t,e)}function Nr(t){var e;this.node=t,t.namespaceURI&&t.namespaceURI!==il.html||(e=hg[this.name]||this.name,void 0!==t[e]&&(this.propertyName=e),(this.isBoolean||this.isTwoway)&&(this.useProperty=!0),"value"===e&&(t._ractive.value=this.value)),this.rendered=!0,this.update()}function Lr(){var t=this,e=t.name,n=t.namespacePrefix,i=t.value,r=t.interpolator,s=t.fragment;if(("value"!==e||"select"!==this.element.name&&"textarea"!==this.element.name)&&("value"!==e||void 0===this.element.getAttribute("contenteditable"))){if("name"===e&&"input"===this.element.name&&r)return"name={{"+(r.keypath.str||r.ref)+"}}";if(this.isBoolean)return i?e:"";if(s){if(1===s.items.length&&null==s.items[0].value)return"";i=s+""}return n&&(e=n+":"+e),i?e+'="'+Mr(i)+'"':e}}function Mr(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function Ur(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]}function Vr(){var t,e,n,i,r=this.value;if(!this.locked)for(this.node._ractive.value=r,t=this.node.options,i=t.length;i--;)if(e=t[i],n=e._ractive?e._ractive.value:e.value,n==r){e.selected=!0;break}}function Wr(){var t,e,n,i,r=this.value;for(s(r)||(r=[r]),t=this.node.options,e=t.length;e--;)n=t[e],i=n._ractive?n._ractive.value:n.value,n.selected=P(r,i)}function Br(){var t=this,e=t.node,n=t.value;e.checked=n==e._ractive.value}function Hr(){var t,e,n,i,r=this.node;if(t=r.checked,r.value=this.element.getAttribute("value"),r.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!r.checked&&this.element.binding&&(n=this.element.binding.siblings,i=n.length)){for(;i--;){if(e=n[i],!e.element.node)return;if(e.element.node.checked)return mc.addRactive(e.root),e.handleChange()}this.root.viewmodel.set(e.keypath,void 0)}}function zr(){var t,e,n=this,i=n.element,r=n.node,o=n.value,a=i.binding;if(t=i.getAttribute("value"),s(o)){for(e=o.length;e--;)if(t==o[e])return void(a.isChecked=r.checked=!0);a.isChecked=r.checked=!1}else a.isChecked=r.checked=o==t}function qr(){this.node.className=n(this.value)}function Kr(){var t=this,e=t.node,n=t.value;this.root.nodes[n]=e,e.id=n}function Qr(){var t,e;t=this.node,e=this.value,void 0===e&&(e=""),t.style.setAttribute("cssText",e)}function Gr(){var t=this.value;void 0===t&&(t=""),this.locked||(this.node.innerHTML=t)}function Zr(){var t=this,e=t.node,n=t.value;e._ractive.value=n,this.locked||(e.value=void 0==n?"":n)}function Xr(){this.locked||(this.node[this.propertyName]=this.value)}function Yr(){var t=this,e=t.node,n=t.namespace,i=t.name,r=t.value,s=t.fragment;n?e.setAttributeNS(n,i,(s||r)+""):this.isBoolean?r?e.setAttribute(i,""):e.removeAttribute(i):null==r?e.removeAttribute(i):e.setAttribute(i,(s||r)+"")}function Jr(){var t,e,n=this,i=n.name,r=n.element,s=n.node;"id"===i?e=yg:"value"===i?"select"===r.name&&"value"===i?e=r.getAttribute("multiple")?pg:fg:"textarea"===r.name?e=kg:null!=r.getAttribute("contenteditable")?e=xg:"input"===r.name&&(t=r.getAttribute("type"),e="file"===t?Dl:"radio"===t&&r.binding&&"name"===r.binding.name?gg:kg):this.isTwoway&&"name"===i?"radio"===s.type?e=mg:"checkbox"===s.type&&(e=vg):"style"===i&&s.style.setAttribute?e=wg:"class"!==i||s.namespaceURI&&s.namespaceURI!==il.html?this.useProperty&&(e=Tg):e=bg,e||(e=Cg),this.update=e,this.update()}function ts(t,e){var n=e?"svg":"div";return _g.innerHTML="<"+n+" "+t+"></"+n+">",N(_g.childNodes[0].attributes)}function es(t,e){for(var n=t.length;n--;)if(t[n].name===e.name)return!1;return!0}function ns(t){for(;t=t.parent;)if("form"===t.name)return t}function is(){this._ractive.binding.handleChange()}function rs(){var t;Ig.call(this),t=this._ractive.root.viewmodel.get(this._ractive.binding.keypath),this.value=void 0==t?"":t}function ss(){var t=this._ractive.binding,e=this;t._timeout&&clearTimeout(t._timeout),t._timeout=setTimeout(function(){t.rendered&&Ig.call(e),t._timeout=void 0},t.element.lazy)}function os(t,e,n){var i=t+e+n;return Vg[i]||(Vg[i]=[])}function as(t){return t.isChecked}function ls(t){return t.element.getAttribute("value")}function cs(t){var e,n,i,r,s,o=t.attributes;return t.binding&&(t.binding.teardown(),t.binding=null),(t.getAttribute("contenteditable")||o.contenteditable&&hs(o.contenteditable))&&hs(o.value)?n=Mg:"input"===t.name?(e=t.getAttribute("type"),"radio"===e||"checkbox"===e?(i=hs(o.name),r=hs(o.checked),i&&r&&m("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root}),i?n="radio"===e?zg:Kg:r&&(n="radio"===e?Bg:Gg)):"file"===e&&hs(o.value)?n=ev:hs(o.value)&&(n="number"===e||"range"===e?nv:Ng)):"select"===t.name&&hs(o.value)?n=t.getAttribute("multiple")?Jg:Xg:"textarea"===t.name&&hs(o.value)&&(n=Ng),n&&(s=new n(t))&&s.keypath?s:void 0}function hs(t){return t&&t.isBindable}function us(){var t=this.getAction();t&&!this.hasListener?this.listen():!t&&this.hasListener&&this.unrender()}function ds(t){Vc(this.root,this.getAction(),{event:t})}function fs(){return(this.action+"").trim()}function ps(t,e,n){var i,r,s,o=this;this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.name=e,-1!==e.indexOf("*")&&(u('Only component proxy-events may contain "*" wildcards, <%s on-%s="..."/> is not valid',t.name,e),this.invalid=!0),n.m?(r=n.a.r,this.method=n.m,this.keypaths=[],this.fn=Kp(n.a.s,r.length),this.parentFragment=t.parentFragment,s=this.root,this.refResolvers=[],r.forEach(function(t,e){var n=void 0;
(n=lv.exec(t))?o.keypaths[e]={eventObject:!0,refinements:n[1]?n[1].split("."):[]}:o.refResolvers.push(qp(o,t,function(t){return o.resolve(e,t)}))}),this.fire=ms):(i=n.n||n,"string"!=typeof i&&(i=new bw({template:i,root:this.root,owner:this})),this.action=i,n.d?(this.dynamicParams=new bw({template:n.d,root:this.root,owner:this.element}),this.fire=vs):n.a&&(this.params=n.a,this.fire=gs))}function ms(t){var e,n,i;if(e=this.root,"function"!=typeof e[this.method])throw Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var i,r,s;if(void 0===n)return void 0;if(n.eventObject){if(i=t,r=n.refinements.length)for(s=0;r>s;s+=1)i=i[n.refinements[s]]}else i=e.viewmodel.get(n);return i}),Uc.enqueue(e,t),i=this.fn.apply(null,n),e[this.method].apply(e,i),Uc.dequeue(e)}function gs(t){Vc(this.root,this.getAction(),{event:t,args:this.params})}function vs(t){var e=this.dynamicParams.getArgsList();"string"==typeof e&&(e=e.substr(1,e.length-2)),Vc(this.root,this.getAction(),{event:t,args:e})}function bs(t){var e,n,i,r={};e=this._ractive,n=e.events[t.type],(i=Hp(n.element.parentFragment))&&(r=Hp.resolve(i)),n.fire({node:this,original:t,index:r,keypath:e.keypath.str,context:e.root.viewmodel.get(e.keypath)})}function ys(){var t,e=this.name;if(!this.invalid){if(t=v("events",this.root,e))this.custom=t(this.node,ws(e));else{if(!("on"+e in this.node||window&&"on"+e in window||tl))return void(dv[e]||g(jl(e,"event"),{node:this.node}));this.node.addEventListener(e,cv,!1)}this.hasListener=!0}}function ws(t){return uv[t]||(uv[t]=function(e){var n=e.node._ractive;e.index=n.index,e.keypath=n.keypath.str,e.context=n.root.viewmodel.get(n.keypath),n.events[t].fire(e)}),uv[t]}function xs(t,e){function n(n){n&&n.rebind(t,e)}var i;return this.method?(i=this.element.parentFragment,void this.refResolvers.forEach(n)):("string"!=typeof this.action&&n(this.action),void(this.dynamicParams&&n(this.dynamicParams)))}function ks(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()}function Ts(t,e){this.keypaths[t]=e}function Cs(){return this.method?void this.refResolvers.forEach(K):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}function Ss(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,cv,!1),this.hasListener=!1}function Es(){var t=this;this.dirty||(this.dirty=!0,mc.scheduleTask(function(){_s(t),t.dirty=!1})),this.parentFragment.bubble()}function _s(t){var e,n,i,r,s;e=t.node,e&&(r=N(e.options),n=t.getAttribute("value"),i=t.getAttribute("multiple"),void 0!==n?(r.forEach(function(t){var e,r;e=t._ractive?t._ractive.value:t.value,r=i?As(n,e):n==e,r&&(s=!0),t.selected=r}),s||(r[0]&&(r[0].selected=!0),t.binding&&t.binding.forceUpdate())):t.binding&&t.binding.forceUpdate())}function As(t,e){for(var n=t.length;n--;)if(t[n]==e)return!0}function Os(t,e){t.select=Ds(t.parent),t.select&&(t.select.options.push(t),e.a||(e.a={}),void 0!==e.a.value||e.a.hasOwnProperty("disabled")||(e.a.value=e.f),"selected"in e.a&&void 0!==t.select.getAttribute("value")&&delete e.a.selected)}function $s(t){t.select&&I(t.select.options,t)}function Ds(t){if(t)do if("select"===t.name)return t;while(t=t.parent)}function Ps(t){var e,n,i,r,s,o,a;this.type=Jh,e=this.parentFragment=t.parentFragment,n=this.template=t.template,this.parent=t.pElement||e.pElement,this.root=i=e.root,this.index=t.index,this.key=t.key,this.name=rg(n.e),"option"===this.name&&Os(this,n),"select"===this.name&&(this.options=[],this.bubble=Es),"form"===this.name&&(this.formBindings=[]),a=ng(this,n),this.attributes=Og(this,n.a),this.conditionalAttributes=Pg(this,n.m),n.f&&(this.fragment=new bw({template:n.f,root:i,owner:this,pElement:this,cssIds:null})),o=i.twoway,a.twoway===!1?o=!1:a.twoway===!0&&(o=!0),this.twoway=o,this.lazy=a.lazy,o&&(r=iv(this,n.a))&&(this.binding=r,s=this.root._twowayBindings[r.keypath.str]||(this.root._twowayBindings[r.keypath.str]=[]),s.push(r)),n.v&&(this.eventHandlers=wv(this,n.v)),n.o&&(this.decorator=new Sv(this,n.o)),this.intro=n.t0||n.t1,this.outro=n.t0||n.t2}function Rs(t,e){function n(n){n.rebind(t,e)}var i,r,s,o;if(this.attributes&&this.attributes.forEach(n),this.conditionalAttributes&&this.conditionalAttributes.forEach(n),this.eventHandlers&&this.eventHandlers.forEach(n),this.decorator&&n(this.decorator),this.fragment&&n(this.fragment),s=this.liveQueries)for(o=this.root,i=s.length;i--;)s[i]._makeDirty();this.node&&(r=this.node._ractive)&&k(r,"keypath",t,e)}function Fs(t){var e;(t.attributes.width||t.attributes.height)&&t.node.addEventListener("load",e=function(){var n=t.getAttribute("width"),i=t.getAttribute("height");void 0!==n&&t.node.setAttribute("width",n),void 0!==i&&t.node.setAttribute("height",i),t.node.removeEventListener("load",e,!1)},!1)}function js(t){t.node.addEventListener("reset",Ns,!1)}function Is(t){t.node.removeEventListener("reset",Ns,!1)}function Ns(){var t=this._ractive.proxy;mc.start(),t.formBindings.forEach(Ls),mc.end()}function Ls(t){t.root.viewmodel.set(t.keypath,t.resetValue)}function Ms(t,e,n){var i,r,s;this.element=t,this.root=i=t.root,this.isIntro=n,r=e.n||e,("string"==typeof r||(s=new bw({template:r,root:i,owner:t}),r=s+"",s.unbind(),""!==r))&&(this.name=r,e.a?this.params=e.a:e.d&&(s=new bw({template:e.d,root:i,owner:t}),this.params=s.getArgsList(),s.unbind()),this._fn=v("transitions",i,r),this._fn||g(jl(r,"transition"),{ractive:this.root}))}function Us(t){return t}function Vs(){eb.hidden=document[Xv]}function Ws(){eb.hidden=!0}function Bs(){eb.hidden=!1}function Hs(){var t,e,n,i=this;return t=this.node=this.element.node,e=t.getAttribute("style"),this.complete=function(r){n||(!r&&i.isIntro&&zs(t,e),t._ractive.transition=null,i._manager.remove(i),n=!0)},this._fn?void this._fn.apply(this.root,[this].concat(this.params)):void this.complete()}function zs(t,e){e?t.setAttribute("style",e):(t.getAttribute("style"),t.removeAttribute("style"))}function qs(){var t,e,n,i=this,r=this.root;return t=Ks(this),e=this.node=ul(this.name,t),this.parentFragment.cssIds&&this.node.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" ")),xl(this.node,"_ractive",{value:{proxy:this,keypath:ac(this.parentFragment),events:wl(null),root:r}}),this.attributes.forEach(function(t){return t.render(e)}),this.conditionalAttributes.forEach(function(t){return t.render(e)}),this.fragment&&("script"===this.name?(this.bubble=db,this.node.text=this.fragment.toString(!1),this.fragment.unrender=Dl):"style"===this.name?(this.bubble=ub,this.bubble(),this.fragment.unrender=Dl):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=Dl:this.node.appendChild(this.fragment.render())),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),this.eventHandlers&&this.eventHandlers.forEach(function(t){return t.render()}),"option"===this.name&&Qs(this),"img"===this.name?Fs(this):"form"===this.name?js(this):"input"===this.name||"textarea"===this.name?this.node.defaultValue=this.node.value:"option"===this.name&&(this.node.defaultSelected=this.node.selected),this.decorator&&this.decorator.fn&&mc.scheduleTask(function(){i.decorator.torndown||i.decorator.init()},!0),r.transitionsEnabled&&this.intro&&(n=new fb(this,this.intro,!0),mc.registerTransition(n),mc.scheduleTask(function(){return n.start()},!0),this.transition=n),this.node.autofocus&&mc.scheduleTask(function(){return i.node.focus()},!0),Gs(this),this.node}function Ks(t){var e,n,i;return e=(n=t.getAttribute("xmlns"))?n:"svg"===t.name?il.svg:(i=t.parent)?"foreignObject"===i.name?il.html:i.node.namespaceURI:t.root.el.namespaceURI}function Qs(t){var e,n,i;if(t.select&&(n=t.select.getAttribute("value"),void 0!==n))if(e=t.getAttribute("value"),t.select.node.multiple&&s(n)){for(i=n.length;i--;)if(e==n[i]){t.node.selected=!0;break}}else t.node.selected=e==n}function Gs(t){var e,n,i,r,s;e=t.root;do for(n=e._liveQueries,i=n.length;i--;)r=n[i],s=n["_"+r],s._test(t)&&(t.liveQueries||(t.liveQueries=[])).push(s);while(e=e.parent)}function Zs(t){var e,n,i;if(e=t.getAttribute("value"),void 0===e||!t.select)return!1;if(n=t.select.getAttribute("value"),n==e)return!0;if(t.select.getAttribute("multiple")&&s(n))for(i=n.length;i--;)if(n[i]==e)return!0}function Xs(t){var e,n,i,r;return e=t.attributes,n=e.type,i=e.value,r=e.name,n&&"radio"===n.value&&i&&r.interpolator&&i.value===r.interpolator.value?!0:void 0}function Ys(t){var e=t+"";return e?" "+e:""}function Js(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(K),"option"===this.name&&$s(this),this.attributes.forEach(K),this.conditionalAttributes.forEach(K)}function to(t){var e,n,i;(i=this.transition)&&i.complete(),"option"===this.name?this.detach():t&&mc.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(e=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,n=this.root._twowayBindings[e.keypath.str],n.splice(n.indexOf(e),1)),this.eventHandlers&&this.eventHandlers.forEach(Q),this.decorator&&mc.registerDecorator(this.decorator),this.root.transitionsEnabled&&this.outro&&(i=new fb(this,this.outro,!1),mc.registerTransition(i),mc.scheduleTask(function(){return i.start()})),this.liveQueries&&eo(this),"form"===this.name&&Is(this)}function eo(t){var e,n,i;for(i=t.liveQueries.length;i--;)e=t.liveQueries[i],n=e.selector,e._remove(t.node)}function no(t,e){var n=xb.exec(e)[0];return null===t||t.length>n.length?n:t}function io(t,e,n){var i;if(i=ro(t,e,n||{}))return i;if(i=ap.fromId(e,{noThrow:!0})){i=kb(i);var r=ap.parse(i,ap.getParseOptions(t));return t.partials[e]=r.t}}function ro(t,e,n){var i=void 0,r=ao(e,n.owner);if(r)return r;var s=b("partials",t,e);if(s){if(r=s.partials[e],"function"==typeof r&&(i=r.bind(s),i.isOwner=s.partials.hasOwnProperty(e),r=i.call(t,ap)),!r&&""!==r)return void m(Fl,e,"partial","partial",{ractive:t});if(!ap.isParsed(r)){var o=ap.parse(r,ap.getParseOptions(s));o.p&&m("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=i?s:so(s,e);a.partials[e]=r=o.t}return i&&(r._fn=i),r.v?r.t:r}}function so(t,e){return t.partials.hasOwnProperty(e)?t:oo(t.constructor,e)}function oo(t,e){return t?t.partials.hasOwnProperty(e)?t:oo(t._Parent,e):void 0}function ao(t,e){if(e){if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];if(e.parentFragment&&e.parentFragment.owner)return ao(t,e.parentFragment.owner)}}function lo(t,e){var n,i=b("components",t,e);if(i&&(n=i.components[e],!n._Parent)){var r=n.bind(i);if(r.isOwner=i.components.hasOwnProperty(e),n=r(),!n)return void m(Fl,e,"component","component",{ractive:t});"string"==typeof n&&(n=lo(t,n)),n._fn=r,i.components[e]=n}return n}function co(){var t=this.instance.fragment.detach();return Rb.fire(this.instance),t}function ho(t){return this.instance.fragment.find(t)}function uo(t,e){return this.instance.fragment.findAll(t,e)}function fo(t,e){e._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(t,e)}function po(t){return t&&t!==this.name?this.instance.fragment?this.instance.fragment.findComponent(t):null:this.instance}function mo(){return this.parentFragment.findNextNode(this)}function go(){return this.rendered?this.instance.fragment.firstNode():null}function vo(t,e,n){function i(t){var n,i;t.value=e,t.updating||(i=t.ractive,n=t.keypath,t.updating=!0,mc.start(i),i.viewmodel.mark(n),mc.end(),t.updating=!1)}var r,s,o,a,l,c;if(r=t.obj,s=t.prop,n&&!n.configurable){if("length"===s)return;throw Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}n&&(o=n.get,a=n.set),l=o||function(){return e},c=function(t){a&&a(t),e=o?o():t,c._ractiveWrappers.forEach(i)},c._ractiveWrappers=[t],Object.defineProperty(r,s,{get:l,set:c,enumerable:!0,configurable:!0})}function bo(t,e){var n,i,r,s;if(this.adaptors)for(n=this.adaptors.length,i=0;n>i;i+=1)if(r=this.adaptors[i],r.filter(e,t,this.ractive))return s=this.wrapped[t]=r.wrap(this.ractive,e,t,wo(t)),void(s.value=e)}function yo(t,e){var n,i={};if(!e)return t;e+=".";for(n in t)t.hasOwnProperty(n)&&(i[e+n]=t[n]);return i}function wo(t){var e;return iy[t]||(e=t?t+".":"",iy[t]=function(n,i){var r;return"string"==typeof n?(r={},r[e+n]=i,r):"object"==typeof n?e?yo(n,t):n:void 0}),iy[t]}function xo(t){var e,n,i=[Kl];for(e=t.length;e--;)for(n=t[e].parent;n&&!n.isRoot;)-1===t.indexOf(n)&&D(i,n),n=n.parent;return i}function ko(t,e,n){var i;Co(t,e),n||(i=e.wildcardMatches(),i.forEach(function(n){To(t,n,e)}))}function To(t,e,n){var i,r,s;e=e.str||e,i=t.depsMap.patternObservers,r=i&&i[e],r&&r.forEach(function(e){s=n.join(e.lastKey),Co(t,s),To(t,e,s)})}function Co(t,e){t.patternObservers.forEach(function(t){t.regex.test(e.str)&&t.update(e)})}function So(){function t(t){var i=t.key;t.viewmodel===o?(o.clearCache(i.str),t.invalidate(),n.push(i),e(i)):t.viewmodel.mark(i)}function e(n){var i,r;o.noCascade.hasOwnProperty(n.str)||((r=o.deps.computed[n.str])&&r.forEach(t),(i=o.depsMap.computed[n.str])&&i.forEach(e))}var n,i,r,s=this,o=this,a={};return n=this.changes,n.length?(n.slice().forEach(e),i=ry(n),i.forEach(function(e){var i;-1===n.indexOf(e)&&(i=o.deps.computed[e.str])&&i.forEach(t)}),this.changes=[],this.patternObservers.length&&(i.forEach(function(t){return sy(s,t,!0)}),n.forEach(function(t){return sy(s,t)})),this.deps.observers&&(i.forEach(function(t){return Eo(s,null,t,"observers")}),Ao(this,n,"observers")),this.deps["default"]&&(r=[],i.forEach(function(t){return Eo(s,r,t,"default")}),r.length&&_o(this,r,n),Ao(this,n,"default")),n.forEach(function(t){a[t.str]=s.get(t)}),this.implicitChanges={},this.noCascade={},a):void 0}function Eo(t,e,n,i){var r,s;(r=Oo(t,n,i))&&(s=t.get(n),r.forEach(function(t){e&&t.refineValue?e.push(t):t.setValue(s)}))}function _o(t,e,n){e.forEach(function(e){for(var i=!1,r=0,s=n.length,o=[];s>r;){var a=n[r];if(a===e.keypath){i=!0;break}a.slice(0,e.keypath.length)===e.keypath&&o.push(a),r++}i&&e.setValue(t.get(e.keypath)),o.length&&e.refineValue(o)})}function Ao(t,e,n){function i(t){t.forEach(r),t.forEach(s)}function r(e){var i=Oo(t,e,n);i&&a.push({keypath:e,deps:i})}function s(e){var r;(r=t.depsMap[n][e.str])&&i(r)}function o(e){var n=t.get(e.keypath);e.deps.forEach(function(t){return t.setValue(n)})}var a=[];i(e),a.forEach(o)}function Oo(t,e,n){var i=t.deps[n];return i?i[e.str]:null}function $o(){this.captureGroups.push([])}function Do(t,e){var n,i;if(e||(i=this.wrapped[t])&&i.teardown()!==!1&&(this.wrapped[t]=null),this.cache[t]=void 0,n=this.cacheMap[t])for(;n.length;)this.clearCache(n.pop())}function Po(t,e){var n=e.firstKey;return!(n in t.data||n in t.computations||n in t.mappings)}function Ro(t,e){var n=new dy(t,e);return this.ready&&n.init(this),this.computations[t.str]=n}function Fo(t,e){var n,i,r,s,o,a=this.cache,l=t.str;if(e=e||gy,e.capture&&(s=j(this.captureGroups))&&(~s.indexOf(t)||s.push(t)),Al.call(this.mappings,t.firstKey))return this.mappings[t.firstKey].get(t,e);if(t.isSpecial)return t.value;if(void 0===a[l]?((i=this.computations[l])&&!i.bypass?(n=i.get(),this.adapt(l,n)):(r=this.wrapped[l])?n=r.value:t.isRoot?(this.adapt("",this.data),n=this.data):n=jo(this,t),a[l]=n):n=a[l],!e.noUnwrap&&(r=this.wrapped[l])&&(n=r.get()),t.isRoot&&e.fullRootGet)for(o in this.mappings)n[o]=this.mappings[o].getValue();return n===py?void 0:n}function jo(t,e){var n,i,r,s;return n=t.get(e.parent),(s=t.wrapped[e.parent.str])&&(n=s.get()),null!==n&&void 0!==n?((i=t.cacheMap[e.parent.str])?-1===i.indexOf(e.str)&&i.push(e.str):t.cacheMap[e.parent.str]=[e.str],"object"!=typeof n||e.lastKey in n?(r=n[e.lastKey],t.adapt(e.str,r,!1),t.cache[e.str]=r,r):t.cache[e.str]=py):void 0}function Io(){var t;for(t in this.computations)this.computations[t].init(this)}function No(t,e){var n=this.mappings[t.str]=new yy(t,e);return n.initViewmodel(this),n}function Lo(t,e){var n,i=t.str;e&&(e.implicit&&(this.implicitChanges[i]=!0),e.noCascade&&(this.noCascade[i]=!0)),(n=this.computations[i])&&n.invalidate(),-1===this.changes.indexOf(t)&&this.changes.push(t);var r=e?e.keepExistingWrapper:!1;this.clearCache(i,r),this.ready&&this.onchange()}function Mo(t,e,n,i){var r,s,o,a;if(this.mark(t),i&&i.compare){o=Vo(i.compare);try{r=e.map(o),s=n.map(o)}catch(l){m('merge(): "%s" comparison failed. Falling back to identity checking',t),r=e,s=n}}else r=e,s=n;a=xy(r,s),this.smartUpdate(t,n,a,e.length!==n.length)}function Uo(t){return JSON.stringify(t)}function Vo(t){if(t===!0)return Uo;if("string"==typeof t)return Ty[t]||(Ty[t]=function(e){return e[t]}),Ty[t];if("function"==typeof t)return t;throw Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}function Wo(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];e.isStatic||((n=this.mappings[t.firstKey])?n.register(t,e,s):(i=this.deps[s]||(this.deps[s]={}),r=i[t.str]||(i[t.str]=[]),r.push(e),this.depsMap[s]||(this.depsMap[s]={}),t.isRoot||Bo(this,t,s)))}function Bo(t,e,n){for(var i,r,s;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str]||(i[e.parent.str]=[]),s=e.str,void 0===r["_"+s]&&(r["_"+s]=0,r.push(e)),r["_"+s]+=1,e=e.parent}function Ho(){return this.captureGroups.pop()}function zo(t){this.data=t,this.clearCache("")}function qo(t,e){var n,i,r,s,o=void 0===arguments[2]?{}:arguments[2];if(!o.noMapping&&(n=this.mappings[t.firstKey]))return n.set(t,e);if(i=this.computations[t.str]){if(i.setting)return;i.set(e),e=i.get()}a(this.cache[t.str],e)||(r=this.wrapped[t.str],r&&r.reset&&(s=r.reset(e)!==!1,s&&(e=r.get())),i||s||Ko(this,t,e),o.silent?this.clearCache(t.str):this.mark(t))}function Ko(t,e,n){var i,r,s,o;s=function(){i.set?i.set(e.lastKey,n):(r=i.get(),o())},o=function(){r||(r=Xb(e.lastKey),t.set(e.parent,r,{silent:!0})),r[e.lastKey]=n},i=t.wrapped[e.parent.str],i?s():(r=t.get(e.parent),(i=t.wrapped[e.parent.str])?s():o())}function Qo(t,e,n){var i,r,s,o=this;if(r=n.length,n.forEach(function(e,n){-1===e&&o.mark(t.join(n),$y)}),this.set(t,e,{silent:!0}),(i=this.deps["default"][t.str])&&i.filter(Go).forEach(function(t){return t.shuffle(n,e)}),r!==e.length){for(this.mark(t.join("length"),Oy),s=n.touchedFrom;e.length>s;s+=1)this.mark(t.join(s));for(s=e.length;r>s;s+=1)this.mark(t.join(s),$y)}}function Go(t){return"function"==typeof t.shuffle}function Zo(){var t,e=this;for(Object.keys(this.cache).forEach(function(t){return e.clearCache(t)});t=this.unresolvedImplicitDependencies.pop();)t.teardown()}function Xo(t,e){var n,i,r,s=void 0===arguments[2]?"default":arguments[2];if(!e.isStatic){if(n=this.mappings[t.firstKey])return n.unregister(t,e,s);if(i=this.deps[s][t.str],r=i.indexOf(e),-1===r)throw Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(r,1),t.isRoot||Yo(this,t,s)}}function Yo(t,e,n){for(var i,r;!e.isRoot;)i=t.depsMap[n],r=i[e.parent.str],r["_"+e.str]-=1,r["_"+e.str]||(I(r,e),r["_"+e.str]=void 0),e=e.parent}function Jo(t){this.hook=new nc(t),this.inProcess={},this.queue={}}function ta(t,e){return t[e._guid]||(t[e._guid]=[])}function ea(t,e){var n=ta(t.queue,e);for(t.hook.fire(e);n.length;)ea(t,n.shift());delete t.queue[e._guid]}function na(t,e){var n,i={};for(n in e)i[n]=ia(t,n,e[n]);return i}function ia(t,e,n){var i,r;return"function"==typeof n&&(i=sa(n,t)),"string"==typeof n&&(i=ra(t,n)),"object"==typeof n&&("string"==typeof n.get?i=ra(t,n.get):"function"==typeof n.get?i=sa(n.get,t):u("`%s` computation must have a `get()` method",e),"function"==typeof n.set&&(r=sa(n.set,t))),{getter:i,setter:r}}function ra(t,e){var n,i,r;return n="return ("+e.replace(Ny,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");",i&&(n="var __ractive = this; "+n),r=Function(n),i?r.bind(t):r}function sa(t,e){return/this/.test(t+"")?t.bind(e):t}function oa(e){var n,r,s=void 0===arguments[1]?{}:arguments[1],o=void 0===arguments[2]?{}:arguments[2];if(qw.DEBUG&&_l(),ca(e,o),xl(e,"data",{get:ha}),Ly.fire(e,s),Wy.forEach(function(t){e[t]=i(wl(e.constructor[t]||null),s[t])}),r=new Fy({adapt:aa(e,e.adapt,s),data:Vh.init(e.constructor,e,s),computed:Iy(e,i(wl(e.constructor.prototype.computed),s.computed)),mappings:o.mappings,ractive:e,onchange:function(){return mc.addRactive(e)}}),e.viewmodel=r,r.init(),yp.init(e.constructor,e,s),My.fire(e),Uy.begin(e),e.template){var a=void 0;(o.cssIds||e.cssId)&&(a=o.cssIds?o.cssIds.slice():[],e.cssId&&a.push(e.cssId)),e.fragment=new bw({template:e.template,root:e,owner:e,cssIds:a})}if(Uy.end(e),n=t(e.el)){var l=e.render(n,e.append);qw.DEBUG_PROMISES&&l["catch"](function(t){throw g("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),m("An error happened during rendering",{ractive:e}),t.stack&&d(t.stack),t})}}function aa(t,e,n){function i(e){return"string"==typeof e&&(e=v("adaptors",t,e),e||u(jl(e,"adaptor"))),e}var r,s,o;if(e=e.map(i),r=F(n.adapt).map(i),r=la(e,r),s="magic"in n?n.magic:t.magic,o="modifyArrays"in n?n.modifyArrays:t.modifyArrays,s){if(!nl)throw Error("Getters and setters (magic mode) are not supported in this browser");o&&r.push(ey),r.push(ty)}return o&&r.push(Gb),r}function la(t,e){for(var n=t.slice(),i=e.length;i--;)~n.indexOf(e[i])||n.push(e[i]);return n}function ca(t,e){t._guid="r-"+Vy++,t._subs=wl(null),t._config={},t._twowayBindings=wl(null),t._animations=[],t.nodes={},t._liveQueries=[],t._liveComponentQueries=[],t._boundFunctions=[],t._observers=[],e.component?(t.parent=e.parent,t.container=e.container||null,t.root=t.parent.root,t.component=e.component,e.component.instance=t,t._inlinePartials=e.inlinePartials):(t.root=t,t.parent=t.container=null)}function ha(){throw Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function ua(t,e,n){this.parentFragment=t.parentFragment,this.callback=n,this.fragment=new bw({template:e,root:t.root,owner:this}),this.update()}function da(t,e,n){var i;return e.r?i=qp(t,e.r,n):e.x?i=new Zp(t,t.parentFragment,e.x,n):e.rx&&(i=new tm(t,e.rx,n)),i}function fa(t){return 1===t.length&&t[0].t===Qh}function pa(t,e){var n;for(n in e)e.hasOwnProperty(n)&&ma(t.instance,t.root,n,e[n])}function ma(t,e,n,i){"string"!=typeof i&&u("Components currently only support simple events - you cannot include arguments. Sorry!"),t.on(n,function(){var t,n;return arguments.length&&arguments[0]&&arguments[0].node&&(t=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),Vc(e,i,{event:t,args:n}),!1})}function ga(t,e){var n,i;if(!e)throw Error('Component "'+this.name+'" not found');n=this.parentFragment=t.parentFragment,i=n.root,this.root=i,this.type=su,this.name=t.template.e,this.index=t.index,this.indexRefBindings={},this.yielders={},this.resolvers=[],zy(this,e,t.template.a,t.template.f,t.template.p),qy(this,t.template.v),(t.template.t0||t.template.t1||t.template.t2||t.template.o)&&m('The "intro", "outro" and "decorator" directives have no effect on components',{ractive:this.instance}),Ky(this)}function va(t,e){function n(n){n.rebind(t,e)}var i;this.resolvers.forEach(n);for(var r in this.yielders)this.yielders[r][0]&&n(this.yielders[r][0]);(i=this.root._liveComponentQueries["_"+this.name])&&i._makeDirty()}function ba(){var t=this.instance;return t.render(this.parentFragment.getNode()),this.rendered=!0,t.fragment.detach()}function ya(){return this.instance.fragment+""}function wa(){var t=this.instance;this.resolvers.forEach(K),xa(this),t._observers.forEach(G),t.fragment.unbind(),t.viewmodel.teardown(),t.fragment.rendered&&t.el.__ractive_instances__&&I(t.el.__ractive_instances__,t),Jy.fire(t)}function xa(t){var e,n;e=t.root;do(n=e._liveComponentQueries["_"+t.name])&&n._remove(t);while(e=e.parent)}function ka(t){this.shouldDestroy=t,this.instance.unrender()}function Ta(t){var e=this;this.owner=t.owner,this.parent=this.owner.parentFragment,this.root=t.root,this.pElement=t.pElement,this.context=t.context,this.index=t.index,this.key=t.key,this.registeredIndexRefs=[],this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.items=t.template.map(function(n,i){return Ca({parentFragment:e,pElement:t.pElement,template:n,index:i})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}function Ca(t){if("string"==typeof t.template)return new Fp(t);switch(t.template.t){case ou:return new ow(t);case Qh:return new om(t);case Zh:return new Em(t);case Gh:return new Hm(t);case Jh:var e=void 0;return(e=Db(t.parentFragment.root,t.template.e))?new nw(t,e):new yb(t);case tu:return new $b(t);case eu:return new rw(t);case lu:return new lw(t);default:throw Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}function Sa(t,e){(!this.owner||this.owner.hasContext)&&k(this,"context",t,e),this.items.forEach(function(n){n.rebind&&n.rebind(t,e)})}function Ea(){var t;return 1===this.items.length?t=this.items[0].render():(t=document.createDocumentFragment(),this.items.forEach(function(e){t.appendChild(e.render())})),this.rendered=!0,t}function _a(t){return this.items?this.items.map(t?Oa:Aa).join(""):""}function Aa(t){return t+""}function Oa(t){return t.toString(!0)}function $a(){this.bound&&(this.items.forEach(Da),this.bound=!1)}function Da(t){t.unbind&&t.unbind()}function Pa(t){if(!this.rendered)throw Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(e){return e.unrender(t)}),this.rendered=!1}function Ra(t){var e,n,i,r,s;if(t=t||{},"object"!=typeof t)throw Error("The reset method takes either no arguments, or an object containing new data");for((n=this.viewmodel.wrapped[""])&&n.reset?n.reset(t)===!1&&this.viewmodel.reset(t):this.viewmodel.reset(t),i=yp.reset(this),r=i.length;r--;)if(ww.indexOf(i[r])>-1){s=!0;break}if(s){var o=void 0;this.viewmodel.mark(Kl),(o=this.component)&&(o.shouldDestroy=!0),this.unrender(),o&&(o.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new bw({template:this.template,root:this,owner:this})),e=this.render(this.el,this.anchor)}else e=mc.start(this,!0),this.viewmodel.mark(Kl),mc.end();return xw.fire(this,t),e}function Fa(t){var e,n;cp.init(null,this,{template:t}),e=this.transitionsEnabled,this.transitionsEnabled=!1,(n=this.component)&&(n.shouldDestroy=!0),this.unrender(),n&&(n.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new bw({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=e}function ja(t,e){var n,i;if(i=mc.start(this,!0),c(t)){n=t;for(t in n)n.hasOwnProperty(t)&&(e=n[t],Ia(this,t,e))}else Ia(this,t,e);return mc.end(),i}function Ia(t,e,n){e=C(_(e)),e.isPattern?S(t,e).forEach(function(e){t.viewmodel.set(e,n)}):t.viewmodel.set(e,n)}function Na(t,e){return Ql(this,t,void 0===e?-1:-e)}function La(){var t;return this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(G),this.fragment.rendered&&this.el.__ractive_instances__&&I(this.el.__ractive_instances__,this),this.shouldDestroy=!0,t=this.fragment.rendered?this.unrender():oc.resolve(),Dw.fire(this),this._boundFunctions.forEach(Ma),t}function Ma(t){delete t.fn[t.prop]}function Ua(t){var e=this;if("string"!=typeof t)throw new TypeError(Rl);var n=void 0;return/\*/.test(t)?(n={},S(this,C(_(t))).forEach(function(t){n[t.str]=!e.viewmodel.get(t)}),this.set(n)):this.set(t,!this.get(t))}function Va(){return this.fragment.toString(!0)}function Wa(){var t,e;if(!this.fragment.rendered)return m("ractive.unrender() was called on a Ractive instance that was not rendered"),oc.resolve();for(t=mc.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;this._animations[0];)this._animations[0].stop();return this.fragment.unrender(e),I(this.el.__ractive_instances__,this),jw.fire(this),mc.end(),t}function Ba(t){var e;return t=C(t)||Kl,e=mc.start(this,!0),this.viewmodel.mark(t),mc.end(),Lw.fire(this,t),e}function Ha(t,e){var n,i,r;if("string"!=typeof t||e){r=[];for(i in this._twowayBindings)(!t||C(i).equalsOrStartsWith(t))&&r.push.apply(r,this._twowayBindings[i])}else r=this._twowayBindings[t];return n=za(this,r),this.set(n)}function za(t,e){var n={},i=[];return e.forEach(function(t){var e,r;if(!t.radioName||t.element.node.checked){if(t.checkboxName)return void(i[t.keypath.str]||t.changed()||(i.push(t.keypath),i[t.keypath.str]=t));e=t.attribute.value,r=t.getValue(),R(e,r)||a(e,r)||(n[t.keypath.str]=r)}}),i.length&&i.forEach(function(t){var e,r,s;e=i[t.str],r=e.attribute.value,s=e.getValue(),R(r,s)||(n[t.str]=s)}),n}function qa(t,e){return"function"==typeof e&&/_super/.test(t)}function Ka(t){for(var e={};t;)Qa(t,e),Za(t,e),t=t._Parent!==qw?t._Parent:!1;return e}function Qa(t,e){gp.forEach(function(n){Ga(n.useDefaults?t.prototype:t,e,n.name)})}function Ga(t,e,n){var i,r=Object.keys(t[n]);r.length&&((i=e[n])||(i=e[n]={}),r.filter(function(t){return!(t in i)}).forEach(function(e){return i[e]=t[n][e]}))}function Za(t,e){Object.keys(t.prototype).forEach(function(n){if("computed"!==n){var i=t.prototype[n];if(n in e){if("function"==typeof e[n]&&"function"==typeof i&&e[n]._method){var r=void 0,s=i._method;s&&(i=i._method),r=Vw(e[n]._method,i),s&&(r._method=r),e[n]=r}}else e[n]=i._method?i._method:i}})}function Xa(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return e.length?e.reduce(Ya,this):Ya(this)}function Ya(t){var e,n,r=void 0===arguments[1]?{}:arguments[1];return r.prototype instanceof qw&&(r=Ww(r)),e=function(t){return this instanceof e?void By(this,t):new e(t)},n=wl(t.prototype),n.constructor=e,kl(e,{defaults:{value:n},extend:{value:Xa,writable:!0,configurable:!0},_Parent:{value:t}}),yp.extend(t,n,r),Vh.extend(t,n,r),r.computed&&(n.computed=i(wl(t.prototype.computed),r.computed)),e.prototype=n,e}var Ja,tl,el,nl,il,rl,sl,ol=3,al={el:void 0,append:!1,template:{v:ol,t:[]},preserveWhitespace:!1,sanitize:!1,stripComments:!0,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],interpolate:!1,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},ll=al,cl={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){return 1>(t/=.5)?.5*Math.pow(t,3):.5*(Math.pow(t-2,3)+2)}};Ja="object"==typeof document,tl="undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),el="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply;try{Object.defineProperty({},"test",{value:0}),nl=!0}catch(hl){nl=!1}il={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rl="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),sl=["o","ms","moz","webkit"];var ul,dl,fl,pl,ml,gl,vl,bl,yl;if(ul=rl?function(t,e){return e&&e!==il.html?document.createElementNS(e,t):document.createElement(t)}:function(t,e){if(e&&e!==il.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(t)},Ja){for(fl=ul("div"),pl=["matches","matchesSelector"],yl=function(t){return function(e,n){return e[t](n)}},vl=pl.length;vl--&&!dl;)if(ml=pl[vl],fl[ml])dl=yl(ml);else for(bl=sl.length;bl--;)if(gl=sl[vl]+ml.substr(0,1).toUpperCase()+ml.substring(1),fl[gl]){dl=yl(gl);break}dl||(dl=function(t,e){var n,i,r;for(i=t.parentNode,i||(fl.innerHTML="",i=fl,t=t.cloneNode(),fl.appendChild(t)),n=i.querySelectorAll(e),r=n.length;r--;)if(n[r]===t)return!0;return!1})}else dl=null;var wl,xl,kl,Tl=null;try{Object.defineProperty({},"test",{value:0}),Ja&&Object.defineProperty(document.createElement("div"),"test",{value:0}),xl=Object.defineProperty}catch(Cl){xl=function(t,e,n){t[e]=n.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Cl){throw Cl}Ja&&Object.defineProperties(ul("div"),{test:{value:0}}),kl=Object.defineProperties}catch(Cl){kl=function(t,e){var n;for(n in e)e.hasOwnProperty(n)&&xl(t,n,e[n])}}try{Object.create(null),wl=Object.create}catch(Cl){wl=function(){var t=function(){};return function(e,n){var i;return null===e?{}:(t.prototype=e,i=new t,n&&Object.defineProperties(i,n),i)
}}()}var Sl,El,_l,Al=Object.prototype.hasOwnProperty,Ol=Object.prototype.toString,$l=/^\[object (?:Array|FileList)\]$/,Dl=function(){},Pl={};el?!function(){var t=["%cRactive.js %c0.7.3 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],e="You're running Ractive 0.7.3 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";_l=function(){var n=!!console.groupCollapsed;console[n?"groupCollapsed":"log"].apply(console,t),console.log(e),n&&console.groupEnd(t),_l=Dl},El=function(t,e){if(_l(),"object"==typeof e[e.length-1]){var n=e.pop(),i=n?n.ractive:null;if(i){var r=void 0;i.component&&(r=i.component.name)&&(t="<"+r+"> "+t);var s=void 0;(s=n.node||i.fragment&&i.fragment.rendered&&i.find("*"))&&e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Sl=function(){console.log.apply(console,arguments)}}():El=Sl=_l=Dl;var Rl="Bad arguments",Fl='A function was specified for "%s" %s, but no %s was returned',jl=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Il=function(t,e,n,i){if(t===e)return y(e);if(i){var r=v("interpolators",n,i);if(r)return r(t,e)||y(e);u(jl(i,"interpolator"))}return Ml.number(t,e)||Ml.array(t,e)||Ml.object(t,e)||y(e)},Nl=Il,Ll={number:function(t,e){var n;return l(t)&&l(e)?(t=+t,e=+e,n=e-t,n?function(e){return t+e*n}:function(){return t}):null},array:function(t,e){var n,i,r,o;if(!s(t)||!s(e))return null;for(n=[],i=[],o=r=Math.min(t.length,e.length);o--;)i[o]=Nl(t[o],e[o]);for(o=r;t.length>o;o+=1)n[o]=t[o];for(o=r;e.length>o;o+=1)n[o]=e[o];return function(t){for(var e=r;e--;)n[e]=i[e](t);return n}},object:function(t,e){var n,i,r,s,o;if(!c(t)||!c(e))return null;n=[],s={},r={};for(o in t)Al.call(t,o)&&(Al.call(e,o)?(n.push(o),r[o]=Nl(t[o],e[o])):s[o]=t[o]);for(o in e)Al.call(e,o)&&!Al.call(t,o)&&(s[o]=e[o]);return i=n.length,function(t){for(var e,o=i;o--;)e=n[o],s[e]=r[e](t);return s}}},Ml=Ll,Ul=w,Vl={},Wl=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,Bl=/\*/,Hl={},zl=function(t){var e=t.split(".");this.str=t,"@"===t[0]&&(this.isSpecial=!0,this.value=T(t)),this.firstKey=e[0],this.lastKey=e.pop(),this.isPattern=Bl.test(t),this.parent=""===t?null:C(e.join(".")),this.isRoot=!t};zl.prototype={equalsOrStartsWith:function(t){return t===this||this.startsWith(t)},join:function(t){return C(this.isRoot?t+"":this.str+"."+t)},replace:function(t,e){return this===t?e:this.startsWith(t)?null===e?e:C(this.str.replace(t.str+".",e.str+".")):void 0},startsWith:function(t){return t?t&&this.str.substr(0,t.str.length+1)===t.str+".":!1},toString:function(){throw Error("Bad coercion")},valueOf:function(){throw Error("Bad coercion")},wildcardMatches:function(){return this._wildcardMatches||(this._wildcardMatches=Ul(this.str))}};var ql,Kl=C(""),Ql=A,Gl="Cannot add to a non-numeric value",Zl=O;"undefined"==typeof window?ql=null:(!function(t,e,n){var i,r;if(!n.requestAnimationFrame){for(i=0;t.length>i&&!n.requestAnimationFrame;++i)n.requestAnimationFrame=n[t[i]+"RequestAnimationFrame"];n.requestAnimationFrame||(r=n.setTimeout,n.requestAnimationFrame=function(t){var n,i,s;return n=Date.now(),i=Math.max(0,16-(n-e)),s=r(function(){t(n+i)},i),e=n+i,s})}}(sl,0,window),ql=window.requestAnimationFrame);var Xl,Yl=ql;Xl="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()};var Jl=Xl,tc={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};$.prototype.fire=function(t,e){function n(n){return t[n]?(e?t[n](e):t[n](),!0):void 0}n(this.method),!t[this.method]&&this.deprecate&&n(this.deprecate.deprecated)&&(this.deprecate.message?m(this.deprecate.message):m('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement)),e?t.fire(this.event,e):t.fire(this.event)};var ec,nc=$,ic={},rc={},sc={};"function"==typeof Promise?ec=Promise:(ec=function(t){var e,n,i,r,s,o,a=[],l=[],c=ic;i=function(t){return function(i){c===ic&&(e=i,c=t,n=M(c===rc?a:l,e),L(n))}},r=i(rc),s=i(sc);try{t(r,s)}catch(h){s(h)}return o={then:function(t,e){var i=new ec(function(r,s){var o=function(t,e,n){e.push("function"==typeof t?function(e){var n;try{n=t(e),U(i,n,r,s)}catch(o){s(o)}}:n)};o(t,a,r),o(e,l,s),c!==ic&&L(n)});return i}},o["catch"]=function(t){return this.then(null,t)},o},ec.all=function(t){return new ec(function(e,n){var i,r,s,o=[];if(!t.length)return void e(o);for(s=function(t,r){t&&"function"==typeof t.then?t.then(function(t){o[r]=t,--i||e(o)},n):(o[r]=t,--i||e(o))},i=r=t.length;r--;)s(t[r],r)})},ec.resolve=function(t){return new ec(function(e){e(t)})},ec.reject=function(t){return new ec(function(e,n){n(t)})});var oc=ec,ac=function(t){do if(void 0!==t.context)return t.context;while(t=t.parent);return Kl},lc=V,cc=function(t,e){this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.decoratorQueue=[],this.outrosComplete=!1,e&&e.addChild(this)};cc.prototype={addChild:function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,Y(this)},decrementTotal:function(){this.totalChildren-=1,Y(this)},add:function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},addDecorator:function(t){this.decoratorQueue.push(t)},remove:function(t){var e=t.isIntro?this.intros:this.outros;I(e,t),Y(this)},init:function(){this.ready=!0,Y(this)},detachNodes:function(){this.decoratorQueue.forEach(q),this.detachQueue.forEach(Z),this.children.forEach(X)}};var hc,uc,dc=cc,fc=[],pc=new nc("change");uc={start:function(t,e){var n,i;return e&&(n=new oc(function(t){return i=t})),hc={previousBatch:hc,transitionManager:new dc(i,hc&&hc.transitionManager),views:[],tasks:[],ractives:[],instance:t},t&&hc.ractives.push(t),n},end:function(){J(),hc.transitionManager.init(),!hc.previousBatch&&hc.instance&&(hc.instance.viewmodel.changes=[]),hc=hc.previousBatch},addRactive:function(t){hc&&D(hc.ractives,t)},registerTransition:function(t){t._manager=hc.transitionManager,hc.transitionManager.add(t)},registerDecorator:function(t){hc.transitionManager.addDecorator(t)},addView:function(t){hc.views.push(t)},addUnresolved:function(t){fc.push(t)},removeUnresolved:function(t){I(fc,t)},detachWhenReady:function(t){hc.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var n;if(hc){for(n=hc;e&&n.previousBatch;)n=n.previousBatch;n.tasks.push(t)}else t()}};var mc=uc,gc=[],vc={tick:function(){var t,e,n;for(n=Jl(),mc.start(),t=0;gc.length>t;t+=1)e=gc[t],e.tick(n)||gc.splice(t--,1);mc.end(),gc.length?Yl(vc.tick):vc.running=!1},add:function(t){gc.push(t),vc.running||(vc.running=!0,Yl(vc.tick))},abort:function(t,e){for(var n,i=gc.length;i--;)n=gc[i],n.root===e&&n.keypath===t&&n.stop()}},bc=vc,yc=function(t){var e;this.startTime=Date.now();for(e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);this.interpolator=Nl(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};yc.prototype={tick:function(){var t,e,n,i,r,s;return s=this.keypath,this.running?(i=Date.now(),t=i-this.startTime,t>=this.duration?(null!==s&&(mc.start(this.root),this.root.viewmodel.set(s,this.to),mc.end()),this.step&&this.step(1,this.to),this.complete(this.to),r=this.root._animations.indexOf(this),-1===r&&m("Animation was not found"),this.root._animations.splice(r,1),this.running=!1,!1):(e=this.easing?this.easing(t/this.duration):t/this.duration,null!==s&&(n=this.interpolator(e),mc.start(this.root),this.root.viewmodel.set(s,n),mc.end()),this.step&&this.step(e,n),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&m("Animation was not found"),this.root._animations.splice(t,1)}};var wc=yc,xc=ne,kc={stop:Dl},Tc=re,Cc=new nc("detach"),Sc=se,Ec=oe,_c=function(){var t,e,n;t=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,n=t.indexOf(e),-1!==n&&(t.splice(n,1),t[e]=null)},Ac=function(t,e){var n,i,r,s,o,a,l,c,h,u;for(n=le(t.component||t._ractive.proxy),i=le(e.component||e._ractive.proxy),r=j(n),s=j(i);r&&r===s;)n.pop(),i.pop(),o=r,r=j(n),s=j(i);if(r=r.component||r,s=s.component||s,h=r.parentFragment,u=s.parentFragment,h===u)return a=h.items.indexOf(r),l=u.items.indexOf(s),a-l||n.length-i.length;if(c=o.fragments)return a=c.indexOf(h),l=c.indexOf(u),a-l||n.length-i.length;throw Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")},Oc=function(t,e){var n;return t.compareDocumentPosition?(n=t.compareDocumentPosition(e),2&n?1:-1):Ac(t,e)},$c=function(){this.sort(this._isComponentQuery?Ac:Oc),this._dirty=!1},Dc=function(){var t=this;this._dirty||(this._dirty=!0,mc.scheduleTask(function(){t._sort()}))},Pc=function(t){var e=this.indexOf(this._isComponentQuery?t.instance:t);-1!==e&&this.splice(e,1)},Rc=ce,Fc=he,jc=ue,Ic=de,Nc=fe,Lc=pe,Mc={enqueue:function(t,e){t.event&&(t._eventQueue=t._eventQueue||[],t._eventQueue.push(t.event)),t.event=e},dequeue:function(t){t._eventQueue&&t._eventQueue.length?t.event=t._eventQueue.pop():delete t.event}},Uc=Mc,Vc=me,Wc=be,Bc=ye,Hc={capture:!0,noUnwrap:!0,fullRootGet:!0},zc=we,qc=new nc("insert"),Kc=ke,Qc=function(t,e,n,i){this.root=t,this.keypath=e,this.callback=n,this.defer=i.defer,this.context=i&&i.context?i.context:t};Qc.prototype={init:function(t){this.value=this.root.get(this.keypath.str),t!==!1?this.update():this.oldValue=this.value},setValue:function(t){var e=this;a(t,this.value)||(this.value=t,this.defer&&this.ready?mc.scheduleTask(function(){return e.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath.str),this.oldValue=this.value,this.updating=!1)}};var Gc,Zc=Qc,Xc=Te,Yc=Array.prototype.slice;Gc=function(t,e,n,i){this.root=t,this.callback=n,this.defer=i.defer,this.keypath=e,this.regex=RegExp("^"+e.str.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=i&&i.context?i.context:t},Gc.prototype={init:function(t){var e,n;if(e=Xc(this.root,this.keypath),t!==!1)for(n in e)e.hasOwnProperty(n)&&this.update(C(n));else this.values=e},update:function(t){var e,n=this;if(t.isPattern){e=Xc(this.root,t);for(t in e)e.hasOwnProperty(t)&&this.update(C(t))}else if(!this.root.viewmodel.implicitChanges[t.str])return this.defer&&this.ready?void mc.scheduleTask(function(){return n.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(t){var e,n,i,r;return e=t.str,n=this.root.viewmodel.get(t),this.updating?void(this.values[e]=n):(this.updating=!0,a(n,this.values[e])&&this.ready||(i=Yc.call(this.regex.exec(e),1),r=[n,this.values[e],e].concat(i),this.values[e]=n,this.callback.apply(this.context,r)),void(this.updating=!1))},getProxy:function(t){var e=this;return this.proxies[t.str]||(this.proxies[t.str]={update:function(){return e.reallyUpdate(t)}}),this.proxies[t.str]}};var Jc,th,eh,nh,ih,rh,sh=Gc,oh=Ce,ah={},lh=Se,ch=Ee,hh=function(t){return t.trim()},uh=function(t){return""!==t},dh=_e,fh=Ae,ph=Oe,mh=$e,gh=Array.prototype,vh=function(t){return function(e){for(var n=arguments.length,i=Array(n>1?n-1:0),r=1;n>r;r++)i[r-1]=arguments[r];var o,a,l,c,h=[];if(e=C(_(e)),o=this.viewmodel.get(e),a=o.length,!s(o))throw Error("Called ractive."+t+"('"+e.str+"'), but '"+e.str+"' does not refer to an array");return h=mh(o,t,i),c=gh[t].apply(o,i),l=mc.start(this,!0).then(function(){return c}),h?this.viewmodel.smartUpdate(e,o,h):this.viewmodel.mark(e),mc.end(),l}},bh=vh("pop"),yh=vh("push"),wh="/* Ractive.js component styles */\n",xh=[],kh=!1;Ja?(eh=document.createElement("style"),eh.type="text/css",nh=document.getElementsByTagName("head")[0],rh=!1,ih=eh.styleSheet,th=function(){var t=wh+xh.map(function(t){return"\n/* {"+t.id+"} */\n"+t.styles}).join("\n");ih?ih.cssText=t:eh.innerHTML=t,rh||(nh.appendChild(eh),rh=!0)},Jc={add:function(t){xh.push(t),kh=!0},apply:function(){kh&&(th(),kh=!1)}}):Jc={add:Dl,apply:Dl};var Th,Ch,Sh=Jc,Eh=Pe,_h=new nc("render"),Ah=new nc("complete"),Oh={extend:function(t,e,n){e.adapt=Fe(e.adapt,F(n.adapt))},init:function(){}},$h=Oh,Dh=je,Ph=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,Rh=/\/\*.*?\*\//g,Fh=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~\(]+(?:\([^\)]+\))?)?\s*[\s\+\>\~]?)\s*/g,jh=/^@media/,Ih=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Nh=1,Lh={name:"css",extend:function(t,e,n){if(n.css){var i=Nh++,r=n.noCssTransform?n.css:Dh(n.css,i);e.cssId=i,Sh.add({id:i,styles:r})}},init:function(){}},Mh=Lh,Uh={name:"data",extend:function(t,e,n){var i=void 0,r=void 0;if(n.data&&c(n.data))for(i in n.data)r=n.data[i],r&&"object"==typeof r&&(c(r)||s(r))&&m("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=Me(e.data,n.data)},init:function(t,e,n){var i=Me(t.prototype.data,n.data);return"function"==typeof i&&(i=i.call(e)),i||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.reset(e),!0}},Vh=Uh,Wh=/^\s+/;Ch=function(t){this.name="ParseError",this.message=t;try{throw Error(t)}catch(e){this.stack=e.stack}},Ch.prototype=Error.prototype,Th=function(t,e){var n,i,r=0;for(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=r+t.length+1;return r=e,e},0),this.init&&this.init(t,e),n=[];this.str.length>this.pos&&(i=this.read());)n.push(i);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,e):n},Th.prototype={read:function(t){var e,n,i,r;for(t||(t=this.converters),e=this.pos,i=t.length,n=0;i>n;n+=1)if(this.pos=e,r=t[n](this))return r;return null},getLinePos:function(t){for(var e,n=0,i=0;t>=this.lineEnds[n];)i=this.lineEnds[n],n+=1;return e=t-i,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),n=e[0],i=e[1],r=this.lines[e[0]-1],s=0,o=r.replace(/\t/g,function(t,n){return e[1]>n&&(s+=1),"  "})+"\n"+Array(e[1]+s).join(" ")+"^----",a=new Ch(""+t+" at line "+n+" character "+i+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){return this.str.substr(this.pos,t.length)===t?(this.pos+=t.length,t):void 0},matchPattern:function(t){var e;return(e=t.exec(this.remaining()))?(this.pos+=e[0].length,e[1]||e[0]):void 0},allowWhitespace:function(){this.matchPattern(Wh)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},Th.extend=function(t){var e,n,i=this;e=function(t,e){Th.call(this,t,e)},e.prototype=wl(i.prototype);for(n in t)Al.call(t,n)&&(e.prototype[n]=t[n]);return e.extend=Th.extend,e};var Bh,Hh,zh,qh=Th,Kh=1,Qh=2,Gh=3,Zh=4,Xh=5,Yh=6,Jh=7,tu=8,eu=9,nu=10,iu=13,ru=14,su=15,ou=16,au=17,lu=18,cu=20,hu=21,uu=22,du=23,fu=24,pu=25,mu=26,gu=27,vu=30,bu=31,yu=32,wu=33,xu=34,ku=35,Tu=36,Cu=40,Su=50,Eu=51,_u=52,Au=53,Ou=54,$u=60,Du=61,Pu=We,Ru=/^[^\s=]+/,Fu=/^\s+/,ju=Be,Iu=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Nu=He,Lu={t:nu,exclude:!0},Mu="Expected a JavaScript expression",Uu="Expected closing paren",Vu=qe,Wu=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,Bu=Ke;Bh=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Hh=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,zh=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Hu,zu,qu=function(t){return function(e){var n,i,r,s;for(n=e.pos,i='"',r=!1;!r;)s=e.matchPattern(Bh)||e.matchPattern(Hh)||e.matchString(t),s?i+='"'===s?'\\"':"\\'"===s?"'":s:(s=e.matchPattern(zh),s?i+="\\u"+("000"+s.charCodeAt(1).toString(16)).slice(-4):r=!0);return i+='"',JSON.parse(i)}},Ku=qu('"'),Qu=qu("'"),Gu=function(t){var e,n;return e=t.pos,t.matchString('"')?(n=Qu(t),t.matchString('"')?{t:hu,v:n}:(t.pos=e,null)):t.matchString("'")?(n=Ku(t),t.matchString("'")?{t:hu,v:n}:(t.pos=e,null)):null},Zu=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Xu=Qe,Yu=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Ju=Ge,td=Ze,ed=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("{")?(n=td(t),t.allowWhitespace(),t.matchString("}")?{t:du,m:n}:(t.pos=e,null)):(t.pos=e,null)},nd=Xe,id=function(t){var e,n;return e=t.pos,t.allowWhitespace(),t.matchString("[")?(n=nd(t),t.matchString("]")?{t:uu,m:n}:(t.pos=e,null)):(t.pos=e,null)},rd=Ye,sd=Je,od=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Hu=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)\b/,zu=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var ad,ld,cd=/^[a-zA-Z$_0-9]+(?:(?:\.[a-zA-Z$_0-9]+)|(?:\[[0-9]+\]))*/,hd=/^[a-zA-Z_$][-a-zA-Z_$0-9]*/,ud=tn,dd=function(t){return rd(t)||sd(t)||ud(t)},fd=en,pd=function(t){var e,n,i,r;if(n=dd(t),!n)return null;for(;n;)if(e=t.pos,i=fd(t))n={t:yu,x:n,r:i};else{if(!t.matchString("("))break;t.allowWhitespace(),r=nd(t),t.allowWhitespace(),t.matchString(")")||t.error(Uu),n={t:Cu,x:n},r&&(n.o=r)}return n};ld=function(t,e){return function(n){var i;return(i=e(n))?i:n.matchString(t)?(n.allowWhitespace(),i=Ad(n),i||n.error(Mu),{s:t,o:i,t:wu}):null}},function(){var t,e,n,i,r;for(i="! ~ + - typeof".split(" "),r=pd,t=0,e=i.length;e>t;t+=1)n=ld(i[t],r),r=n;ad=r}();var md,gd,vd=ad;gd=function(t,e){return function(n){var i,r,s;if(r=e(n),!r)return null;for(;;){if(i=n.pos,n.allowWhitespace(),!n.matchString(t))return n.pos=i,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(n.remaining().charAt(0)))return n.pos=i,r;if(n.allowWhitespace(),s=e(n),!s)return n.pos=i,r;r={t:Tu,s:t,o:[r,s]}}}},function(){var t,e,n,i,r;for(i="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=vd,t=0,e=i.length;e>t;t+=1)n=gd(i[t],r),r=n;md=r}();var bd,yd,wd,xd,kd,Td,Cd,Sd,Ed=md,_d=nn,Ad=rn,Od=sn,$d=an,Dd=/^[0-9][1-9]*$/,Pd=cn,Rd=hn,Fd=un,jd=dn,Id=fn,Nd=pn,Ld=mn,Md=/^yield\s*/,Ud=gn,Vd=vn,Wd=/^\s*else\s*/,Bd=bn,Hd=/^\s*elseif\s+/,zd={each:_u,"if":Su,"if-with":Ou,"with":Au,unless:Eu},qd=yn,Kd=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Qd=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Gd=RegExp("^("+Object.keys(zd).join("|")+")\\b"),Zd=Cn,Xd="<!--",Yd="-->";bd=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,yd=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,wd={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},xd=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],kd=RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(wd).join("|")+"));?","g"),Td=/</g,Cd=/>/g,Sd=/&/g;var Jd,tf,ef,nf,rf,sf,of,af=/^\s*\r?\n/,lf=/\r?\n\s*$/,cf=function(t){var e,n,i,r,s;for(e=1;t.length>e;e+=1)n=t[e],i=t[e-1],r=t[e-2],An(n)&&On(i)&&An(r)&&lf.test(r)&&af.test(n)&&(t[e-2]=r.replace(lf,"\n"),t[e]=n.replace(af,"")),$n(n)&&An(i)&&lf.test(i)&&An(n.f[0])&&af.test(n.f[0])&&(t[e-1]=i.replace(lf,"\n"),n.f[0]=n.f[0].replace(af,"")),An(n)&&$n(i)&&(s=j(i.f),An(s)&&lf.test(s)&&af.test(n)&&(i.f[i.f.length-1]=s.replace(lf,"\n"),t[e]=n.replace(af,"")));return t},hf=function(t,e,n){var i;e&&(i=t[0],"string"==typeof i&&(i=i.replace(e,""),i?t[0]=i:t.shift())),n&&(i=j(t),"string"==typeof i&&(i=i.replace(n,""),i?t[t.length-1]=i:t.pop()))},uf=Dn,df=/[ \t\f\r\n]+/g,ff=/^(?:pre|script|style|textarea)$/i,pf=/^[ \t\f\r\n]+/,mf=/[ \t\f\r\n]+$/,gf=/^(?:\r\n|\r|\n)/,vf=/(?:\r\n|\r|\n)$/,bf=Pn,yf=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,wf=function(t,e){var n,i,r;for(n=e.length;n--;){if(i=t.indexOf(e[n]),!i)return 0;-1!==i&&(!r||r>i)&&(r=i)}return r||-1},xf=Rn,kf=/^[^\s"'>\/=]+/,Tf=/^[^\s"'=<>`]+/;tf={"true":!0,"false":!1,undefined:void 0,"null":null},ef=RegExp("^(?:"+Object.keys(tf).join("|")+")"),nf=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,rf=/\$\{([^\}]+)\}/g,sf=/^\$\{([^\}]+)\}/,of=/^\s*$/,Jd=qh.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){return 1===t.length&&of.test(this.leftover)?{value:t[0].v}:null},converters:[function(t){var e;return t.values?(e=t.matchPattern(sf),e&&t.values.hasOwnProperty(e)?{v:t.values[e]}:void 0):null},function(t){var e;return(e=t.matchPattern(ef))?{v:tf[e]}:void 0},function(t){var e;return(e=t.matchPattern(nf))?{v:+e}:void 0},function(t){var e,n=Gu(t);return n&&(e=t.values)?{v:n.v.replace(rf,function(t,n){return n in e?e[n]:n})}:n},function(t){var e,n;if(!t.matchString("{"))return null;if(e={},t.allowWhitespace(),t.matchString("}"))return{v:e};for(;n=Mn(t);){if(e[n.key]=n.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){var e,n;if(!t.matchString("["))return null;if(e=[],t.allowWhitespace(),t.matchString("]"))return{v:e};for(;n=t.read();){if(e.push(n.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]});var Cf,Sf=function(t,e){var n=new Jd(t,{values:e});return n.result},Ef=Un,_f=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,Af=/\)\s*$/;Cf=qh.extend({converters:[Ad]});var Of,$f=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Df=/^[\s\n\/>]/,Pf=/^on/,Rf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,Ff=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,jf={"intro-outro":"t0",intro:"t1",outro:"t2",decorator:"o"},If={exclude:!0};Of={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Nf,Lf=Vn,Mf=Bn,Uf=Hn,Vf=/[-\/\\^$*+?.()|[\]{}]/g,Wf=zn,Bf=/^<!--\s*/,Hf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,zf=/\s*-->/,qf=qn,Kf=/^#\s*partial\s+/,Qf=Kn,Gf=Qn,Zf=[Fd,Rd,qd,Ld,Nd,jd],Xf=[Pd],Yf=[Rd,qd,Nd],Jf=void 0,tp=[Nu,Zd,Lf,Mf],ep=[Wf,qf];Jf=qh.extend({init:function(t,e){var n=e.tripleDelimiters||["{{{","}}}"],i=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:Zf},{isStatic:!1,isTriple:!0,open:n[0],close:n[1],readers:Xf},{isStatic:!0,isTriple:!1,open:i[0],close:i[1],readers:Yf},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:Xf}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1},e.sanitize===!0&&(e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0}),this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions},postProcess:function(t){return t.length?(this.sectionDepth>0&&this.error("A section was left open"),uf(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),t[0]):{t:[],v:ol}},converters:[Qf],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var np,ip,rp,sp=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],op={fromId:Xn,isHashedId:Yn,isParsed:Jn,getParseOptions:ti,createHelper:Gn,parse:Zn},ap=op,lp={name:"template",extend:function(t,e,n){var i;"template"in n&&(i=n.template,e.template="function"==typeof i?i:ri(i,e))},init:function(t,e,n){var i,r;i="template"in n?n.template:t.prototype.template,"function"==typeof i&&(r=i,i=ni(e,r),e._config.template={fn:r,result:i}),i=ri(i,e),e.template=i.t,i.p&&si(e.partials,i.p)},reset:function(t){var e,n=ei(t);return n?(e=ri(n,t),t.template=e.t,si(t.partials,e.p,!0),!0):void 0}},cp=lp;np=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],ip=function(t,e){this.name=t,this.useDefaults=e},ip.prototype={constructor:ip,extend:function(t,e,n){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,n)},init:function(){},configure:function(t,e,n){var i,r=this.name,s=n[r];i=wl(t[r]);for(var o in s)i[o]=s[o];e[r]=i},reset:function(t){var e=t[this.name],n=!1;return Object.keys(e).forEach(function(t){var i=e[t];i._fn&&(i._fn.isOwner?e[t]=i._fn:delete e[t],n=!0)}),n}},rp=np.map(function(t){return new ip(t,"computed"===t)});var hp,up,dp,fp,pp,mp,gp=rp,vp=oi,bp=hi;fp={adapt:$h,css:Mh,data:Vh,template:cp},dp=Object.keys(ll),mp=fi(dp.filter(function(t){return!fp[t]})),pp=fi(dp.concat(gp.map(function(t){return t.name}))),up=[].concat(dp.filter(function(t){return!gp[t]&&!fp[t]}),gp,fp.data,fp.template,fp.css),hp={extend:function(t,e,n){return ui("extend",t,e,n)},init:function(t,e,n){return ui("init",t,e,n)},reset:function(t){return up.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:up};var yp=hp,wp=pi,xp=mi,kp=gi,Tp=vi,Cp=bi,Sp=yi,Ep=wi,_p=xi,Ap=ki,Op=Ti,$p=Ci,Dp=Si,Pp=function(){return e(this.node)},Rp=function(t){this.type=Kh,this.text=t.template};Rp.prototype={detach:Pp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(t){return t?_n(this.text):this.text},unrender:function(t){return t?this.detach():void 0}};var Fp=Rp,jp=Ei,Ip=_i,Np=function(t,e,n){var i;this.ref=e,this.resolved=!1,this.root=t.root,this.parentFragment=t.parentFragment,this.callback=n,i=lc(t.root,e,t.parentFragment),void 0!=i?this.resolve(i):mc.addUnresolved(this)};Np.prototype={resolve:function(t){this.keypath&&!t&&mc.addUnresolved(this),this.resolved=!0,this.keypath=t,this.callback(t)},forceResolution:function(){this.resolve(C(this.ref))},rebind:function(t,e){var n;void 0!=this.keypath&&(n=this.keypath.replace(t,e),void 0!==n&&this.resolve(n))},unbind:function(){this.resolved||mc.removeUnresolved(this)}};var Lp=Np,Mp=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,this.rebind()},Up={"@keypath":{prefix:"c",prop:["context"]},"@index":{prefix:"i",prop:["index"]},"@key":{prefix:"k",prop:["key","index"]}};Mp.prototype={rebind:function(){var t,e=this.ref,n=this.parentFragment,i=Up[e];if(!i)throw Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath');if(this.cached)return this.callback(C("@"+i.prefix+Ai(this.cached,i)));if(-1!==i.prop.indexOf("index")||-1!==i.prop.indexOf("key"))for(;n;){if(n.owner.currentSubtype===_u&&void 0!==(t=Ai(n,i)))return this.cached=n,n.registerIndexRef(this),this.callback(C("@"+i.prefix+t));n=!n.parent&&n.owner&&n.owner.component&&n.owner.component.parentFragment&&!n.owner.component.instance.isolated?n.owner.component.parentFragment:n.parent}else for(;n;){if(void 0!==(t=Ai(n,i)))return this.callback(C("@"+i.prefix+t.str));n=n.parent}},unbind:function(){this.cached&&this.cached.unregisterIndexRef(this)}};var Vp=Mp,Wp=function(t,e,n){this.parentFragment=t.parentFragment,this.ref=e,this.callback=n,e.ref.fragment.registerIndexRef(this),this.rebind()};Wp.prototype={rebind:function(){var t,e=this.ref.ref;t="k"===e.ref.t?"k"+e.fragment.key:"i"+e.fragment.index,void 0!==t&&this.callback(C("@"+t))},unbind:function(){this.ref.ref.fragment.unregisterIndexRef(this)}};var Bp=Wp,Hp=Oi;Oi.resolve=function(t){var e,n,i={};for(e in t.refs)n=t.refs[e],i[n.ref.n]="k"===n.ref.t?n.fragment.key:n.fragment.index;return i};var zp,qp=$i,Kp=Di,Qp={},Gp=Function.prototype.bind;zp=function(t,e,n,i){var r,s=this;r=t.root,this.root=r,this.parentFragment=e,this.callback=i,this.owner=t,this.str=n.s,this.keypaths=[],this.pending=n.r.length,this.refResolvers=n.r.map(function(t,e){return qp(s,t,function(t){s.resolve(e,t)})}),this.ready=!0,this.bubble()},zp.prototype={bubble:function(){this.ready&&(this.uniqueString=Ri(this.str,this.keypaths),this.keypath=Fi(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))
},unbind:function(){for(var t;t=this.refResolvers.pop();)t.unbind()},resolve:function(t,e){this.keypaths[t]=e,this.bubble()},createEvaluator:function(){var t,e,n,i,r,s=this;i=this.keypath,t=this.root.viewmodel.computations[i.str],t?this.root.viewmodel.mark(i):(r=Kp(this.str,this.refResolvers.length),e=this.keypaths.map(function(t){var e;return"undefined"===t?function(){return void 0}:t.isSpecial?(e=t.value,function(){return e}):function(){var e=s.root.viewmodel.get(t,{noUnwrap:!0,fullRootGet:!0});return"function"==typeof e&&(e=Ii(e,s.root)),e}}),n={deps:this.keypaths.filter(ji),getter:function(){var t=e.map(Pi);return r.apply(null,t)}},t=this.root.viewmodel.compute(i,n))},rebind:function(t,e){this.refResolvers.forEach(function(n){return n.rebind(t,e)})}};var Zp=zp,Xp=function(t,e,n){var i=this;this.resolver=e,this.root=e.root,this.parentFragment=n,this.viewmodel=e.root.viewmodel,"string"==typeof t?this.value=t:t.t===vu?this.refResolver=qp(this,t.n,function(t){i.resolve(t)}):new Zp(e,n,t,function(t){i.resolve(t)})};Xp.prototype={resolve:function(t){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=t,this.value=this.viewmodel.get(t),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(t,e){this.refResolver&&this.refResolver.rebind(t,e)},setValue:function(t){this.value=t,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.refResolver&&this.refResolver.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}};var Yp=Xp,Jp=function(t,e,n){var i,r,s,o,a=this;this.parentFragment=o=t.parentFragment,this.root=i=t.root,this.mustache=t,this.ref=r=e.r,this.callback=n,this.unresolved=[],(s=lc(i,r,o))?this.base=s:this.baseResolver=new Lp(this,r,function(t){a.base=t,a.baseResolver=null,a.bubble()}),this.members=e.m.map(function(t){return new Yp(t,a,o)}),this.ready=!0,this.bubble()};Jp.prototype={getKeypath:function(){var t=this.members.map(Ni);return!t.every(Li)||this.baseResolver?null:this.base.join(t.join("."))},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(K)},rebind:function(t,e){var n;if(this.base){var i=this.base.replace(t,e);i&&i!==this.base&&(this.base=i,n=!0)}this.members.forEach(function(i){i.rebind(t,e)&&(n=!0)}),n&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=C(this.ref),this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(Mi),this.bubble()}};var tm=Jp,em=Ui,nm=Vi,im=Wi,rm={getValue:Ip,init:em,resolve:nm,rebind:im},sm=function(t){this.type=Qh,rm.init(this,t)};sm.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:rm.resolve,rebind:rm.rebind,detach:Pp,unbind:jp,render:function(){return this.node||(this.node=document.createTextNode(n(this.value))),this.node},unrender:function(t){t&&e(this.node)},getValue:rm.getValue,setValue:function(t){var e;this.keypath&&(e=this.root.viewmodel.wrapped[this.keypath.str])&&(t=e.get()),a(t,this.value)||(this.value=t,this.parentFragment.bubble(),this.node&&mc.addView(this))},firstNode:function(){return this.node},toString:function(t){var e=""+n(this.value);return t?_n(e):e}};var om=sm,am=Bi,lm=Hi,cm=zi,hm=qi,um=Ki,dm=Qi,fm=Gi,pm=Zi,mm=Xi,gm=function(t,e){rm.rebind.call(this,t,e)},vm=Ji,bm=tr,ym=ur,wm=dr,xm=fr,km=gr,Tm=function(t){this.type=Zh,this.subtype=this.currentSubtype=t.template.n,this.inverted=this.subtype===Eu,this.pElement=t.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],t.template.i&&(this.indexRefs=t.template.i.split(",").map(function(t,e){return{n:t,t:0===e?"k":"i"}})),this.renderedFragments=[],this.length=0,rm.init(this,t)};Tm.prototype={bubble:am,detach:lm,find:cm,findAll:hm,findAllComponents:um,findComponent:dm,findNextNode:fm,firstNode:pm,getIndexRef:function(t){if(this.indexRefs)for(var e=this.indexRefs.length;e--;){var n=this.indexRefs[e];if(n.n===t)return n}},getValue:rm.getValue,shuffle:mm,rebind:gm,render:vm,resolve:rm.resolve,setValue:bm,toString:ym,unbind:wm,unrender:xm,update:km};var Cm,Sm,Em=Tm,_m=vr,Am=br,Om=yr,$m=wr,Dm={};try{ul("table").innerHTML="foo"}catch(Cl){Cm=!0,Sm={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Pm=function(t,e,n){var i,r,s,o,a,l=[];if(null!=t&&""!==t){for(Cm&&(r=Sm[e.tagName])?(i=xr("DIV"),i.innerHTML=r[0]+t+r[1],i=i.querySelector(".x"),"SELECT"===i.tagName&&(s=i.options[i.selectedIndex])):e.namespaceURI===il.svg?(i=xr("DIV"),i.innerHTML='<svg class="x">'+t+"</svg>",i=i.querySelector(".x")):(i=xr(e.tagName),i.innerHTML=t,"SELECT"===i.tagName&&(s=i.options[i.selectedIndex]));o=i.firstChild;)l.push(o),n.appendChild(o);if("SELECT"===e.tagName)for(a=l.length;a--;)l[a]!==s&&(l[a].selected=!1)}return l},Rm=kr,Fm=Cr,jm=Sr,Im=Er,Nm=_r,Lm=Ar,Mm=function(t){this.type=Gh,rm.init(this,t)};Mm.prototype={detach:_m,find:Am,findAll:Om,firstNode:$m,getValue:rm.getValue,rebind:rm.rebind,render:Fm,resolve:rm.resolve,setValue:jm,toString:Im,unbind:jp,unrender:Nm,update:Lm};var Um,Vm,Wm,Bm,Hm=Mm,zm=function(){this.parentFragment.bubble()},qm=Or,Km=function(t){return this.node?dl(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0:null},Qm=function(t,e){e._test(this,!0)&&e.live&&(this.liveQueries||(this.liveQueries=[])).push(e),this.fragment&&this.fragment.findAll(t,e)},Gm=function(t,e){this.fragment&&this.fragment.findAllComponents(t,e)},Zm=function(t){return this.fragment?this.fragment.findComponent(t):void 0},Xm=$r,Ym=Dr,Jm=Pr,tg=/^true|on|yes|1$/i,eg=/^[0-9]+$/,ng=function(t,e){var n,i,r;return r=e.a||{},i={},n=r.twoway,void 0!==n&&(i.twoway=0===n||tg.test(n)),n=r.lazy,void 0!==n&&(i.lazy=0!==n&&eg.test(n)?parseInt(n):0===n||tg.test(n)),i},ig=Rr;Um="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),Vm="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),Wm=function(t){for(var e={},n=t.length;n--;)e[t[n].toLowerCase()]=t[n];return e},Bm=Wm(Um.concat(Vm));var rg=function(t){var e=t.toLowerCase();return Bm[e]||e},sg=function(t,e){var n,i;if(n=e.indexOf(":"),-1===n||(i=e.substr(0,n),"xmlns"===i))t.name=t.element.namespace!==il.html?rg(e):e;else if(e=e.substring(n+1),t.name=rg(e),t.namespace=il[i.toLowerCase()],t.namespacePrefix=i,!t.namespace)throw'Unknown namespace ("'+i+'")'},og=Fr,ag=jr,lg=Ir,cg=Nr,hg={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},ug=Lr,dg=Ur,fg=Vr,pg=Wr,mg=Br,gg=Hr,vg=zr,bg=qr,yg=Kr,wg=Qr,xg=Gr,kg=Zr,Tg=Xr,Cg=Yr,Sg=Jr,Eg=function(t){this.init(t)};Eg.prototype={bubble:ig,init:ag,rebind:lg,render:cg,toString:ug,unbind:dg,update:Sg};var _g,Ag=Eg,Og=function(t,e){var n,i,r=[];for(n in e)"twoway"!==n&&"lazy"!==n&&e.hasOwnProperty(n)&&(i=new Ag({element:t,name:n,value:e[n],root:t.root}),r[n]=i,"value"!==n&&r.push(i));return(i=r.value)&&r.push(i),r};"undefined"!=typeof document&&(_g=ul("div"));var $g=function(t,e){this.element=t,this.root=t.root,this.parentFragment=t.parentFragment,this.attributes=[],this.fragment=new bw({root:t.root,owner:this,template:[e]})};$g.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(t,e){this.fragment.rebind(t,e)},render:function(t){this.node=t,this.isSvg=t.namespaceURI===il.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var t,e,n=this;t=this.fragment+"",e=ts(t,this.isSvg),this.attributes.filter(function(t){return es(e,t)}).forEach(function(t){n.node.removeAttribute(t.name)}),e.forEach(function(t){n.node.setAttribute(t.name,t.value)}),this.attributes=e},toString:function(){return this.fragment+""}};var Dg=$g,Pg=function(t,e){return e?e.map(function(e){return new Dg(t,e)}):[]},Rg=function(t){var e,n,i,r;if(this.element=t,this.root=t.root,this.attribute=t.attributes[this.name||"value"],e=this.attribute.interpolator,e.twowayBinding=this,n=e.keypath){if("}"===n.str.slice(-1))return g("Two-way binding does not work with expressions (`%s` on <%s>)",e.resolver.uniqueString,t.name,{ractive:this.root}),!1;if(n.isSpecial)return g("Two-way binding does not work with %s",e.resolver.ref,{ractive:this.root}),!1}else{var s=e.template.r?"'"+e.template.r+"' reference":"expression";m("The %s being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",s,{ractive:this.root}),e.resolver.forceResolution(),n=e.keypath}this.attribute.isTwoway=!0,this.keypath=n,i=this.root.viewmodel.get(n),void 0===i&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(n,i)),(r=ns(t))&&(this.resetValue=i,r.formBindings.push(this))};Rg.prototype={handleChange:function(){var t=this;mc.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),mc.scheduleTask(function(){return t.attribute.locked=!1}),mc.end()},rebound:function(){var t,e,n;e=this.keypath,n=this.attribute.interpolator.keypath,e!==n&&(I(this.root._twowayBindings[e.str],this),this.keypath=n,t=this.root._twowayBindings[n.str]||(this.root._twowayBindings[n.str]=[]),t.push(this))},unbind:function(){}},Rg.extend=function(t){var e,n=this;return e=function(t){Rg.call(this,t),this.init&&this.init()},e.prototype=wl(n.prototype),i(e.prototype,t),e.extend=Rg.extend,e};var Fg,jg=Rg,Ig=is;Fg=jg.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var t,e=this.element.node,n=!1;this.rendered=!0,t=this.root.lazy,this.element.lazy===!0?t=!0:this.element.lazy===!1?t=!1:l(this.element.lazy)?(t=!1,n=+this.element.lazy):l(t||"")&&(n=+t,t=!1,this.element.lazy=n),this.handler=n?ss:Ig,e.addEventListener("change",Ig,!1),t||(e.addEventListener("input",this.handler,!1),e.attachEvent&&e.addEventListener("keyup",this.handler,!1)),e.addEventListener("blur",rs,!1)},unrender:function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",Ig,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",rs,!1)}});var Ng=Fg,Lg=Ng.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment+"":""},getValue:function(){return this.element.node.innerHTML}}),Mg=Lg,Ug=os,Vg={},Wg=jg.extend({name:"checked",init:function(){this.siblings=Ug(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var t=this.element.node;t.addEventListener("change",Ig,!1),t.attachEvent&&t.addEventListener("click",Ig,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ig,!1),t.removeEventListener("click",Ig,!1)},handleChange:function(){mc.start(this.root),this.siblings.forEach(function(t){t.root.viewmodel.set(t.keypath,t.getValue())}),mc.end()},getValue:function(){return this.element.node.checked},unbind:function(){I(this.siblings,this)}}),Bg=Wg,Hg=jg.extend({name:"name",init:function(){this.siblings=Ug(this.root._guid,"radioname",this.keypath.str),this.siblings.push(this),this.radioName=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var t=this.element.node;t.name="{{"+this.keypath.str+"}}",t.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),t.addEventListener("change",Ig,!1),t.attachEvent&&t.addEventListener("click",Ig,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ig,!1),t.removeEventListener("click",Ig,!1)},getValue:function(){var t=this.element.node;return t._ractive?t._ractive.value:t.value},handleChange:function(){this.element.node.checked&&jg.prototype.handleChange.call(this)},rebound:function(t,e){var n;jg.prototype.rebound.call(this,t,e),(n=this.element.node)&&(n.name="{{"+this.keypath.str+"}}")},unbind:function(){I(this.siblings,this)}}),zg=Hg,qg=jg.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var t,e;this.checkboxName=!0,this.siblings=Ug(this.root._guid,"checkboxes",this.keypath.str),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),t.push(e))},unbind:function(){I(this.siblings,this)},render:function(){var t,e,n=this.element.node;t=this.root.viewmodel.get(this.keypath),e=this.element.getAttribute("value"),this.isChecked=s(t)?P(t,e):t==e,n.name="{{"+this.keypath.str+"}}",n.checked=this.isChecked,n.addEventListener("change",Ig,!1),n.attachEvent&&n.addEventListener("click",Ig,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ig,!1),t.removeEventListener("click",Ig,!1)},changed:function(){var t=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===t},handleChange:function(){this.isChecked=this.element.node.checked,jg.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(as).map(ls)}}),Kg=qg,Qg=jg.extend({name:"checked",render:function(){var t=this.element.node;t.addEventListener("change",Ig,!1),t.attachEvent&&t.addEventListener("click",Ig,!1)},unrender:function(){var t=this.element.node;t.removeEventListener("change",Ig,!1),t.removeEventListener("click",Ig,!1)},getValue:function(){return this.element.node.checked}}),Gg=Qg,Zg=jg.extend({getInitialValue:function(){var t,e,n,i,r=this.element.options;if(void 0===this.element.getAttribute("value")&&(e=t=r.length,t)){for(;e--;)if(r[e].getAttribute("selected")){n=r[e].getAttribute("value"),i=!0;break}if(!i)for(;t>++e;)if(!r[e].getAttribute("disabled")){n=r[e].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",Ig,!1)},unrender:function(){this.element.node.removeEventListener("change",Ig,!1)},setValue:function(t){this.root.viewmodel.set(this.keypath,t)},getValue:function(){var t,e,n,i,r;for(t=this.element.node.options,n=t.length,e=0;n>e;e+=1)if(i=t[e],t[e].selected)return r=i._ractive?i._ractive.value:i.value},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mc.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))}}),Xg=Zg,Yg=Xg.extend({getInitialValue:function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},render:function(){var t;this.element.node.addEventListener("change",Ig,!1),t=this.root.viewmodel.get(this.keypath),void 0===t&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",Ig,!1)},setValue:function(){throw Error("TODO not implemented yet")},getValue:function(){var t,e,n,i,r,s;for(t=[],e=this.element.node.options,i=e.length,n=0;i>n;n+=1)r=e[n],r.selected&&(s=r._ractive?r._ractive.value:r.value,t.push(s));return t},handleChange:function(){var t,e,n;return t=this.attribute,e=t.value,n=this.getValue(),void 0!==e&&R(n,e)||Xg.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,e=this.getValue();void 0!==e&&(this.attribute.locked=!0,mc.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,e))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}}),Jg=Yg,tv=jg.extend({render:function(){this.element.node.addEventListener("change",Ig,!1)},unrender:function(){this.element.node.removeEventListener("change",Ig,!1)},getValue:function(){return this.element.node.files}}),ev=tv,nv=Ng.extend({getInitialValue:function(){return void 0},getValue:function(){var t=parseFloat(this.element.node.value);return isNaN(t)?void 0:t}}),iv=cs,rv=us,sv=ds,ov=fs,av=ps,lv=/^event(?:\.(.+))?/,cv=bs,hv=ys,uv={},dv={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0},fv=xs,pv=ks,mv=Ts,gv=Cs,vv=Ss,bv=function(t,e,n){this.init(t,e,n)};bv.prototype={bubble:rv,fire:sv,getAction:ov,init:av,listen:hv,rebind:fv,render:pv,resolve:mv,unbind:gv,unrender:vv};var yv=bv,wv=function(t,e){var n,i,r,s,o=[];for(i in e)if(e.hasOwnProperty(i))for(r=i.split("-"),n=r.length;n--;)s=new yv(t,r[n],e[i]),o.push(s);return o},xv=function(t,e){var n,i,r,s=this;this.element=t,this.root=n=t.root,i=e.n||e,("string"==typeof i||(r=new bw({template:i,root:n,owner:t}),i=r+"",r.unbind(),""!==i))&&(e.a?this.params=e.a:e.d&&(this.fragment=new bw({template:e.d,root:n,owner:t}),this.params=this.fragment.getArgsList(),this.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,s.params=this.getArgsList(),s.ready&&s.update()}),this.fn=v("decorators",n,i),this.fn||u(jl(i,"decorator")))};xv.prototype={init:function(){var t,e,n;if(t=this.element.node,this.params?(n=[t].concat(this.params),e=this.fn.apply(this.root,n)):e=this.fn.call(this.root,t),!e||!e.teardown)throw Error("Decorator definition must return an object with a teardown method");this.actual=e,this.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(t,e){this.fragment&&this.fragment.rebind(t,e)},teardown:function(t){this.torndown=!0,this.ready&&this.actual.teardown(),!t&&this.fragment&&this.fragment.unbind()}};var kv,Tv,Cv,Sv=xv,Ev=Ps,_v=Rs,Av=Ms,Ov=function(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})};Ja?(Tv={},Cv=ul("div").style,kv=function(t){var e,n,i;if(t=Ov(t),!Tv[t])if(void 0!==Cv[t])Tv[t]=t;else for(i=t.charAt(0).toUpperCase()+t.substring(1),e=sl.length;e--;)if(n=sl[e],void 0!==Cv[n+i]){Tv[t]=n+i;break}return Tv[t]}):kv=null;var $v,Dv,Pv=kv;Ja?(Dv=window.getComputedStyle||Tl.getComputedStyle,$v=function(t){var e,n,i,r,o;if(e=Dv(this.node),"string"==typeof t)return o=e[Pv(t)],"0px"===o&&(o=0),o;if(!s(t))throw Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(n={},i=t.length;i--;)r=t[i],o=e[Pv(r)],"0px"===o&&(o=0),n[r]=o;return n}):$v=null;var Rv=$v,Fv=function(t,e){var n;if("string"==typeof t)this.node.style[Pv(t)]=e;else for(n in t)t.hasOwnProperty(n)&&(this.node.style[Pv(n)]=t[n]);return this},jv=function(t){var e;this.duration=t.duration,this.step=t.step,this.complete=t.complete,"string"==typeof t.easing?(e=t.root.easing[t.easing],e||(g(jl(t.easing,"easing")),e=Us)):e="function"==typeof t.easing?t.easing:Us,this.easing=e,this.start=Jl(),this.end=this.start+this.duration,this.running=!0,bc.add(this)};jv.prototype={tick:function(t){var e,n;return this.running?t>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(e=t-this.start,n=this.easing(e/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}};var Iv,Nv,Lv,Mv,Uv,Vv,Wv,Bv,Hv=jv,zv=RegExp("^-(?:"+sl.join("|")+")-"),qv=function(t){return t.replace(zv,"")},Kv=RegExp("^(?:"+sl.join("|")+")([A-Z])"),Qv=function(t){var e;return t?(Kv.test(t)&&(t="-"+t),e=t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})):""},Gv={},Zv={};Ja?(Nv=ul("div").style,function(){void 0!==Nv.transition?(Lv="transition",Mv="transitionend",Uv=!0):void 0!==Nv.webkitTransition?(Lv="webkitTransition",Mv="webkitTransitionEnd",Uv=!0):Uv=!1}(),Lv&&(Vv=Lv+"Duration",Wv=Lv+"Property",Bv=Lv+"TimingFunction"),Iv=function(t,e,n,i,r){setTimeout(function(){var s,o,a,l,c;l=function(){o&&a&&(t.root.fire(t.name+":end",t.node,t.isIntro),r())},s=(t.node.namespaceURI||"")+t.node.tagName,t.node.style[Wv]=i.map(Pv).map(Qv).join(","),t.node.style[Bv]=Qv(n.easing||"linear"),t.node.style[Vv]=n.duration/1e3+"s",c=function(e){var n;n=i.indexOf(Ov(qv(e.propertyName))),-1!==n&&i.splice(n,1),i.length||(t.node.removeEventListener(Mv,c,!1),a=!0,l())},t.node.addEventListener(Mv,c,!1),setTimeout(function(){for(var r,h,u,d,f,p=i.length,g=[];p--;)d=i[p],r=s+d,Uv&&!Zv[r]&&(t.node.style[Pv(d)]=e[d],Gv[r]||(h=t.getStyle(d),Gv[r]=t.getStyle(d)!=e[d],Zv[r]=!Gv[r],Zv[r]&&(t.node.style[Pv(d)]=h))),(!Uv||Zv[r])&&(void 0===h&&(h=t.getStyle(d)),u=i.indexOf(d),-1===u?m("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node}):i.splice(u,1),f=/[^\d]*$/.exec(e[d])[0],g.push({name:Pv(d),interpolator:Nl(parseFloat(h),parseFloat(e[d])),suffix:f}));g.length?new Hv({root:t.root,duration:n.duration,easing:Ov(n.easing||""),step:function(e){var n,i;for(i=g.length;i--;)n=g[i],t.node.style[n.name]=n.interpolator(e)+n.suffix},complete:function(){o=!0,l()}}):o=!0,i.length||(t.node.removeEventListener(Mv,c,!1),a=!0,l())},0)},n.delay||0)}):Iv=null;var Xv,Yv,Jv,tb,eb,nb=Iv;if("undefined"!=typeof document){if(Xv="hidden",eb={},Xv in document)Jv="";else for(tb=sl.length;tb--;)Yv=sl[tb],Xv=Yv+"Hidden",Xv in document&&(Jv=Yv);void 0!==Jv?(document.addEventListener(Jv+"visibilitychange",Vs),Vs()):("onfocusout"in document?(document.addEventListener("focusout",Ws),document.addEventListener("focusin",Bs)):(window.addEventListener("pagehide",Ws),window.addEventListener("blur",Ws),window.addEventListener("pageshow",Bs),window.addEventListener("focus",Bs)),eb.hidden=!1)}var ib,rb,sb,ob=eb;Ja?(rb=window.getComputedStyle||Tl.getComputedStyle,ib=function(t,e,n){var i,r=this;if(4===arguments.length)throw Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(ob.hidden)return this.setStyle(t,e),sb||(sb=oc.resolve());"string"==typeof t?(i={},i[t]=e):(i=t,n=e),n||(g('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),n=this);var s=new oc(function(t){var e,s,o,a,l,c,h;if(!n.duration)return r.setStyle(i),void t();for(e=Object.keys(i),s=[],o=rb(r.node),l={},c=e.length;c--;)h=e[c],a=o[Pv(h)],"0px"===a&&(a=0),a!=i[h]&&(s.push(h),r.node.style[Pv(h)]=a);return s.length?void nb(r,i,n,s,t):void t()});return s}):ib=null;var ab=ib,lb=function(t,e){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),r({},t,e)},cb=Hs,hb=function(t,e,n){this.init(t,e,n)};hb.prototype={init:Av,start:cb,getStyle:Rv,setStyle:Fv,animateStyle:ab,processParams:lb};var ub,db,fb=hb,pb=qs;ub=function(){var t=this.node,e=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(t.type="text/css"),t.styleSheet)t.styleSheet.cssText=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},db=function(){this.node.type&&"text/javascript"!==this.node.type||m("Script tag was updated. This does not cause the code to be re-evaluated!",{ractive:this.root}),this.node.text=this.fragment.toString(!1)};var mb=function(){var t,e;return this.template.y?"<!DOCTYPE"+this.template.dd+">":(t="<"+this.template.e,t+=this.attributes.map(Ys).join("")+this.conditionalAttributes.map(Ys).join(""),"option"===this.name&&Zs(this)&&(t+=" selected"),"input"===this.name&&Xs(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=_n(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")||""),this.fragment&&(e="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(e)),yd.test(this.template.e)||(t+="</"+this.template.e+">"),t)},gb=Js,vb=to,bb=function(t){this.init(t)};bb.prototype={bubble:zm,detach:qm,find:Km,findAll:Qm,findAllComponents:Gm,findComponent:Zm,findNextNode:Xm,firstNode:Ym,getAttribute:Jm,init:Ev,rebind:_v,render:pb,toString:mb,unbind:gb,unrender:vb};var yb=bb,wb=/^\s*$/,xb=/^\s*/,kb=function(t){var e,n,i,r;return e=t.split("\n"),n=e[0],void 0!==n&&wb.test(n)&&e.shift(),i=j(e),void 0!==i&&wb.test(i)&&e.pop(),r=e.reduce(no,null),r&&(t=e.map(function(t){return t.replace(r,"")}).join("\n")),t},Tb=io,Cb=function(t,e){var n;return e?n=t.split("\n").map(function(t,n){return n?e+t:t}).join("\n"):t},Sb='Could not find template for partial "%s"',Eb=function(t){var e,n;e=this.parentFragment=t.parentFragment,this.root=e.root,this.type=tu,this.index=t.index,this.name=t.template.r,this.rendered=!1,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,rm.init(this,t),this.keypath||((n=Tb(this.root,this.name,e))?(jp.call(this),this.isNamed=!0,this.setTemplate(n)):g(Sb,this.name))};Eb.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getPartialName:function(){return this.isNamed&&this.name?this.name:void 0===this.value?this.name:this.value},getValue:function(){return this.fragment.getValue()},rebind:function(t,e){this.isNamed||im.call(this,t,e),this.fragment&&this.fragment.rebind(t,e)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:rm.resolve,setValue:function(t){var e;(void 0===t||t!==this.value)&&(void 0!==t&&(e=Tb(this.root,""+t,this.parentFragment)),!e&&this.name&&(e=Tb(this.root,this.name,this.parentFragment))&&(jp.call(this),this.isNamed=!0),e||g(Sb,this.name,{ractive:this.root}),this.value=t,this.setTemplate(e||[]),this.bubble(),this.rendered&&mc.addView(this))},setTemplate:function(t){this.fragment&&(this.fragment.unbind(),this.rendered&&(this.fragmentToUnrender=this.fragment)),this.fragment=new bw({template:t,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(t){var e,n,i,r;return e=this.fragment.toString(t),n=this.parentFragment.items[this.index-1],n&&n.type===Kh?(i=n.text.split("\n").pop(),(r=/^\s+$/.exec(i))?Cb(e,r[0]):e):e},unbind:function(){this.isNamed||jp.call(this),this.fragment&&this.fragment.unbind()},unrender:function(t){this.rendered&&(this.fragment&&this.fragment.unrender(t),this.rendered=!1)},update:function(){var t,e;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(t=this.parentFragment.getNode(),e=this.parentFragment.findNextNode(this),t.insertBefore(this.docFrag,e))}};var _b,Ab,Ob,$b=Eb,Db=lo,Pb=co,Rb=new nc("detach"),Fb=ho,jb=uo,Ib=fo,Nb=po,Lb=mo,Mb=go,Ub=function(t,e,n,i){var r=t.root,s=t.keypath;i?r.viewmodel.smartUpdate(s,e,i):r.viewmodel.mark(s)},Vb=[],Wb=["pop","push","reverse","shift","sort","splice","unshift"];Wb.forEach(function(t){var e=function(){for(var e=arguments.length,n=Array(e),i=0;e>i;i++)n[i]=arguments[i];var r,s,o,a;for(r=mh(this,t,n),s=Array.prototype[t].apply(this,arguments),mc.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)o=this._ractive.wrappers[a],mc.addRactive(o.root),Ub(o,this,t,r);return mc.end(),this._ractive.setting=!1,s};xl(Vb,t,{value:e})}),_b={},_b.__proto__?(Ab=function(t){t.__proto__=Vb},Ob=function(t){t.__proto__=Array.prototype}):(Ab=function(t){var e,n;for(e=Wb.length;e--;)n=Wb[e],xl(t,n,{value:Vb[n],configurable:!0})},Ob=function(t){var e;for(e=Wb.length;e--;)delete t[Wb[e]]}),Ab.unpatch=Ob;var Bb,Hb,zb,qb=Ab;Bb={filter:function(t){return s(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,n){return new Hb(t,e,n)}},Hb=function(t,e,n){this.root=t,this.value=e,this.keypath=C(n),e._ractive||(xl(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),qb(e)),e._ractive.instances[t._guid]||(e._ractive.instances[t._guid]=0,e._ractive.instances.push(t)),e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)},Hb.prototype={get:function(){return this.value},teardown:function(){var t,e,n,i,r;if(t=this.value,e=t._ractive,n=e.wrappers,i=e.instances,e.setting)return!1;if(r=n.indexOf(this),-1===r)throw Error(zb);if(n.splice(r,1),n.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(r=i.indexOf(this.root),-1===r)throw Error(zb);i.splice(r,1)}}else delete t._ractive,qb.unpatch(this.value)}},zb="Something went wrong in a rather interesting way";var Kb,Qb,Gb=Bb,Zb=/^\s*[0-9]+\s*$/,Xb=function(t){return Zb.test(t)?[]:{}};try{Object.defineProperty({},"test",{value:0}),Kb={filter:function(t,e,n){var i,r;return e?(e=C(e),(i=n.viewmodel.wrapped[e.parent.str])&&!i.magic?!1:(r=n.viewmodel.get(e.parent),s(r)&&/^[0-9]+$/.test(e.lastKey)?!1:r&&("object"==typeof r||"function"==typeof r))):!1},wrap:function(t,e,n){return new Qb(t,e,n)}},Qb=function(t,e,n){var i,r,s;return n=C(n),this.magic=!0,this.ractive=t,this.keypath=n,this.value=e,this.prop=n.lastKey,i=n.parent,this.obj=i.isRoot?t.viewmodel.data:t.viewmodel.get(i),r=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),r&&r.set&&(s=r.set._ractiveWrappers)?void(-1===s.indexOf(this)&&s.push(this)):void vo(this,e,r)},Qb.prototype={get:function(){return this.value},reset:function(t){return this.updating?void 0:(this.updating=!0,this.obj[this.prop]=t,mc.addRactive(this.ractive),this.ractive.viewmodel.mark(this.keypath,{keepExistingWrapper:!0}),this.updating=!1,!0)},set:function(t,e){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=Xb(t),this.updating=!1),this.obj[this.prop][t]=e)},teardown:function(){var t,e,n,i,r;return this.updating?!1:(t=Object.getOwnPropertyDescriptor(this.obj,this.prop),e=t&&t.set,void(e&&(i=e._ractiveWrappers,r=i.indexOf(this),-1!==r&&i.splice(r,1),i.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(Cl){Kb=!1}var Yb,Jb,ty=Kb;ty&&(Yb={filter:function(t,e,n){return ty.filter(t,e,n)&&Gb.filter(t)},wrap:function(t,e,n){return new Jb(t,e,n)}},Jb=function(t,e,n){this.value=e,this.magic=!0,this.magicWrapper=ty.wrap(t,e,n),this.arrayWrapper=Gb.wrap(t,e,n)},Jb.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(t){return this.magicWrapper.reset(t)}});var ey=Yb,ny=bo,iy={},ry=xo,sy=ko,oy=So,ay=$o,ly=Do,cy=function(t,e){this.computation=t,this.viewmodel=t.viewmodel,this.ref=e,this.root=this.viewmodel.ractive,this.parentFragment=this.root.component&&this.root.component.parentFragment};cy.prototype={resolve:function(t){this.computation.softDeps.push(t),this.computation.unresolvedDeps[t.str]=null,this.viewmodel.register(t,this.computation,"computed")}};var hy=cy,uy=function(t,e){this.key=t,this.getter=e.getter,this.setter=e.setter,this.hardDeps=e.deps||[],this.softDeps=[],this.unresolvedDeps={},this.depValues={},this._dirty=this._firstRun=!0};uy.prototype={constructor:uy,init:function(t){var e,n=this;this.viewmodel=t,this.bypass=!0,e=t.get(this.key),t.clearCache(this.key.str),this.bypass=!1,this.setter&&void 0!==e&&this.set(e),this.hardDeps&&this.hardDeps.forEach(function(e){return t.register(e,n,"computed")
})},invalidate:function(){this._dirty=!0},get:function(){var t,e,n=this,i=!1;if(this.getting){var r="The "+this.key.str+" computation indirectly called itself. This probably indicates a bug in the computation. It is commonly caused by `array.sort(...)` - if that's the case, clone the array first with `array.slice().sort(...)`";return p(r),this.value}if(this.getting=!0,this._dirty){if(this._firstRun||!this.hardDeps.length&&!this.softDeps.length?i=!0:[this.hardDeps,this.softDeps].forEach(function(t){var e,r,s;if(!i)for(s=t.length;s--;)if(e=t[s],r=n.viewmodel.get(e),!a(r,n.depValues[e.str]))return n.depValues[e.str]=r,void(i=!0)}),i){this.viewmodel.capture();try{this.value=this.getter()}catch(s){m('Failed to compute "%s"',this.key.str),d(s.stack||s),this.value=void 0}t=this.viewmodel.release(),e=this.updateDependencies(t),e&&[this.hardDeps,this.softDeps].forEach(function(t){t.forEach(function(t){n.depValues[t.str]=n.viewmodel.get(t)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value},set:function(t){if(this.setting)return void(this.value=t);if(!this.setter)throw Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter(t)},updateDependencies:function(t){var e,n,i,r,s;for(n=this.softDeps,e=n.length;e--;)i=n[e],-1===t.indexOf(i)&&(r=!0,this.viewmodel.unregister(i,this,"computed"));for(e=t.length;e--;)i=t[e],-1!==n.indexOf(i)||this.hardDeps&&-1!==this.hardDeps.indexOf(i)||(r=!0,Po(this.viewmodel,i)&&!this.unresolvedDeps[i.str]?(s=new hy(this,i.str),t.splice(e,1),this.unresolvedDeps[i.str]=s,mc.addUnresolved(s)):this.viewmodel.register(i,this,"computed"));return r&&(this.softDeps=t.slice()),r}};var dy=uy,fy=Ro,py={FAILED_LOOKUP:!0},my=Fo,gy={},vy=Io,by=No,yy=function(t,e){this.localKey=t,this.keypath=e.keypath,this.origin=e.origin,this.deps=[],this.unresolved=[],this.resolved=!1};yy.prototype={forceResolution:function(){this.keypath=this.localKey,this.setup()},get:function(t,e){return this.resolved?this.origin.get(this.map(t),e):void 0},getValue:function(){return this.keypath?this.origin.get(this.keypath):void 0},initViewmodel:function(t){this.local=t,this.setup()},map:function(t){return void 0===typeof this.keypath?this.localKey:t.replace(this.localKey,this.keypath)},register:function(t,e,n){this.deps.push({keypath:t,dep:e,group:n}),this.resolved&&this.origin.register(this.map(t),e,n)},resolve:function(t){void 0!==this.keypath&&this.unbind(!0),this.keypath=t,this.setup()},set:function(t,e){this.resolved||this.forceResolution(),this.origin.set(this.map(t),e)},setup:function(){var t=this;void 0!==this.keypath&&(this.resolved=!0,this.deps.length&&(this.deps.forEach(function(e){var n=t.map(e.keypath);if(t.origin.register(n,e.dep,e.group),e.dep.setValue)e.dep.setValue(t.origin.get(n));else{if(!e.dep.invalidate)throw Error("An unexpected error occurred. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");e.dep.invalidate()}}),this.origin.mark(this.keypath)))},setValue:function(t){if(!this.keypath)throw Error("Mapping does not have keypath, cannot set value. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!");this.origin.set(this.keypath,t)},unbind:function(t){var e=this;t||delete this.local.mappings[this.localKey],this.resolved&&(this.deps.forEach(function(t){e.origin.unregister(e.map(t.keypath),t.dep,t.group)}),this.tracker&&this.origin.unregister(this.keypath,this.tracker))},unregister:function(t,e,n){var i,r;if(this.resolved){for(i=this.deps,r=i.length;r--;)if(i[r].dep===e){i.splice(r,1);break}this.origin.unregister(this.map(t),e,n)}}};var wy=Lo,xy=function(t,e){var n,i,r,s;return n={},i=0,r=t.map(function(t,r){var o,a,l;a=i,l=e.length;do{if(o=e.indexOf(t,a),-1===o)return s=!0,-1;a=o+1}while(n[o]&&l>a);return o===i&&(i+=1),o!==r&&(s=!0),n[o]=!0,o})},ky=Mo,Ty={},Cy=Wo,Sy=Ho,Ey=zo,_y=qo,Ay=Qo,Oy={implicit:!0},$y={noCascade:!0},Dy=Zo,Py=Xo,Ry=function(t){var e,n,i=t.adapt,r=t.data,s=t.ractive,o=t.computed,a=t.mappings;this.ractive=s,this.adaptors=i,this.onchange=t.onchange,this.cache={},this.cacheMap=wl(null),this.deps={computed:wl(null),"default":wl(null)},this.depsMap={computed:wl(null),"default":wl(null)},this.patternObservers=[],this.specials=wl(null),this.wrapped=wl(null),this.computations=wl(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={},this.data=r,this.mappings=wl(null);for(e in a)this.map(C(e),a[e]);if(r)for(e in r)(n=this.mappings[e])&&void 0===n.getValue()&&n.setValue(r[e]);for(e in o)a&&e in a&&u("Cannot map to a computed property ('%s')",e),this.compute(C(e),o[e]);this.ready=!0};Ry.prototype={adapt:ny,applyChanges:oy,capture:ay,clearCache:ly,compute:fy,get:my,init:vy,map:by,mark:wy,merge:ky,register:Cy,release:Sy,reset:Ey,set:_y,smartUpdate:Ay,teardown:Dy,unregister:Py};var Fy=Ry;Jo.prototype={constructor:Jo,begin:function(t){this.inProcess[t._guid]=!0},end:function(t){var e=t.parent;e&&this.inProcess[e._guid]?ta(this.queue,e).push(t):ea(this,t),delete this.inProcess[t._guid]}};var jy=Jo,Iy=na,Ny=/\$\{([^\}]+)\}/g,Ly=new nc("construct"),My=new nc("config"),Uy=new jy("init"),Vy=0,Wy=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],By=oa,Hy=ua;ua.prototype={bubble:function(){this.dirty||(this.dirty=!0,mc.addView(this))},update:function(){this.callback(this.fragment.getValue()),this.dirty=!1},rebind:function(t,e){this.fragment.rebind(t,e)},unbind:function(){this.fragment.unbind()}};var zy=function(t,e,n,r,o){var a,l,c,h,u,d,f={},p={},g={},v=[];for(l=t.parentFragment,c=t.root,o=o||{},i(f,o),o.content=r||[],f[""]=o.content,e.defaults.el&&m("The <%s/> component has a default `el` property; it has been disregarded",t.name),h=l;h;){if(h.owner.type===ou){u=h.owner.container;break}h=h.parent}return n&&Object.keys(n).forEach(function(e){var i,r,o=n[e];if("string"==typeof o)i=Sf(o),p[e]=i?i.value:o;else if(0===o)p[e]=!0;else{if(!s(o))throw Error("erm wut");fa(o)?(g[e]={origin:t.root.viewmodel,keypath:void 0},r=da(t,o[0],function(t){t.isSpecial?d?a.set(e,t.value):(p[e]=t.value,delete g[e]):d?a.viewmodel.mappings[e].resolve(t):g[e].keypath=t})):r=new Hy(t,o,function(t){d?a.set(e,t):p[e]=t}),v.push(r)}}),a=wl(e.prototype),By(a,{el:null,append:!0,data:p,partials:o,magic:c.magic||e.defaults.magic,modifyArrays:c.modifyArrays,adapt:c.adapt},{parent:c,component:t,container:u,mappings:g,inlinePartials:f,cssIds:l.cssIds}),d=!0,t.resolvers=v,a},qy=pa,Ky=function(t){var e,n;for(e=t.root;e;)(n=e._liveComponentQueries["_"+t.name])&&n.push(t.instance),e=e.parent},Qy=ga,Gy=va,Zy=ba,Xy=ya,Yy=wa,Jy=new nc("teardown"),tw=ka,ew=function(t,e){this.init(t,e)};ew.prototype={detach:Pb,find:Fb,findAll:jb,findAllComponents:Ib,findComponent:Nb,findNextNode:Lb,firstNode:Mb,init:Qy,rebind:Gy,render:Zy,toString:Xy,unbind:Yy,unrender:tw};var nw=ew,iw=function(t){this.type=eu,this.value=t.template.c};iw.prototype={detach:Pp,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(t){t&&this.node.parentNode.removeChild(this.node)}};var rw=iw,sw=function(t){var e,n;this.type=ou,this.container=e=t.parentFragment.root,this.component=n=e.component,this.container=e,this.containerFragment=t.parentFragment,this.parentFragment=n.parentFragment;var i=this.name=t.template.n||"",r=e._inlinePartials[i];r||(m('Could not find template for partial "'+i+'"',{ractive:t.root}),r=[]),this.fragment=new bw({owner:this,root:e.parent,template:r,pElement:this.containerFragment.pElement}),s(n.yielders[i])?n.yielders[i].push(this):n.yielders[i]=[this],mc.scheduleTask(function(){if(n.yielders[i].length>1)throw Error("A component template can only have one {{yield"+(i?" "+i:"")+"}} declaration at a time")})};sw.prototype={detach:function(){return this.fragment.detach()},find:function(t){return this.fragment.find(t)},findAll:function(t,e){return this.fragment.findAll(t,e)},findComponent:function(t){return this.fragment.findComponent(t)},findAllComponents:function(t,e){return this.fragment.findAllComponents(t,e)},findNextNode:function(){return this.containerFragment.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(t){return this.fragment.getValue(t)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(t){this.fragment.unrender(t),I(this.component.yielders[this.name],this)},rebind:function(t,e){this.fragment.rebind(t,e)},toString:function(){return this.fragment+""}};var ow=sw,aw=function(t){this.declaration=t.template.a};aw.prototype={init:Dl,render:Dl,unrender:Dl,teardown:Dl,toString:function(){return"<!DOCTYPE"+this.declaration+">"}};var lw=aw,cw=Ta,hw=Sa,uw=Ea,dw=_a,fw=$a,pw=Pa,mw=function(t){this.init(t)};mw.prototype={bubble:wp,detach:xp,find:kp,findAll:Tp,findAllComponents:Cp,findComponent:Sp,findNextNode:Ep,firstNode:_p,getArgsList:Op,getNode:$p,getValue:Dp,init:cw,rebind:hw,registerIndexRef:function(t){var e=this.registeredIndexRefs;-1===e.indexOf(t)&&e.push(t)},render:uw,toString:dw,unbind:fw,unregisterIndexRef:function(t){var e=this.registeredIndexRefs;e.splice(e.indexOf(t),1)},unrender:pw};var gw,vw,bw=mw,yw=Ra,ww=["template","partials","components","decorators","events"],xw=new nc("reset"),kw=function(t,e){function n(e,i,r){r&&r.partials[t]||e.forEach(function(e){e.type===tu&&e.getPartialName()===t&&i.push(e),e.fragment&&n(e.fragment.items,i,r),s(e.fragments)?n(e.fragments,i,r):s(e.items)?n(e.items,i,r):e.type===su&&e.instance&&n(e.instance.fragment.items,i,e.instance),e.type===Jh&&(s(e.attributes)&&n(e.attributes,i,r),s(e.conditionalAttributes)&&n(e.conditionalAttributes,i,r))})}var i,r=[];return n(this.fragment.items,r),this.partials[t]=e,i=mc.start(this,!0),r.forEach(function(e){e.value=void 0,e.setValue(t)}),mc.end(),i},Tw=Fa,Cw=vh("reverse"),Sw=ja,Ew=vh("shift"),_w=vh("sort"),Aw=vh("splice"),Ow=Na,$w=La,Dw=new nc("teardown"),Pw=Ua,Rw=Va,Fw=Wa,jw=new nc("unrender"),Iw=vh("unshift"),Nw=Ba,Lw=new nc("update"),Mw=Ha,Uw={add:Zl,animate:xc,detach:Tc,find:Sc,findAll:Fc,findAllComponents:jc,findComponent:Ic,findContainer:Nc,findParent:Lc,fire:Wc,get:Bc,insert:zc,merge:Kc,observe:lh,observeOnce:ch,off:dh,on:fh,once:ph,pop:bh,push:yh,render:Eh,reset:yw,resetPartial:kw,resetTemplate:Tw,reverse:Cw,set:Sw,shift:Ew,sort:_w,splice:Aw,subtract:Ow,teardown:$w,toggle:Pw,toHTML:Rw,toHtml:Rw,unrender:Fw,unshift:Iw,update:Nw,updateModel:Mw},Vw=function(t,e,n){return n||qa(t,e)?function(){var n,i="_super"in this,r=this._super;return this._super=e,n=t.apply(this,arguments),i&&(this._super=r),n}:t},Ww=Ka,Bw=Xa,Hw=function(t){var e,n,i={};return t&&(e=t._ractive)?(i.ractive=e.root,i.keypath=e.keypath.str,i.index={},(n=Hp(e.proxy.parentFragment))&&(i.index=Hp.resolve(n)),i):i};gw=function(t){return this instanceof gw?void By(this,t):new gw(t)},vw={DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:Bw},getNodeInfo:{value:Hw},parse:{value:Gf},Promise:{value:oc},svg:{value:rl},magic:{value:nl},VERSION:{value:"0.7.3"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:cl},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Ml},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},kl(gw,vw),gw.prototype=i(Uw,ll),gw.prototype.constructor=gw,gw.defaults=gw.prototype;var zw="function";if(typeof Date.now!==zw||typeof String.prototype.trim!==zw||typeof Object.keys!==zw||typeof Array.prototype.indexOf!==zw||typeof Array.prototype.forEach!==zw||typeof Array.prototype.map!==zw||typeof Array.prototype.filter!==zw||"undefined"!=typeof window&&typeof window.addEventListener!==zw)throw Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");var qw=gw;return qw}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Ractive.transitions.fly=e()}(this,function(){"use strict";function t(t){return 0===t||"string"==typeof t?t:t+"px"}function e(e,i){var r,s,o,a;i=e.processParams(i,n),r=t(i.x),s=t(i.y),o={transform:"translate("+r+","+s+")",opacity:0},e.isIntro?(a=e.getStyle(["opacity","transform"]),e.setStyle(o)):a=o,e.animateStyle(a,i).then(e.complete)}var n={duration:400,easing:"easeOut",opacity:0,x:-500,y:0};return e}),function(t,e,n){var i={required:"The %s field is required.",matches:"The %s field does not match the %s field.","default":"The %s field is still set to default, please change.",valid_email:"The %s field must contain a valid email address.",valid_emails:"The %s field must contain all valid email addresses.",min_length:"The %s field must be at least %s characters in length.",max_length:"The %s field must not exceed %s characters in length.",exact_length:"The %s field must be exactly %s characters in length.",greater_than:"The %s field must contain a number greater than %s.",less_than:"The %s field must contain a number less than %s.",alpha:"The %s field must only contain alphabetical characters.",alpha_numeric:"The %s field must only contain alpha-numeric characters.",alpha_dash:"The %s field must only contain alpha-numeric characters, underscores, and dashes.",numeric:"The %s field must contain only numbers.",integer:"The %s field must contain an integer.",decimal:"The %s field must contain a decimal number.",is_natural:"The %s field must contain only positive numbers.",is_natural_no_zero:"The %s field must contain a number greater than zero.",valid_ip:"The %s field must contain a valid IP.",valid_base64:"The %s field must contain a base64 string.",valid_credit_card:"The %s field must contain a valid credit card number.",is_file_type:"The %s field must contain only %s files.",valid_url:"The %s field must contain a valid URL.",greater_than_date:"The %s field must contain a more recent date than %s.",less_than_date:"The %s field must contain an older date than %s.",greater_than_or_equal_date:"The %s field must contain a date that's at least as recent as %s.",less_than_or_equal_date:"The %s field must contain a date that's %s or older."},r=function(){},s=/^(.+?)\[(.+)\]$/,o=/^[0-9]+$/,a=/^\-?[0-9]+$/,l=/^\-?[0-9]*\.?[0-9]+$/,c=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,h=/^[a-z]+$/i,u=/^[a-z0-9]+$/i,d=/^[a-z0-9_\-]+$/i,f=/^[0-9]+$/i,p=/^[1-9][0-9]*$/i,m=/^((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){3}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})$/i,g=/[^a-zA-Z0-9\/\+=]/i,v=/^[\d\-\s]+$/,b=/^((http|https):\/\/(\w+:{0,1}\w*@)?(\S+)|)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,y=/\d{4}-\d{1,2}-\d{1,2}/,w=function(t,e,i){for(this.callback=i||r,this.errors=[],this.fields={},this.form=this._formByNameOrNode(t)||{},this.messages={},this.handlers={},this.conditionals={},t=0,i=e.length;i>t;t++){var s=e[t];if((s.name||s.names)&&s.rules)if(s.names)for(var o=0,a=s.names.length;a>o;o++)this._addField(s,s.names[o]);else this._addField(s,s.name);else console.warn("validate.js: The following field is being skipped due to a misconfiguration:"),console.warn(s),console.warn("Check to ensure you have properly configured a name and rules for this field")}var l=this.form.onsubmit;this.form.onsubmit=function(t){return function(e){try{return t._validateForm(e)&&(l===n||l())}catch(i){}}}(this)},x=function(t,e){var n;if(!(t.length>0)||"radio"!==t[0].type&&"checkbox"!==t[0].type)return t[e];for(n=0,elementLength=t.length;elementLength>n;n++)if(t[n].checked)return t[n][e]};w.prototype.setMessage=function(t,e){return this.messages[t]=e,this},w.prototype.registerCallback=function(t,e){return t&&"string"==typeof t&&e&&"function"==typeof e&&(this.handlers[t]=e),this},w.prototype.registerConditional=function(t,e){return t&&"string"==typeof t&&e&&"function"==typeof e&&(this.conditionals[t]=e),this},w.prototype._formByNameOrNode=function(t){return"object"==typeof t?t:e.forms[t]},w.prototype._addField=function(t,e){this.fields[e]={name:e,display:t.display||e,rules:t.rules,depends:t.depends,id:null,element:null,type:null,value:null,checked:null}},w.prototype._validateForm=function(t){this.errors=[];for(var e in this.fields)if(this.fields.hasOwnProperty(e)){var i=this.fields[e]||{},r=this.form[i.name];r&&r!==n&&(i.id=x(r,"id"),i.element=r,i.type=r.length>0?r[0].type:r.type,i.value=x(r,"value"),i.checked=x(r,"checked"),i.depends&&"function"==typeof i.depends?i.depends.call(this,i)&&this._validateField(i):i.depends&&"string"==typeof i.depends&&this.conditionals[i.depends]?this.conditionals[i.depends].call(this,i)&&this._validateField(i):this._validateField(i))}return"function"==typeof this.callback&&this.callback(this.errors,t),this.errors.length>0&&(t&&t.preventDefault?t.preventDefault():event&&(event.returnValue=!1)),!0},w.prototype._validateField=function(t){var e,r,o=t.rules.split("|"),a=t.rules.indexOf("required"),l=!t.value||""===t.value||t.value===n;for(e=0,ruleLength=o.length;ruleLength>e;e++){var c=o[e];r=null;var h=!1,u=s.exec(c);if((-1!==a||-1!==c.indexOf("!callback_")||!l)&&(u&&(c=u[1],r=u[2]),"!"===c.charAt(0)&&(c=c.substring(1,c.length)),"function"==typeof this._hooks[c]?this._hooks[c].apply(this,[t,r])||(h=!0):"callback_"===c.substring(0,9)&&(c=c.substring(9,c.length),"function"==typeof this.handlers[c]&&!1===this.handlers[c].apply(this,[t.value,r,t])&&(h=!0)),h)){u=this.messages[t.name+"."+c]||this.messages[c]||i[c],h="An error has occurred with the "+t.display+" field.",u&&(h=u.replace("%s",t.display),r&&(h=h.replace("%s",this.fields[r]?this.fields[r].display:r)));var d;for(r=0;this.errors.length>r;r+=1)t.id===this.errors[r].id&&(d=this.errors[r]);c=d||{id:t.id,display:t.display,element:t.element,name:t.name,message:h,messages:[],rule:c},c.messages.push(h),d||this.errors.push(c)}}},w.prototype._getValidDate=function(t){if(!t.match("today")&&!t.match(y))return!1;var e=new Date;return t.match("today")||(t=t.split("-"),e.setFullYear(t[0]),e.setMonth(t[1]-1),e.setDate(t[2])),e},w.prototype._hooks={required:function(t){var e=t.value;return"checkbox"===t.type||"radio"===t.type?!0===t.checked:null!==e&&""!==e},"default":function(t,e){return t.value!==e},matches:function(t,e){var n=this.form[e];return n?t.value===n.value:!1},valid_email:function(t){return c.test(t.value)},valid_emails:function(t){t=t.value.split(/\s*,\s*/g);for(var e=0,n=t.length;n>e;e++)if(!c.test(t[e]))return!1;return!0},min_length:function(t,e){return o.test(e)?t.value.length>=parseInt(e,10):!1},max_length:function(t,e){return o.test(e)?parseInt(e,10)>=t.value.length:!1},exact_length:function(t,e){return o.test(e)?t.value.length===parseInt(e,10):!1},greater_than:function(t,e){return l.test(t.value)?parseFloat(t.value)>parseFloat(e):!1},less_than:function(t,e){return l.test(t.value)?parseFloat(e)>parseFloat(t.value):!1},alpha:function(t){return h.test(t.value)},alpha_numeric:function(t){return u.test(t.value)},alpha_dash:function(t){return d.test(t.value)},numeric:function(t){return o.test(t.value)},integer:function(t){return a.test(t.value)},decimal:function(t){return l.test(t.value)},is_natural:function(t){return f.test(t.value)},is_natural_no_zero:function(t){return p.test(t.value)},valid_ip:function(t){return m.test(t.value)},valid_base64:function(t){return g.test(t.value)},valid_url:function(t){return b.test(t.value)},valid_credit_card:function(t){if(!v.test(t.value))return!1;var e=0,n=0,i=!1;t=t.value.replace(/\D/g,"");for(var r=t.length-1;r>=0;r--)n=t.charAt(r),n=parseInt(n,10),i&&(n*=2)>9&&(n-=9),e+=n,i=!i;return 0===e%10},is_file_type:function(t,e){if("file"!==t.type)return!0;var n=t.value.substr(t.value.lastIndexOf(".")+1),i=e.split(","),r=!1,s=0,o=i.length;for(s;o>s;s++)n.toUpperCase()==i[s].toUpperCase()&&(r=!0);return r},greater_than_date:function(t,e){var n=this._getValidDate(t.value),i=this._getValidDate(e);return i&&n?n>i:!1},less_than_date:function(t,e){var n=this._getValidDate(t.value),i=this._getValidDate(e);return i&&n?i>n:!1},greater_than_or_equal_date:function(t,e){var n=this._getValidDate(t.value),i=this._getValidDate(e);return i&&n?n>=i:!1},less_than_or_equal_date:function(t,e){var n=this._getValidDate(t.value),i=this._getValidDate(e);return i&&n?i>=n:!1}},t.FormValidator=w}(window,document),"undefined"!=typeof module&&module.exports&&(module.exports=FormValidator),window.Boxoffice={},window.Boxoffice.Order={config:{baseURL:window.location.origin,order:{method:"GET",urlFor:function(){return window.location.href}},assign:{method:"POST",urlFor:function(t){return Boxoffice.Order.config.baseURL+"/participant/"+t+"/assign"}}},init:function(){$.ajax({url:Boxoffice.Order.config.order.urlFor(),type:Boxoffice.Order.config.order.method,timeout:5e3,retries:5,dataType:"json",retryInterval:5e3,success:function(t){console.log("Order details:",t),window.Boxoffice.Order.view(t)},error:function(t){var e=this;e.retries-=1;var n;t.readyState===4||t.readyState===0&&(0>e.retries?n="Unable to connect. Please write to us at support@hasgeek.com with your order id "+boxoffice.ractive.get("order.order_id")+".":setTimeout(function(){$.ajax(e)},e.retryInterval))}})},view:function(t){var e=this;e.ractive=new Ractive({el:"#boxoffice-order",template:"#boxoffice-ticket-template",data:{order_id:t.order_id,access_token:t.access_token,eventName:t.item_collection_name,line_items:t.line_items,buyer_name:t.buyer_name,buyer_email:t.buyer_email,buyer_phone:t.buyer_phone},scrollTop:function(t){var n=e.ractive.nodes["item-"+t];$("html,body").animate({scrollTop:$(n).offset().top},"300")},viewTicket:function(t,n,i){t.original.preventDefault(),e.ractive.set(n+".toAssign",!1),e.ractive.scrollTop(i)},inputFieldEdit:function(t){t.node.value?t.node.classList.add("filled"):t.node.classList.remove("filled")},assign:function(t,n){t.original.preventDefault();var i=e.ractive.get(n+".assignment");i==="self"&&(e.ractive.set(n+".assignee.fullname",e.ractive.get("buyer_name")),e.ractive.set(n+".assignee.email",e.ractive.get("buyer_email")),e.ractive.set(n+".assignee.phone",e.ractive.get("buyer_phone"))),e.ractive.set(n+".toAssign",!0)},addAttendeDetails:function(t,n,i,r){var s=[{name:"name",rules:"required"},{name:"email",rules:"required|valid_email"},{name:"phone",rules:"required|max_length[16]|callback_validate_phone"}],o="attendee-form-"+i,a=new FormValidator(o,s,function(t,s){s.preventDefault(),t.length>0?(console.log("Form validation errors",t[0].message),e.ractive.set(n+".errorMsg",t[0].message)):(e.ractive.set(n+".errorMsg",""),e.ractive.set(n+".assigningTicket",!0),e.ractive.sendAttendeDetails(n,i,r))});a.registerCallback("validate_phone",function(t){var e=/^\+[0-9]+$/;return t.match(e)?t.indexOf("+91")===0&&t.length!=13?(a.setMessage("validate_phone","This does not appear to be a valid Indian mobile number"),!1):void 0:(a.setMessage("validate_phone","Phone number must be in international format with a leading + symbol"),!1)})},sendAttendeDetails:function(t,n,i){for(var r="attendee-details-"+n,s=$("#"+r).serializeArray(),o={},a=0;s.length>a;a++)s[a].value&&(o[s[a].name]=s[a].value);o.email=e.ractive.get(t+".assignee.email"),console.log("Sending participant details to server:",o,i),url=Boxoffice.Order.config.assign.urlFor(e.ractive.get("order_id")),console.log("url",url),$.ajax({url:Boxoffice.Order.config.assign.urlFor(e.ractive.get("order_id")),type:Boxoffice.Order.config.assign.method,contentType:"application/json",data:JSON.stringify({attendee:o,line_item_id:i}),timeout:5e3,retries:5,retryInterval:5e3,complete:function(){e.ractive.set(t+".assigningTicket",!1),e.ractive.set(t+".toAssign",!1),e.ractive.set(t+".isTicketAssigned",!0),e.ractive.scrollTop(n)},error:function(n){var i=this;i.retries-=1,n.readyState===4?(e.ractive.set(t+".errorMsg","Server error"),e.ractive.set(t+".assigningTicket",!1)):n.readyState===0&&(0>i.retries?(e.ractive.set(t+".errorMsg","Unable to connect. Please try again later."),e.ractive.set(t+".assigningTicket",!1)):setTimeout(function(){$.post(i)},i.retryInterval))}})}})}},$(function(){Ractive.DEBUG=!1,window.Boxoffice.Order.init()});